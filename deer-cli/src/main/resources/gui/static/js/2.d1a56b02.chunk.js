(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(68)},function(t,e,n){t.exports=n(80)()},function(t,e,n){"use strict";n.d(e,"l",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return c}),n.d(e,"k",function(){return p}),n.d(e,"n",function(){return d}),n.d(e,"m",function(){return g}),n.d(e,"c",function(){return v}),n.d(e,"a",function(){return _}),n.d(e,"b",function(){return m}),n.d(e,"h",function(){return y}),n.d(e,"d",function(){return b}),n.d(e,"f",function(){return x});n(63);var r,i=n(1),o=n.n(i);function s(t){document.body.style.paddingRight=t>0?t+"px":null}function a(){var t=window.getComputedStyle(document.body,null);return parseInt(t&&t.getPropertyValue("padding-right")||0,10)}function u(){var t=function(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}(),e=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=e?parseInt(e.style.paddingRight||0,10):0;document.body.clientWidth<window.innerWidth&&s(n+t)}function l(t,e){return void 0===t&&(t=""),void 0===e&&(e=r),e?t.split(" ").map(function(t){return e[t]||t}).join(" "):t}function c(t,e){var n={};return Object.keys(t).forEach(function(r){-1===e.indexOf(r)&&(n[r]=t[r])}),n}function p(t,e){for(var n,r=Array.isArray(e)?e:[e],i=r.length,o={};i>0;)o[n=r[i-=1]]=t[n];return o}var h={};function d(t){h[t]||("undefined"!==typeof console&&console.error(t),h[t]=!0)}var f="object"===typeof window&&window.Element||function(){};o.a.oneOfType([o.a.string,o.a.func,function(t,e,n){if(!(t[e]instanceof f))return new Error("Invalid prop `"+e+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},o.a.shape({current:o.a.any})]);var g=o.a.oneOfType([o.a.func,o.a.string,o.a.shape({$$typeof:o.a.symbol,render:o.a.func}),o.a.arrayOf(o.a.oneOfType([o.a.func,o.a.string,o.a.shape({$$typeof:o.a.symbol,render:o.a.func})]))]),v={Fade:150,Collapse:350,Modal:300,Carousel:600},_=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],m={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},y={esc:27,space:32,enter:13,tab:9,up:38,down:40,home:36,end:35,n:78,p:80},b=!("undefined"===typeof window||!window.document||!window.document.createElement);var x=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var s=i.apply(null,r);s&&t.push(s)}else if("object"===o)for(var a in r)n.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(3);function o(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?Object(i.a)(t):e}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",o="http://www.w3.org/2000/10/swap/";e.a={xsd:{decimal:i+"decimal",boolean:i+"boolean",double:i+"double",integer:i+"integer",string:i+"string"},rdf:{type:r+"type",nil:r+"nil",first:r+"first",rest:r+"rest",langString:r+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:o+"reify#forSome",forAll:o+"reify#forAll"},log:{implies:o+"log#implies"}}},function(t,e,n){},,function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(69)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(12);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){Object(r.a)(t,e,n[e])})}return t}},function(t,e,n){"use strict";var r=!0,i="Invariant failed";e.a=function(t,e){if(!t){if(r)throw new Error(i);throw new Error(i+": "+(e||""))}}},function(t,e,n){"use strict";var r=n(4);function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],s=t&&i(t),a=e&&i(e),u=s||a;if(t&&i(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var l=void 0;if(r.length){var c=r[r.length-1];l="."===c||".."===c||""===c}else l=!1;for(var p=0,h=r.length;h>=0;h--){var d=r[h];"."===d?o(r,h):".."===d?(o(r,h),p++):p&&(o(r,h),p--)}if(!u)for(;p--;p)r.unshift("..");!u||""===r[0]||r[0]&&i(r[0])||r.unshift("");var f=r.join("/");return l&&"/"!==f.substr(-1)&&(f+="/"),f},a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var u=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every(function(e,r){return t(e,n[r])});var r="undefined"===typeof e?"undefined":a(e);if(r!==("undefined"===typeof n?"undefined":a(n)))return!1;if("object"===r){var i=e.valueOf(),o=n.valueOf();if(i!==e||o!==n)return t(i,o);var s=Object.keys(e),u=Object.keys(n);return s.length===u.length&&s.every(function(r){return t(e[r],n[r])})}return!1},l=n(20);function c(t){return"/"===t.charAt(0)?t:"/"+t}function p(t,e){return function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)}(t,e)?t.substr(e.length):t}function h(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function d(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function f(t,e,n,i){var o;"string"===typeof t?(o=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=Object(r.a)({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function v(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter(function(t){return t!==r})}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach(function(t){return t.apply(void 0,n)})}}}n.d(e,"a",function(){return E}),n.d(e,"c",function(){return T}),n.d(e,"b",function(){return f}),n.d(e,"e",function(){return g}),n.d(e,"d",function(){return d});var _=!("undefined"===typeof window||!window.document||!window.document.createElement);function m(t,e){e(window.confirm(t))}var y="popstate",b="hashchange";function x(){try{return window.history.state||{}}catch(t){return{}}}function E(t){void 0===t&&(t={}),_||Object(l.a)(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,s=o.forceRefresh,a=void 0!==s&&s,u=o.getUserConfirmation,g=void 0===u?m:u,E=o.keyLength,w=void 0===E?6:E,T=t.basename?h(c(t.basename)):"";function O(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=p(o,T)),f(o,r,n)}function C(){return Math.random().toString(36).substr(2,w)}var S=v();function k(t){Object(r.a)(z,t),z.length=e.length,S.notifyListeners(z.location,z.action)}function I(t){(function(t){void 0===t.state&&navigator.userAgent.indexOf("CriOS")})(t)||D(O(t.state))}function A(){D(O(x()))}var N=!1;function D(t){if(N)N=!1,k();else{S.confirmTransitionTo(t,"POP",g,function(e){e?k({action:"POP",location:t}):function(t){var e=z.location,n=P.indexOf(e.key);-1===n&&(n=0);var r=P.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,M(i))}(t)})}}var R=O(x()),P=[R.key];function L(t){return T+d(t)}function M(t){e.go(t)}var F=0;function j(t){1===(F+=t)&&1===t?(window.addEventListener(y,I),i&&window.addEventListener(b,A)):0===F&&(window.removeEventListener(y,I),i&&window.removeEventListener(b,A))}var B=!1;var z={length:e.length,action:"POP",location:R,createHref:L,push:function(t,r){var i=f(t,r,C(),z.location);S.confirmTransitionTo(i,"PUSH",g,function(t){if(t){var r=L(i),o=i.key,s=i.state;if(n)if(e.pushState({key:o,state:s},null,r),a)window.location.href=r;else{var u=P.indexOf(z.location.key),l=P.slice(0,-1===u?0:u+1);l.push(i.key),P=l,k({action:"PUSH",location:i})}else window.location.href=r}})},replace:function(t,r){var i=f(t,r,C(),z.location);S.confirmTransitionTo(i,"REPLACE",g,function(t){if(t){var r=L(i),o=i.key,s=i.state;if(n)if(e.replaceState({key:o,state:s},null,r),a)window.location.replace(r);else{var u=P.indexOf(z.location.key);-1!==u&&(P[u]=i.key),k({action:"REPLACE",location:i})}else window.location.replace(r)}})},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(t){void 0===t&&(t=!1);var e=S.setPrompt(t);return B||(j(1),B=!0),function(){return B&&(B=!1,j(-1)),e()}},listen:function(t){var e=S.appendListener(t);return j(1),function(){j(-1),e()}}};return z}function w(t,e,n){return Math.min(Math.max(t,e),n)}function T(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,s=e.initialIndex,a=void 0===s?0:s,u=e.keyLength,l=void 0===u?6:u,c=v();function p(t){Object(r.a)(b,t),b.length=b.entries.length,c.notifyListeners(b.location,b.action)}function h(){return Math.random().toString(36).substr(2,l)}var g=w(a,0,o.length-1),_=o.map(function(t){return f(t,void 0,"string"===typeof t?h():t.key||h())}),m=d;function y(t){var e=w(b.index+t,0,b.entries.length-1),r=b.entries[e];c.confirmTransitionTo(r,"POP",n,function(t){t?p({action:"POP",location:r,index:e}):p()})}var b={length:_.length,action:"POP",location:_[g],index:g,entries:_,createHref:m,push:function(t,e){var r=f(t,e,h(),b.location);c.confirmTransitionTo(r,"PUSH",n,function(t){if(t){var e=b.index+1,n=b.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),p({action:"PUSH",location:r,index:e,entries:n})}})},replace:function(t,e){var r=f(t,e,h(),b.location);c.confirmTransitionTo(r,"REPLACE",n,function(t){t&&(b.entries[b.index]=r,p({action:"REPLACE",location:r}))})},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(t){var e=b.index+t;return e>=0&&e<b.entries.length},block:function(t){return void 0===t&&(t=!1),c.setPrompt(t)},listen:function(t){return c.appendListener(t)}};return b}},function(t,e,n){"use strict";var r=n(0),i=n.n(r);function o(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var s=function(t,e){var n;void 0===e&&(e=o);var r,i=[],s=!1;return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return s&&n===this&&e(o,i)?r:(r=t.apply(this,o),s=!0,n=this,i=o,r)}},a=n(35),u=n.n(a);var l=function(){function t(t){this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.before=null}var e=t.prototype;return e.insert=function(t){if(this.ctr%(this.isSpeedy?65e3:1)===0){var e,n=function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e}(this);e=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,e),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(r);try{var o=105===t.charCodeAt(1)&&64===t.charCodeAt(0);i.insertRule(t,o?0:i.cssRules.length)}catch(s){0}}else r.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach(function(t){return t.parentNode.removeChild(t)}),this.tags=[],this.ctr=0},t}();var c=function(t){function e(t,e,r){var i=e.trim().split(f);e=i;var o=i.length,s=t.length;switch(s){case 0:case 1:var a=0;for(t=0===s?"":t[0]+" ";a<o;++a)e[a]=n(t,e[a],r).trim();break;default:var u=a=0;for(e=[];a<o;++a)for(var l=0;l<s;++l)e[u++]=n(t[l]+" ",i[a],r).trim()}return e}function n(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(g,"$1"+t.trim());case 58:return t.trim()+e.replace(g,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(g,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,o){var s=t+";",a=2*e+3*n+4*o;if(944===a){t=s.indexOf(":",9)+1;var u=s.substring(t,s.length-1).trim();return u=s.substring(0,t).trim()+u+";",1===I||2===I&&i(u,1)?"-webkit-"+u+u:u}if(0===I||2===I&&!i(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(O,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(u=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+u+s;case 1005:return h.test(s)?s.replace(p,":-webkit-")+s.replace(p,":-moz-")+s:s;case 1e3:switch(e=(u=s.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=s.replace(y,"tb");break;case 232:u=s.replace(y,"tb-rl");break;case 220:u=s.replace(y,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+u+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(e=(s=t).length-10,a=(u=(33===s.charCodeAt(e)?s.substring(0,e):s).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:s=s.replace(u,"-webkit-"+u)+";"+s;break;case 207:case 102:s=s.replace(u,"-webkit-"+(102<a?"inline-":"")+"box")+";"+s.replace(u,"-webkit-"+u)+";"+s.replace(u,"-ms-"+u+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return u=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+u+"-ms-flex-"+u+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(E,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(E,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===T.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,o).replace(":fill-available",":stretch"):s.replace(u,"-webkit-"+u)+s.replace(u,"-moz-"+u.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+o&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+s}return s}function i(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),R(2!==e?r:r.replace(w,"$1"),n,e)}function o(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(x," or ($1)").substring(4):"("+e+")"}function s(t,e,n,r,i,o,s,a,l,c){for(var p,h=0,d=e;h<D;++h)switch(p=N[h].call(u,t,d,n,r,i,o,s,a,l,c)){case void 0:case!1:case!0:case null:break;default:d=p}if(d!==e)return d}function a(t){return void 0!==(t=t.prefix)&&(R=null,t?"function"!==typeof t?I=1:(I=2,R=t):I=0),a}function u(t,n){var a=t;if(33>a.charCodeAt(0)&&(a=a.trim()),a=[a],0<D){var u=s(-1,n,a,a,S,C,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var p=function t(n,a,u,p,h){for(var d,f,g,y,x,E=0,w=0,T=0,O=0,N=0,R=0,L=g=d=0,M=0,F=0,j=0,B=0,z=u.length,G=z-1,U="",H="",W="",V="";M<z;){if(f=u.charCodeAt(M),M===G&&0!==w+O+T+E&&(0!==w&&(f=47===w?10:47),O=T=E=0,z++,G++),0===w+O+T+E){if(M===G&&(0<F&&(U=U.replace(c,"")),0<U.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:U+=u.charAt(M)}f=59}switch(f){case 123:for(d=(U=U.trim()).charCodeAt(0),g=1,B=++M;M<z;){switch(f=u.charCodeAt(M)){case 123:g++;break;case 125:g--;break;case 47:switch(f=u.charCodeAt(M+1)){case 42:case 47:t:{for(L=M+1;L<G;++L)switch(u.charCodeAt(L)){case 47:if(42===f&&42===u.charCodeAt(L-1)&&M+2!==L){M=L+1;break t}break;case 10:if(47===f){M=L+1;break t}}M=L}}break;case 91:f++;case 40:f++;case 34:case 39:for(;M++<G&&u.charCodeAt(M)!==f;);}if(0===g)break;M++}switch(g=u.substring(B,M),0===d&&(d=(U=U.replace(l,"").trim()).charCodeAt(0)),d){case 64:switch(0<F&&(U=U.replace(c,"")),f=U.charCodeAt(1)){case 100:case 109:case 115:case 45:F=a;break;default:F=A}if(B=(g=t(a,F,g,f,h+1)).length,0<D&&(x=s(3,g,F=e(A,U,j),a,S,C,B,f,h,p),U=F.join(""),void 0!==x&&0===(B=(g=x.trim()).length)&&(f=0,g="")),0<B)switch(f){case 115:U=U.replace(b,o);case 100:case 109:case 45:g=U+"{"+g+"}";break;case 107:g=(U=U.replace(v,"$1 $2"))+"{"+g+"}",g=1===I||2===I&&i("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=U+g,112===p&&(H+=g,g="")}else g="";break;default:g=t(a,e(a,U,j),g,p,h+1)}W+=g,g=j=F=L=d=0,U="",f=u.charCodeAt(++M);break;case 125:case 59:if(1<(B=(U=(0<F?U.replace(c,""):U).trim()).length))switch(0===L&&(d=U.charCodeAt(0),45===d||96<d&&123>d)&&(B=(U=U.replace(" ",":")).length),0<D&&void 0!==(x=s(1,U,a,n,S,C,H.length,p,h,p))&&0===(B=(U=x.trim()).length)&&(U="\0\0"),d=U.charCodeAt(0),f=U.charCodeAt(1),d){case 0:break;case 64:if(105===f||99===f){V+=U+u.charAt(M);break}default:58!==U.charCodeAt(B-1)&&(H+=r(U,d,f,U.charCodeAt(2)))}j=F=L=d=0,U="",f=u.charCodeAt(++M)}}switch(f){case 13:case 10:47===w?w=0:0===1+d&&107!==p&&0<U.length&&(F=1,U+="\0"),0<D*P&&s(0,U,a,n,S,C,H.length,p,h,p),C=1,S++;break;case 59:case 125:if(0===w+O+T+E){C++;break}default:switch(C++,y=u.charAt(M),f){case 9:case 32:if(0===O+E+w)switch(N){case 44:case 58:case 9:case 32:y="";break;default:32!==f&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===O+w+E&&(F=j=1,y="\f"+y);break;case 108:if(0===O+w+E+k&&0<L)switch(M-L){case 2:112===N&&58===u.charCodeAt(M-3)&&(k=N);case 8:111===R&&(k=R)}break;case 58:0===O+w+E&&(L=M);break;case 44:0===w+T+O+E&&(F=1,y+="\r");break;case 34:case 39:0===w&&(O=O===f?0:0===O?f:O);break;case 91:0===O+w+T&&E++;break;case 93:0===O+w+T&&E--;break;case 41:0===O+w+E&&T--;break;case 40:if(0===O+w+E){if(0===d)switch(2*N+3*R){case 533:break;default:d=1}T++}break;case 64:0===w+T+O+E+L+g&&(g=1);break;case 42:case 47:if(!(0<O+E+T))switch(w){case 0:switch(2*f+3*u.charCodeAt(M+1)){case 235:w=47;break;case 220:B=M,w=42}break;case 42:47===f&&42===N&&B+2!==M&&(33===u.charCodeAt(B+2)&&(H+=u.substring(B,M+1)),y="",w=0)}}0===w&&(U+=y)}R=N,N=f,M++}if(0<(B=H.length)){if(F=a,0<D&&void 0!==(x=s(2,H,F,n,S,C,B,p,h,p))&&0===(H=x).length)return V+H+W;if(H=F.join(",")+"{"+H+"}",0!==I*k){switch(2!==I||i(H,2)||(k=0),k){case 111:H=H.replace(m,":-moz-$1")+H;break;case 112:H=H.replace(_,"::-webkit-input-$1")+H.replace(_,"::-moz-$1")+H.replace(_,":-ms-input-$1")+H}k=0}}return V+H+W}(A,a,n,0,0);return 0<D&&void 0!==(u=s(-2,p,a,a,S,C,p.length,0,0,0))&&(p=u),k=0,C=S=1,p}var l=/^\0+/g,c=/[\0\r\f]/g,p=/: */g,h=/zoo|gra/,d=/([,: ])(transform)/g,f=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,m=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,E=/-self|flex-/g,w=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,C=1,S=1,k=0,I=1,A=[],N=[],D=0,R=null,P=0;return u.use=function t(e){switch(e){case void 0:case null:D=N.length=0;break;default:if("function"===typeof e)N[D++]=e;else if("object"===typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else P=0|!!e}return t},u.set=a,void 0!==t&&a(t),u};function p(t){t&&h.current.insert(t+"}")}var h={current:null},d=function(t,e,n,r,i,o,s,a,u,l){switch(t){case 1:switch(e.charCodeAt(0)){case 64:return h.current.insert(e+";"),"";case 108:if(98===e.charCodeAt(2))return""}break;case 2:if(0===a)return e+"/*|*/";break;case 3:switch(a){case 102:case 112:return h.current.insert(n[0]+e),"";default:return e+(0===l?"/*|*/":"")}case-2:e.split("/*|*/}").forEach(p)}},f=function(t){void 0===t&&(t={});var e,n=t.key||"css";void 0!==t.prefix&&(e={prefix:t.prefix});var r=new c(e);var i,o={};i=t.container||document.head;var s,a=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(a,function(t){t.getAttribute("data-emotion-"+n).split(" ").forEach(function(t){o[t]=!0}),t.parentNode!==i&&i.appendChild(t)}),r.use(t.stylisPlugins)(d),s=function(t,e,n,i){var o=e.name;h.current=n,r(t,e.styles),i&&(u.inserted[o]=!0)};var u={key:n,sheet:new l({key:n,container:i,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:o,registered:{},insert:s};return u};function g(t,e,n){var r="";return n.split(" ").forEach(function(n){void 0!==t[n]?e.push(t[n]):r+=n+" "}),r}var v=function(t,e,n){var r=t.key+"-"+e.name;if(!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles),void 0===t.inserted[e.name]){var i=e;do{t.insert("."+r,i,t.sheet,!0);i=i.next}while(void 0!==i)}};var _=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},m={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var y=/[A-Z]|^ms/g,b=/_EMO_([^_]+?)_([^]*?)_EMO_/g,x=function(t){return 45===t.charCodeAt(1)},E=function(t){return null!=t&&"boolean"!==typeof t},w=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}(function(t){return x(t)?t:t.replace(y,"-$&").toLowerCase()}),T=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(b,function(t,e,n){return C={name:e,styles:n,next:C},e})}return 1===m[t]||x(t)||"number"!==typeof e||0===e?e:e+"px"};function O(t,e,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return C={name:n.name,styles:n.styles,next:C},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)C={name:i.name,styles:i.styles,next:C},i=i.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=O(t,e,n[i],!1);else for(var o in n){var s=n[o];if("object"!==typeof s)null!=e&&void 0!==e[s]?r+=o+"{"+e[s]+"}":E(s)&&(r+=w(o)+":"+T(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=e&&void 0!==e[s[0]]){var a=O(t,e,s,!1);switch(o){case"animation":case"animationName":r+=w(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var u=0;u<s.length;u++)E(s[u])&&(r+=w(o)+":"+T(o,s[u])+";")}return r}(t,e,n);case"function":if(void 0!==t){var o=C,s=n(t);return C=o,O(t,e,s,r)}break;case"string":}if(null==e)return n;var a=e[n];return void 0===a||r?n:a}var C,S=/label:\s*([^\s;\n{]+)\s*;/g;var k=function(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";C=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=O(n,e,o,!1)):i+=o[0];for(var s=1;s<t.length;s++)i+=O(n,e,t[s],46===i.charCodeAt(i.length-1)),r&&(i+=o[s]);S.lastIndex=0;for(var a,u="";null!==(a=S.exec(i));)u+="-"+a[1];return{name:_(i)+u,styles:i,next:C}};var I=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return k(e)},A=Object(r.createContext)("undefined"!==typeof HTMLElement?f():null),N=Object(r.createContext)({}),D=A.Provider,R=function(t){return Object(r.forwardRef)(function(e,n){return Object(r.createElement)(A.Consumer,null,function(r){return t(e,r,n)})})},P="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",L=Object.prototype.hasOwnProperty,M=function(t,e,n,i){var o=null===n?e.css:e.css(n);"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var s=e[P],a=[o],u="";"string"===typeof e.className?u=g(t.registered,a,e.className):null!=e.className&&(u=e.className+" ");var l=k(a);v(t,l,"string"===typeof s);u+=t.key+"-"+l.name;var c={};for(var p in e)L.call(e,p)&&"css"!==p&&p!==P&&(c[p]=e[p]);return c.ref=i,c.className=u,Object(r.createElement)(s,c)},F=R(function(t,e,n){return"function"===typeof t.css?Object(r.createElement)(N.Consumer,null,function(r){return M(e,t,r,n)}):M(e,t,null,n)});var j=function(t,e){var n=arguments;if(null==e||!L.call(e,"css"))return r.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=F;var s={};for(var a in e)L.call(e,a)&&(s[a]=e[a]);s[P]=t,o[1]=s;for(var u=2;u<i;u++)o[u]=n[u];return r.createElement.apply(null,o)};r.Component;var B=R(function(t,e){return Object(r.createElement)(N.Consumer,null,function(n){var r=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=k(n,e.registered);return v(e,i,!1),e.key+"-"+i.name},i={css:r,cx:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(t,e,n){var r=[],i=g(t,r,n);return r.length<2?n:i+e(r)}(e.registered,r,function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var s=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))s=t(o);else for(var a in s="",o)o[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=o}s&&(i&&(i+=" "),i+=s)}}return i}(n))},theme:n},o=t.children(i);return!0,o})}),z=n(17),G=n(1),U=n.n(G),H=function(){};function W(t,e){return e?"-"===e[0]?t+e:t+"__"+e:t}var V=function(t){return Array.isArray(t)?t.filter(Boolean):"object"===typeof t&&null!==t?[t]:[]};function Y(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function X(t){return Y(t)?window.pageYOffset:t.scrollTop}function q(t,e){Y(t)?window.scrollTo(0,e):t.scrollTop=e}function $(t,e,n,r){void 0===n&&(n=200),void 0===r&&(r=H);var i=X(t),o=e-i,s=10,a=0;!function e(){var u,l=o*((u=(u=a+=s)/n-1)*u*u+1)+i;q(t,l),a<n?window.requestAnimationFrame(e):r(t)}()}function K(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}var Q=n(41),Z=n.n(Q);function J(){return(J=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function et(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,s=t.isFixedPosition,a=t.theme.spacing,u=function(t){var e=getComputedStyle(t),n="absolute"===e.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===e.position)return i;for(var o=t;o=o.parentElement;)if(e=getComputedStyle(o),(!n||"static"!==e.position)&&r.test(e.overflow+e.overflowY+e.overflowX))return o;return i}(n),l={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return l;var c=u.getBoundingClientRect().height,p=n.getBoundingClientRect(),h=p.bottom,d=p.height,f=p.top,g=n.offsetParent.getBoundingClientRect().top,v=window.innerHeight,_=X(u),m=parseInt(getComputedStyle(n).marginBottom,10),y=parseInt(getComputedStyle(n).marginTop,10),b=g-y,x=v-f,E=b+_,w=c-_-f,T=h-v+_+m,O=_+f-y;switch(i){case"auto":case"bottom":if(x>=d)return{placement:"bottom",maxHeight:e};if(w>=d&&!s)return o&&$(u,T,160),{placement:"bottom",maxHeight:e};if(!s&&w>=r||s&&x>=r)return o&&$(u,T,160),{placement:"bottom",maxHeight:s?x-m:w-m};if("auto"===i||s){var C=e,S=s?b:E;return S>=r&&(C=Math.min(S-m-a.controlHeight,e)),{placement:"top",maxHeight:C}}if("bottom"===i)return q(u,T),{placement:"bottom",maxHeight:e};break;case"top":if(b>=d)return{placement:"top",maxHeight:e};if(E>=d&&!s)return o&&$(u,O,160),{placement:"top",maxHeight:e};if(!s&&E>=r||s&&b>=r){var k=e;return(!s&&E>=r||s&&b>=r)&&(k=s?b-y:E-y),o&&$(u,O,160),{placement:"top",maxHeight:k}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'+i+'".')}return l}var nt=function(t){return"auto"===t?"bottom":t},rt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={maxHeight:e.props.maxMenuHeight,placement:null},e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,i=n.maxMenuHeight,o=n.menuPlacement,s=n.menuPosition,a=n.menuShouldScrollIntoView,u=n.theme,l=e.context.getPortalPlacement;if(t){var c="fixed"===s,p=et({maxHeight:i,menuEl:t,minHeight:r,placement:o,shouldScroll:a&&!c,isFixedPosition:c,theme:u});l&&l(p),e.setState(p)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||nt(t);return J({},e.props,{placement:n,maxHeight:e.state.maxHeight})},e}return tt(e,t),e.prototype.render=function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})},e}(r.Component);rt.contextTypes={getPortalPlacement:U.a.func};var it=function(t){var e=t.theme,n=e.spacing.baseUnit;return{color:e.colors.neutral40,padding:2*n+"px "+3*n+"px",textAlign:"center"}},ot=it,st=it,at=function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.innerProps;return j("div",J({css:i("noOptionsMessage",t),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},o),e)};at.defaultProps={children:"No options"};var ut=function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.innerProps;return j("div",J({css:i("loadingMessage",t),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},o),e)};ut.defaultProps={children:"Loading..."};var lt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==nt(e.props.menuPlacement)&&e.setState({placement:n})},e}tt(e,t);var n=e.prototype;return n.getChildContext=function(){return{getPortalPlacement:this.getPortalPlacement}},n.render=function(){var t=this.props,e=t.appendTo,n=t.children,r=t.controlElement,i=t.menuPlacement,o=t.menuPosition,s=t.getStyles,a="fixed"===o;if(!e&&!a||!r)return null;var u=this.state.placement||nt(i),l=function(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}(r),c=a?0:window.pageYOffset,p=l[u]+c,h=j("div",{css:s("menuPortal",{offset:p,position:o,rect:l})},n);return e?Object(z.createPortal)(h,e):h},e}(r.Component);lt.childContextTypes={getPortalPlacement:U.a.func};var ct=Array.isArray,pt=Object.keys,ht=Object.prototype.hasOwnProperty;function dt(t,e){try{return function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var r,i,o,s=ct(e),a=ct(n);if(s&&a){if((i=e.length)!=n.length)return!1;for(r=i;0!==r--;)if(!t(e[r],n[r]))return!1;return!0}if(s!=a)return!1;var u=e instanceof Date,l=n instanceof Date;if(u!=l)return!1;if(u&&l)return e.getTime()==n.getTime();var c=e instanceof RegExp,p=n instanceof RegExp;if(c!=p)return!1;if(c&&p)return e.toString()==n.toString();var h=pt(e);if((i=h.length)!==pt(n).length)return!1;for(r=i;0!==r--;)if(!ht.call(n,h[r]))return!1;for(r=i;0!==r--;)if(("_owner"!==(o=h[r])||!e.$$typeof)&&!t(e[o],n[o]))return!1;return!0}return e!==e&&n!==n}(t,e)}catch(n){if(n.message&&n.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}function ft(){return(ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function gt(){var t=function(t,e){e||(e=t.slice(0));return t.raw=e,t}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]);return gt=function(){return t},t}function vt(){return(vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var _t={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},mt=function(t){var e=t.size,n=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["size"]);return j("svg",vt({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:_t},n))},yt=function(t){return j(mt,vt({size:20},t),j("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},bt=function(t){return j(mt,vt({size:20},t),j("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},xt=function(t){var e=t.isFocused,n=t.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:e?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:e?i.neutral80:i.neutral40}}},Et=xt,wt=xt,Tt=function(){var t=I.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(gt()),Ot=function(t){var e=t.delay,n=t.offset;return j("span",{css:I({animation:Tt+" 1s ease-in-out "+e+"ms infinite;",backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},Ct=function(t){var e=t.className,n=t.cx,r=t.getStyles,i=t.innerProps,o=t.isRtl;return j("div",vt({},i,{css:r("loadingIndicator",t),className:n({indicator:!0,"loading-indicator":!0},e)}),j(Ot,{delay:0,offset:o}),j(Ot,{delay:160,offset:!0}),j(Ot,{delay:320,offset:!o}))};function St(){return(St=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Ct.defaultProps={size:4};function kt(){return(kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function It(){return(It=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var At=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}};function Nt(){return(Nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Dt=function(t){var e=t.children,n=t.innerProps;return j("div",n,e)},Rt=Dt,Pt=Dt;var Lt=function(t){var e=t.children,n=t.className,r=t.components,i=t.cx,o=t.data,s=t.getStyles,a=t.innerProps,u=t.isDisabled,l=t.removeProps,c=t.selectProps,p=r.Container,h=r.Label,d=r.Remove;return j(B,null,function(r){var f=r.css,g=r.cx;return j(p,{data:o,innerProps:Nt({},a,{className:g(f(s("multiValue",t)),i({"multi-value":!0,"multi-value--is-disabled":u},n))}),selectProps:c},j(h,{data:o,innerProps:{className:g(f(s("multiValueLabel",t)),i({"multi-value__label":!0},n))},selectProps:c},e),j(d,{data:o,innerProps:Nt({className:g(f(s("multiValueRemove",t)),i({"multi-value__remove":!0},n))},l),selectProps:c}))})};function Mt(){return(Mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Lt.defaultProps={cropWithEllipsis:!0};function Ft(){return(Ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function jt(){return(jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Bt(){return(Bt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var zt={ClearIndicator:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.innerProps;return j("div",vt({},o,{css:i("clearIndicator",t),className:r({indicator:!0,"clear-indicator":!0},n)}),e||j(yt,null))},Control:function(t){var e=t.children,n=t.cx,r=t.getStyles,i=t.className,o=t.isDisabled,s=t.isFocused,a=t.innerRef,u=t.innerProps,l=t.menuIsOpen;return j("div",St({ref:a,css:r("control",t),className:n({control:!0,"control--is-disabled":o,"control--is-focused":s,"control--menu-is-open":l},i)},u),e)},DropdownIndicator:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.innerProps;return j("div",vt({},o,{css:i("dropdownIndicator",t),className:r({indicator:!0,"dropdown-indicator":!0},n)}),e||j(bt,null))},DownChevron:bt,CrossIcon:yt,Group:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.Heading,s=t.headingProps,a=t.label,u=t.theme,l=t.selectProps;return j("div",{css:i("group",t),className:r({group:!0},n)},j(o,kt({},s,{selectProps:l,theme:u,getStyles:i,cx:r}),a),j("div",null,e))},GroupHeading:function(t){var e=t.className,n=t.cx,r=t.getStyles,i=t.theme,o=(t.selectProps,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["className","cx","getStyles","theme","selectProps"]));return j("div",kt({css:r("groupHeading",kt({theme:i},o)),className:n({"group-heading":!0},e)},o))},IndicatorsContainer:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles;return j("div",{css:i("indicatorsContainer",t),className:r({indicators:!0},n)},e)},IndicatorSeparator:function(t){var e=t.className,n=t.cx,r=t.getStyles,i=t.innerProps;return j("span",vt({},i,{css:r("indicatorSeparator",t),className:n({"indicator-separator":!0},e)}))},Input:function(t){var e=t.className,n=t.cx,r=t.getStyles,i=t.innerRef,o=t.isHidden,s=t.isDisabled,a=t.theme,u=(t.selectProps,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return j("div",{css:r("input",It({theme:a},u))},j(Z.a,It({className:n({input:!0},e),inputRef:i,inputStyle:At(o),disabled:s},u)))},LoadingIndicator:Ct,Menu:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.innerRef,s=t.innerProps;return j("div",J({css:i("menu",t),className:r({menu:!0},n)},s,{ref:o}),e)},MenuList:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.isMulti,s=t.innerRef;return j("div",{css:i("menuList",t),className:r({"menu-list":!0,"menu-list--is-multi":o},n),ref:s},e)},MenuPortal:lt,LoadingMessage:ut,NoOptionsMessage:at,MultiValue:Lt,MultiValueContainer:Rt,MultiValueLabel:Pt,MultiValueRemove:function(t){var e=t.children,n=t.innerProps;return j("div",n,e||j(yt,{size:14}))},Option:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.isDisabled,s=t.isFocused,a=t.isSelected,u=t.innerRef,l=t.innerProps;return j("div",Mt({css:i("option",t),className:r({option:!0,"option--is-disabled":o,"option--is-focused":s,"option--is-selected":a},n),ref:u},l),e)},Placeholder:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.innerProps;return j("div",Ft({css:i("placeholder",t),className:r({placeholder:!0},n)},o),e)},SelectContainer:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.innerProps,s=t.isDisabled,a=t.isRtl;return j("div",ft({css:i("container",t),className:r({"--is-disabled":s,"--is-rtl":a},n)},o),e)},SingleValue:function(t){var e=t.children,n=t.className,r=t.cx,i=t.getStyles,o=t.isDisabled,s=t.innerProps;return j("div",jt({css:i("singleValue",t),className:r({"single-value":!0,"single-value--is-disabled":o},n)},s),e)},ValueContainer:function(t){var e=t.children,n=t.className,r=t.cx,i=t.isMulti,o=t.getStyles,s=t.hasValue;return j("div",{css:o("valueContainer",t),className:r({"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s},n)},e)}},Gt=function(t){return Bt({},zt,t.components)},Ut=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],Ht=function(t){for(var e=0;e<Ut.length;e++)t=t.replace(Ut[e].letters,Ut[e].base);return t};function Wt(){return(Wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Vt=function(t){return t.replace(/^\s+|\s+$/g,"")},Yt=function(t){return t.label+" "+t.value};function Xt(){return(Xt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var qt={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},$t=function(t){return j("span",Xt({css:qt},t))};function Kt(){return(Kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Qt(t){t.in,t.out,t.onExited,t.appear,t.enter,t.exit;var e=t.innerRef,n=(t.emotion,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return j("input",Kt({ref:e},n,{css:I({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}var Zt=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this.props.innerRef(Object(z.findDOMNode)(this))},i.componentWillUnmount=function(){this.props.innerRef(null)},i.render=function(){return this.props.children},r}(r.Component),Jt=["boxSizing","height","overflow","paddingRight","position"],te={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ee(t){t.preventDefault()}function ne(t){t.stopPropagation()}function re(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;0===t?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function ie(){return"ontouchstart"in window||navigator.maxTouchPoints}var oe=!(!window.document||!window.document.createElement),se=0,ae=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).originalStyles={},e.listenerOptions={capture:!1,passive:!1},e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var t=this;if(oe){var e=this.props,n=e.accountForScrollbars,r=e.touchScrollTarget,i=document.body,o=i&&i.style;if(n&&Jt.forEach(function(e){var n=o&&o[e];t.originalStyles[e]=n}),n&&se<1){var s=parseInt(this.originalStyles.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,u=window.innerWidth-a+s||0;Object.keys(te).forEach(function(t){var e=te[t];o&&(o[t]=e)}),o&&(o.paddingRight=u+"px")}i&&ie()&&(i.addEventListener("touchmove",ee,this.listenerOptions),r&&(r.addEventListener("touchstart",re,this.listenerOptions),r.addEventListener("touchmove",ne,this.listenerOptions))),se+=1}},i.componentWillUnmount=function(){var t=this;if(oe){var e=this.props,n=e.accountForScrollbars,r=e.touchScrollTarget,i=document.body,o=i&&i.style;se=Math.max(se-1,0),n&&se<1&&Jt.forEach(function(e){var n=t.originalStyles[e];o&&(o[e]=n)}),i&&ie()&&(i.removeEventListener("touchmove",ee,this.listenerOptions),r&&(r.removeEventListener("touchstart",re,this.listenerOptions),r.removeEventListener("touchmove",ne,this.listenerOptions)))}},i.render=function(){return null},r}(r.Component);ae.defaultProps={accountForScrollbars:!0};var ue={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},le=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={touchScrollTarget:null},e.getScrollTarget=function(t){t!==e.state.touchScrollTarget&&e.setState({touchScrollTarget:t})},e.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.render=function(){var t=this.props,e=t.children,n=t.isEnabled,r=this.state.touchScrollTarget;return n?j("div",null,j("div",{onClick:this.blurSelectInput,css:ue}),j(Zt,{innerRef:this.getScrollTarget},e),r?j(ae,{touchScrollTarget:r}):null):e},r}(r.PureComponent);var ce=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).isBottom=!1,e.isTop=!1,e.scrollTarget=void 0,e.touchStart=void 0,e.cancelScroll=function(t){t.preventDefault(),t.stopPropagation()},e.handleEventDelta=function(t,n){var r=e.props,i=r.onBottomArrive,o=r.onBottomLeave,s=r.onTopArrive,a=r.onTopLeave,u=e.scrollTarget,l=u.scrollTop,c=u.scrollHeight,p=u.clientHeight,h=e.scrollTarget,d=n>0,f=c-p-l,g=!1;f>n&&e.isBottom&&(o&&o(t),e.isBottom=!1),d&&e.isTop&&(a&&a(t),e.isTop=!1),d&&n>f?(i&&!e.isBottom&&i(t),h.scrollTop=c,g=!0,e.isBottom=!0):!d&&-n>l&&(s&&!e.isTop&&s(t),h.scrollTop=0,g=!0,e.isTop=!0),g&&e.cancelScroll(t)},e.onWheel=function(t){e.handleEventDelta(t,t.deltaY)},e.onTouchStart=function(t){e.touchStart=t.changedTouches[0].clientY},e.onTouchMove=function(t){var n=e.touchStart-t.changedTouches[0].clientY;e.handleEventDelta(t,n)},e.getScrollTarget=function(t){e.scrollTarget=t},e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.startListening(this.scrollTarget)},o.componentWillUnmount=function(){this.stopListening(this.scrollTarget)},o.startListening=function(t){t&&("function"===typeof t.addEventListener&&t.addEventListener("wheel",this.onWheel,!1),"function"===typeof t.addEventListener&&t.addEventListener("touchstart",this.onTouchStart,!1),"function"===typeof t.addEventListener&&t.addEventListener("touchmove",this.onTouchMove,!1))},o.stopListening=function(t){"function"===typeof t.removeEventListener&&t.removeEventListener("wheel",this.onWheel,!1),"function"===typeof t.removeEventListener&&t.removeEventListener("touchstart",this.onTouchStart,!1),"function"===typeof t.removeEventListener&&t.removeEventListener("touchmove",this.onTouchMove,!1)},o.render=function(){return i.a.createElement(Zt,{innerRef:this.getScrollTarget},this.props.children)},r}(r.Component);function pe(t){var e=t.isEnabled,n=void 0===e||e,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["isEnabled"]);return n?i.a.createElement(ce,r):r.children}var he=function(t,e){void 0===e&&(e={});var n=e,r=n.isSearchable,i=n.isMulti,o=n.label,s=n.isDisabled;switch(t){case"menu":return"Use Up and Down to choose options"+(s?"":", press Enter to select the currently focused option")+", press Escape to exit the menu, press Tab to select the option and exit the menu.";case"input":return(o||"Select")+" is focused "+(r?",type to refine list":"")+", press Down to open the menu, "+(i?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},de=function(t,e){var n=e.value,r=e.isDisabled;if(n)switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option "+n+", deselected.";case"select-option":return r?"option "+n+" is disabled. Select another option.":"option "+n+", selected."}},fe=function(t){return!!t.isDisabled};var ge={clearIndicator:wt,container:function(t){var e=t.isDisabled;return{label:"container",direction:t.isRtl?"rtl":null,pointerEvents:e?"none":null,position:"relative"}},control:function(t){var e=t.isDisabled,n=t.isFocused,r=t.theme,i=r.colors,o=r.borderRadius,s=r.spacing;return{label:"control",alignItems:"center",backgroundColor:e?i.neutral5:i.neutral0,borderColor:e?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px "+i.primary:null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:Et,group:function(t){var e=t.theme.spacing;return{paddingBottom:2*e.baseUnit,paddingTop:2*e.baseUnit}},groupHeading:function(t){var e=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*e.baseUnit,paddingRight:3*e.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(t){var e=t.isDisabled,n=t.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:e?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(t){var e=t.isDisabled,n=t.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:e?"hidden":"visible",color:i.neutral80}},loadingIndicator:function(t){var e=t.isFocused,n=t.size,r=t.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:e?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:st,menu:function(t){var e,n=t.placement,r=t.theme,i=r.borderRadius,o=r.spacing,s=r.colors;return(e={label:"menu"})[function(t){return t?{bottom:"top",top:"bottom"}[t]:"bottom"}(n)]="100%",e.backgroundColor=s.neutral0,e.borderRadius=i,e.boxShadow="0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",e.marginBottom=o.menuGutter,e.marginTop=o.menuGutter,e.position="absolute",e.width="100%",e.zIndex=1,e},menuList:function(t){var e=t.maxHeight,n=t.theme.spacing.baseUnit;return{maxHeight:e,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(t){var e=t.rect,n=t.offset,r=t.position;return{left:e.left,position:r,top:n,width:e.width,zIndex:1}},multiValue:function(t){var e=t.theme,n=e.spacing,r=e.borderRadius;return{label:"multiValue",backgroundColor:e.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(t){var e=t.theme,n=e.borderRadius,r=e.colors,i=t.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(t){var e=t.theme,n=e.spacing,r=e.borderRadius,i=e.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:t.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:ot,option:function(t){var e=t.isDisabled,n=t.isFocused,r=t.isSelected,i=t.theme,o=i.spacing,s=i.colors;return{label:"option",backgroundColor:r?s.primary:n?s.primary25:"transparent",color:e?s.neutral20:r?s.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:2*o.baseUnit+"px "+3*o.baseUnit+"px",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!e&&(r?s.primary:s.primary50)}}},placeholder:function(t){var e=t.theme,n=e.spacing;return{label:"placeholder",color:e.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(t){var e=t.isDisabled,n=t.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:e?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - "+2*r.baseUnit+"px)",overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(t){var e=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:e.baseUnit/2+"px "+2*e.baseUnit+"px",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var ve={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}};function _e(){return(_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function me(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ye,be={backspaceRemovesValue:!0,blurInputOnSelect:K(),captureMenuScroll:!K(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(t,e){var n=Wt({ignoreCase:!0,ignoreAccents:!0,stringify:Yt,trim:!0,matchFrom:"any"},ye),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,s=n.trim,a=n.matchFrom,u=s?Vt(e):e,l=s?Vt(o(t)):o(t);return r&&(u=u.toLowerCase(),l=l.toLowerCase()),i&&(u=Ht(u),l=Ht(l)),"start"===a?l.substr(0,u.length)===u:l.indexOf(u)>-1},formatGroupLabel:function(t){return t.label},getOptionLabel:function(t){return t.label},getOptionValue:function(t){return t.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:fe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var e=t.count;return e+" result"+(1!==e?"s":"")+" available"},styles:{},tabIndex:"0",tabSelectsValue:!0},xe=1,Ee=function(t){var e,n;function r(e){var n;(n=t.call(this,e)||this).state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},n.blockOptionHover=!1,n.isComposing=!1,n.clearFocusValueOnUpdate=!1,n.commonProps=void 0,n.components=void 0,n.hasGroups=!1,n.initialTouchX=0,n.initialTouchY=0,n.inputIsHiddenAfterUpdate=void 0,n.instancePrefix="",n.openAfterFocus=!1,n.scrollToFocusedOptionOnUpdate=!1,n.userIsDragging=void 0,n.controlRef=null,n.getControlRef=function(t){n.controlRef=t},n.focusedOptionRef=null,n.getFocusedOptionRef=function(t){n.focusedOptionRef=t},n.menuListRef=null,n.getMenuListRef=function(t){n.menuListRef=t},n.inputRef=null,n.getInputRef=function(t){n.inputRef=t},n.cacheComponents=function(t){n.components=Gt({components:t})},n.focus=n.focusInput,n.blur=n.blurInput,n.onChange=function(t,e){var r=n.props;(0,r.onChange)(t,_e({},e,{name:r.name}))},n.setValue=function(t,e,r){void 0===e&&(e="set-value");var i=n.props,o=i.closeMenuOnSelect,s=i.isMulti;n.onInputChange("",{action:"set-value"}),o&&(n.inputIsHiddenAfterUpdate=!s,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(t,{action:e,option:r})},n.selectOption=function(t){var e=n.props,r=e.blurInputOnSelect,i=e.isMulti,o=n.state.selectValue;if(i)if(n.isOptionSelected(t,o)){var s=n.getOptionValue(t);n.setValue(o.filter(function(t){return n.getOptionValue(t)!==s}),"deselect-option",t),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(t)}})}else n.isOptionDisabled(t,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t),isDisabled:!0}}):(n.setValue([].concat(o,[t]),"select-option",t),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t)}}));else n.isOptionDisabled(t,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t),isDisabled:!0}}):(n.setValue(t,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t)}}));r&&n.blurInput()},n.removeValue=function(t){var e=n.state.selectValue,r=n.getOptionValue(t),i=e.filter(function(t){return n.getOptionValue(t)!==r});n.onChange(i.length?i:null,{action:"remove-value",removedValue:t}),n.announceAriaLiveSelection({event:"remove-value",context:{value:t?n.getOptionLabel(t):""}}),n.focusInput()},n.clearValue=function(){var t=n.props.isMulti;n.onChange(t?[]:null,{action:"clear"})},n.popValue=function(){var t=n.state.selectValue,e=t[t.length-1],r=t.slice(0,t.length-1);n.announceAriaLiveSelection({event:"pop-value",context:{value:e?n.getOptionLabel(e):""}}),n.onChange(r.length?r:null,{action:"pop-value",removedValue:e})},n.getOptionLabel=function(t){return n.props.getOptionLabel(t)},n.getOptionValue=function(t){return n.props.getOptionValue(t)},n.getStyles=function(t,e){var r=ge[t](e);r.boxSizing="border-box";var i=n.props.styles[t];return i?i(r,e):r},n.getElementId=function(t){return n.instancePrefix+"-"+t},n.getActiveDescendentId=function(){var t=n.props.menuIsOpen,e=n.state,r=e.menuOptions,i=e.focusedOption;if(i&&t){var o=r.focusable.indexOf(i),s=r.render[o];return s&&s.key}},n.announceAriaLiveSelection=function(t){var e=t.event,r=t.context;n.setState({ariaLiveSelection:de(e,r)})},n.announceAriaLiveContext=function(t){var e=t.event,r=t.context;n.setState({ariaLiveContext:he(e,_e({},r,{label:n.props["aria-label"]}))})},n.onMenuMouseDown=function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),n.focusInput())},n.onMenuMouseMove=function(t){n.blockOptionHover=!1},n.onControlMouseDown=function(t){var e=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&n.onMenuClose():e&&n.openMenu("first"):(e&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&t.preventDefault()},n.onDropdownIndicatorMouseDown=function(t){if((!t||"mousedown"!==t.type||0===t.button)&&!n.props.isDisabled){var e=n.props,r=e.isMulti,i=e.menuIsOpen;n.focusInput(),i?(n.inputIsHiddenAfterUpdate=!r,n.onMenuClose()):n.openMenu("first"),t.preventDefault(),t.stopPropagation()}},n.onClearIndicatorMouseDown=function(t){t&&"mousedown"===t.type&&0!==t.button||(n.clearValue(),t.stopPropagation(),n.openAfterFocus=!1,"touchend"===t.type?n.focusInput():setTimeout(function(){return n.focusInput()}))},n.onScroll=function(t){"boolean"===typeof n.props.closeMenuOnScroll?t.target instanceof HTMLElement&&Y(t.target)&&n.props.onMenuClose():"function"===typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(t)&&n.props.onMenuClose()},n.onCompositionStart=function(){n.isComposing=!0},n.onCompositionEnd=function(){n.isComposing=!1},n.onTouchStart=function(t){var e=t.touches.item(0);e&&(n.initialTouchX=e.clientX,n.initialTouchY=e.clientY,n.userIsDragging=!1)},n.onTouchMove=function(t){var e=t.touches.item(0);if(e){var r=Math.abs(e.clientX-n.initialTouchX),i=Math.abs(e.clientY-n.initialTouchY);n.userIsDragging=r>5||i>5}},n.onTouchEnd=function(t){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(t.target)&&n.menuListRef&&!n.menuListRef.contains(t.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)},n.onControlTouchEnd=function(t){n.userIsDragging||n.onControlMouseDown(t)},n.onClearIndicatorTouchEnd=function(t){n.userIsDragging||n.onClearIndicatorMouseDown(t)},n.onDropdownIndicatorTouchEnd=function(t){n.userIsDragging||n.onDropdownIndicatorMouseDown(t)},n.handleInputChange=function(t){var e=t.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(e,{action:"input-change"}),n.onMenuOpen()},n.onInputFocus=function(t){var e=n.props,r=e.isSearchable,i=e.isMulti;n.props.onFocus&&n.props.onFocus(t),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:i}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1},n.onInputBlur=function(t){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(t),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))},n.onOptionHover=function(t){n.blockOptionHover||n.state.focusedOption===t||n.setState({focusedOption:t})},n.shouldHideSelectedOptions=function(){var t=n.props,e=t.hideSelectedOptions,r=t.isMulti;return void 0===e?r:e},n.onKeyDown=function(t){var e=n.props,r=e.isMulti,i=e.backspaceRemovesValue,o=e.escapeClearsValue,s=e.inputValue,a=e.isClearable,u=e.isDisabled,l=e.menuIsOpen,c=e.onKeyDown,p=e.tabSelectsValue,h=e.openMenuOnFocus,d=n.state,f=d.focusedOption,g=d.focusedValue,v=d.selectValue;if(!u&&("function"!==typeof c||(c(t),!t.defaultPrevented))){switch(n.blockOptionHover=!0,t.key){case"ArrowLeft":if(!r||s)return;n.focusValue("previous");break;case"ArrowRight":if(!r||s)return;n.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(g)n.removeValue(g);else{if(!i)return;r?n.popValue():a&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(t.shiftKey||!l||!p||!f||h&&n.isOptionSelected(f,v))return;n.selectOption(f);break;case"Enter":if(229===t.keyCode)break;if(l){if(!f)return;if(n.isComposing)return;n.selectOption(f);break}return;case"Escape":l?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):a&&o&&n.clearValue();break;case" ":if(s)return;if(!l){n.openMenu("first");break}if(!f)return;n.selectOption(f);break;case"ArrowUp":l?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":l?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!l)return;n.focusOption("pageup");break;case"PageDown":if(!l)return;n.focusOption("pagedown");break;case"Home":if(!l)return;n.focusOption("first");break;case"End":if(!l)return;n.focusOption("last");break;default:return}t.preventDefault()}},n.buildMenuOptions=function(t,e){var r=t.inputValue,i=void 0===r?"":r,o=t.options,s=function(t,r){var o=n.isOptionDisabled(t,e),s=n.isOptionSelected(t,e),a=n.getOptionLabel(t),u=n.getOptionValue(t);if(!(n.shouldHideSelectedOptions()&&s||!n.filterOption({label:a,value:u,data:t},i))){var l=o?void 0:function(){return n.onOptionHover(t)},c=o?void 0:function(){return n.selectOption(t)},p=n.getElementId("option")+"-"+r;return{innerProps:{id:p,onClick:c,onMouseMove:l,onMouseOver:l,tabIndex:-1},data:t,isDisabled:o,isSelected:s,key:p,label:a,type:"option",value:u}}};return o.reduce(function(t,e,r){if(e.options){n.hasGroups||(n.hasGroups=!0);var i=e.options.map(function(e,n){var i=s(e,r+"-"+n);return i&&t.focusable.push(e),i}).filter(Boolean);if(i.length){var o=n.getElementId("group")+"-"+r;t.render.push({type:"group",key:o,data:e,options:i})}}else{var a=s(e,""+r);a&&(t.render.push(a),t.focusable.push(e))}return t},{render:[],focusable:[]})};var r=e.value;n.cacheComponents=s(n.cacheComponents,dt).bind(me(me(n))),n.cacheComponents(e.components),n.instancePrefix="react-select-"+(n.props.instanceId||++xe);var i=V(r);n.buildMenuOptions=s(n.buildMenuOptions,function(t,e){var n=t,r=n[0],i=n[1],o=e,s=o[0];return dt(i,o[1])&&dt(r.inputValue,s.inputValue)&&dt(r.options,s.options)}).bind(me(me(n)));var o=e.menuIsOpen?n.buildMenuOptions(e,i):{render:[],focusable:[]};return n.state.menuOptions=o,n.state.selectValue=i,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()},o.UNSAFE_componentWillReceiveProps=function(t){var e=this.props,n=e.options,r=e.value,i=e.menuIsOpen,o=e.inputValue;if(this.cacheComponents(t.components),t.value!==r||t.options!==n||t.menuIsOpen!==i||t.inputValue!==o){var s=V(t.value),a=t.menuIsOpen?this.buildMenuOptions(t,s):{render:[],focusable:[]},u=this.getNextFocusedValue(s),l=this.getNextFocusedOption(a.focusable);this.setState({menuOptions:a,selectValue:s,focusedOption:l,focusedValue:u})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)},o.componentDidUpdate=function(t){var e=this.props,n=e.isDisabled,r=e.menuIsOpen,i=this.state.isFocused;(i&&!n&&t.isDisabled||i&&r&&!t.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?q(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&q(t,Math.max(e.offsetTop-i,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)},o.componentWillUnmount=function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)},o.onMenuOpen=function(){this.props.onMenuOpen()},o.onMenuClose=function(){var t=this.props,e=t.isSearchable,n=t.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:e,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()},o.onInputChange=function(t,e){this.props.onInputChange(t,e)},o.focusInput=function(){this.inputRef&&this.inputRef.focus()},o.blurInput=function(){this.inputRef&&this.inputRef.blur()},o.openMenu=function(t){var e=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildMenuOptions(this.props,r),s=this.props.isMulti,a="first"===t?0:o.focusable.length-1;if(!s){var u=o.focusable.indexOf(r[0]);u>-1&&(a=u)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:o,focusedValue:null,focusedOption:o.focusable[a]},function(){e.onMenuOpen(),e.announceAriaLiveContext({event:"menu"})})},o.focusValue=function(t){var e=this.props,n=e.isMulti,r=e.isSearchable,i=this.state,o=i.selectValue,s=i.focusedValue;if(n){this.setState({focusedOption:null});var a=o.indexOf(s);s||(a=-1,this.announceAriaLiveContext({event:"value"}));var u=o.length-1,l=-1;if(o.length){switch(t){case"previous":l=0===a?0:-1===a?u:a-1;break;case"next":a>-1&&a<u&&(l=a+1)}-1===l&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==l,focusedValue:o[l]})}}},o.focusOption=function(t){void 0===t&&(t="first");var e=this.props.pageSize,n=this.state,r=n.focusedOption,i=n.menuOptions.focusable;if(i.length){var o=0,s=i.indexOf(r);r||(s=-1,this.announceAriaLiveContext({event:"menu"})),"up"===t?o=s>0?s-1:i.length-1:"down"===t?o=(s+1)%i.length:"pageup"===t?(o=s-e)<0&&(o=0):"pagedown"===t?(o=s+e)>i.length-1&&(o=i.length-1):"last"===t&&(o=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[o],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:fe(i[o])}})}},o.getTheme=function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(ve):_e({},ve,this.props.theme):ve},o.getCommonProps=function(){var t=this.clearValue,e=this.getStyles,n=this.setValue,r=this.selectOption,i=this.props,o=i.classNamePrefix,s=i.isMulti,a=i.isRtl,u=i.options,l=this.state.selectValue,c=this.hasValue();return{cx:function(t,e,n){var r=[n];if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&r.push(""+W(t,i));return r.filter(function(t){return t}).map(function(t){return String(t).trim()}).join(" ")}.bind(null,o),clearValue:t,getStyles:e,getValue:function(){return l},hasValue:c,isMulti:s,isRtl:a,options:u,selectOption:r,setValue:n,selectProps:i,theme:this.getTheme()}},o.getNextFocusedValue=function(t){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var e=this.state,n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null},o.getNextFocusedOption=function(t){var e=this.state.focusedOption;return e&&t.indexOf(e)>-1?e:t[0]},o.hasValue=function(){return this.state.selectValue.length>0},o.hasOptions=function(){return!!this.state.menuOptions.render.length},o.countOptions=function(){return this.state.menuOptions.focusable.length},o.isClearable=function(){var t=this.props,e=t.isClearable,n=t.isMulti;return void 0===e?n:e},o.isOptionDisabled=function(t,e){return"function"===typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(t,e)},o.isOptionSelected=function(t,e){var n=this;if(e.indexOf(t)>-1)return!0;if("function"===typeof this.props.isOptionSelected)return this.props.isOptionSelected(t,e);var r=this.getOptionValue(t);return e.some(function(t){return n.getOptionValue(t)===r})},o.filterOption=function(t,e){return!this.props.filterOption||this.props.filterOption(t,e)},o.formatOptionLabel=function(t,e){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(t,{context:e,inputValue:n,selectValue:r})}return this.getOptionLabel(t)},o.formatGroupLabel=function(t){return this.props.formatGroupLabel(t)},o.startListeningComposition=function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))},o.stopListeningComposition=function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))},o.startListeningToTouch=function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))},o.stopListeningToTouch=function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))},o.constructAriaLiveMessage=function(){var t=this.state,e=t.ariaLiveContext,n=t.selectValue,r=t.focusedValue,i=t.focusedOption,o=this.props,s=o.options,a=o.menuIsOpen,u=o.inputValue,l=o.screenReaderStatus;return(r?function(t){var e=t.focusedValue,n=t.getOptionLabel,r=t.selectValue;return"value "+n(e)+" focused, "+(r.indexOf(e)+1)+" of "+r.length+"."}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"")+" "+(i&&a?function(t){var e=t.focusedOption,n=t.getOptionLabel,r=t.options;return"option "+n(e)+" focused"+(e.isDisabled?" disabled":"")+", "+(r.indexOf(e)+1)+" of "+r.length+"."}({focusedOption:i,getOptionLabel:this.getOptionLabel,options:s}):"")+" "+function(t){var e=t.inputValue;return t.screenReaderMessage+(e?" for search term "+e:"")+"."}({inputValue:u,screenReaderMessage:l({count:this.countOptions()})})+" "+e},o.renderInput=function(){var t=this.props,e=t.isDisabled,n=t.isSearchable,r=t.inputId,o=t.inputValue,s=t.tabIndex,a=this.components.Input,u=this.state.inputIsHidden,l=r||this.getElementId("input"),c={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!n)return i.a.createElement(Qt,_e({id:l,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:H,onFocus:this.onInputFocus,readOnly:!0,disabled:e,tabIndex:s,value:""},c));var p=this.commonProps,h=p.cx,d=p.theme,f=p.selectProps;return i.a.createElement(a,_e({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:h,getStyles:this.getStyles,id:l,innerRef:this.getInputRef,isDisabled:e,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:f,spellCheck:"false",tabIndex:s,theme:d,type:"text",value:o},c))},o.renderPlaceholderOrValue=function(){var t=this,e=this.components,n=e.MultiValue,r=e.MultiValueContainer,o=e.MultiValueLabel,s=e.MultiValueRemove,a=e.SingleValue,u=e.Placeholder,l=this.commonProps,c=this.props,p=c.controlShouldRenderValue,h=c.isDisabled,d=c.isMulti,f=c.inputValue,g=c.placeholder,v=this.state,_=v.selectValue,m=v.focusedValue,y=v.isFocused;if(!this.hasValue()||!p)return f?null:i.a.createElement(u,_e({},l,{key:"placeholder",isDisabled:h,isFocused:y}),g);if(d)return _.map(function(e,a){var u=e===m;return i.a.createElement(n,_e({},l,{components:{Container:r,Label:o,Remove:s},isFocused:u,isDisabled:h,key:t.getOptionValue(e),index:a,removeProps:{onClick:function(){return t.removeValue(e)},onTouchEnd:function(){return t.removeValue(e)},onMouseDown:function(t){t.preventDefault(),t.stopPropagation()}},data:e}),t.formatOptionLabel(e,"value"))});if(f)return null;var b=_[0];return i.a.createElement(a,_e({},l,{data:b,isDisabled:h}),this.formatOptionLabel(b,"value"))},o.renderClearIndicator=function(){var t=this.components.ClearIndicator,e=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,s=this.state.isFocused;if(!this.isClearable()||!t||r||!this.hasValue()||o)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return i.a.createElement(t,_e({},e,{innerProps:a,isFocused:s}))},o.renderLoadingIndicator=function(){var t=this.components.LoadingIndicator,e=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,s=this.state.isFocused;if(!t||!o)return null;return i.a.createElement(t,_e({},e,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:s}))},o.renderIndicatorSeparator=function(){var t=this.components,e=t.DropdownIndicator,n=t.IndicatorSeparator;if(!e||!n)return null;var r=this.commonProps,o=this.props.isDisabled,s=this.state.isFocused;return i.a.createElement(n,_e({},r,{isDisabled:o,isFocused:s}))},o.renderDropdownIndicator=function(){var t=this.components.DropdownIndicator;if(!t)return null;var e=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return i.a.createElement(t,_e({},e,{innerProps:o,isDisabled:n,isFocused:r}))},o.renderMenu=function(){var t=this,e=this.components,n=e.Group,r=e.GroupHeading,o=e.Menu,s=e.MenuList,a=e.MenuPortal,u=e.LoadingMessage,l=e.NoOptionsMessage,c=e.Option,p=this.commonProps,h=this.state,d=h.focusedOption,f=h.menuOptions,g=this.props,v=g.captureMenuScroll,_=g.inputValue,m=g.isLoading,y=g.loadingMessage,b=g.minMenuHeight,x=g.maxMenuHeight,E=g.menuIsOpen,w=g.menuPlacement,T=g.menuPosition,O=g.menuPortalTarget,C=g.menuShouldBlockScroll,S=g.menuShouldScrollIntoView,k=g.noOptionsMessage,I=g.onMenuScrollToTop,A=g.onMenuScrollToBottom;if(!E)return null;var N,D=function(e){var n=d===e.data;return e.innerRef=n?t.getFocusedOptionRef:void 0,i.a.createElement(c,_e({},p,e,{isFocused:n}),t.formatOptionLabel(e.data,"menu"))};if(this.hasOptions())N=f.render.map(function(e){if("group"===e.type){e.type;var o=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["type"]),s=e.key+"-heading";return i.a.createElement(n,_e({},p,o,{Heading:r,headingProps:{id:s},label:t.formatGroupLabel(e.data)}),e.options.map(function(t){return D(t)}))}if("option"===e.type)return D(e)});else if(m){var R=y({inputValue:_});if(null===R)return null;N=i.a.createElement(u,p,R)}else{var P=k({inputValue:_});if(null===P)return null;N=i.a.createElement(l,p,P)}var L={minMenuHeight:b,maxMenuHeight:x,menuPlacement:w,menuPosition:T,menuShouldScrollIntoView:S},M=i.a.createElement(rt,_e({},p,L),function(e){var n=e.ref,r=e.placerProps,a=r.placement,u=r.maxHeight;return i.a.createElement(o,_e({},p,L,{innerRef:n,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:m,placement:a}),i.a.createElement(pe,{isEnabled:v,onTopArrive:I,onBottomArrive:A},i.a.createElement(le,{isEnabled:C},i.a.createElement(s,_e({},p,{innerRef:t.getMenuListRef,isLoading:m,maxHeight:u}),N))))});return O||"fixed"===T?i.a.createElement(a,_e({},p,{appendTo:O,controlElement:this.controlRef,menuPlacement:w,menuPosition:T}),M):M},o.renderFormField=function(){var t=this,e=this.props,n=e.delimiter,r=e.isDisabled,o=e.isMulti,s=e.name,a=this.state.selectValue;if(s&&!r){if(o){if(n){var u=a.map(function(e){return t.getOptionValue(e)}).join(n);return i.a.createElement("input",{name:s,type:"hidden",value:u})}var l=a.length>0?a.map(function(e,n){return i.a.createElement("input",{key:"i-"+n,name:s,type:"hidden",value:t.getOptionValue(e)})}):i.a.createElement("input",{name:s,type:"hidden"});return i.a.createElement("div",null,l)}var c=a[0]?this.getOptionValue(a[0]):"";return i.a.createElement("input",{name:s,type:"hidden",value:c})}},o.renderLiveRegion=function(){return this.state.isFocused?i.a.createElement($t,{"aria-live":"polite"},i.a.createElement("p",{id:"aria-selection-event"},"\xa0",this.state.ariaLiveSelection),i.a.createElement("p",{id:"aria-context"},"\xa0",this.constructAriaLiveMessage())):null},o.render=function(){var t=this.components,e=t.Control,n=t.IndicatorsContainer,r=t.SelectContainer,o=t.ValueContainer,s=this.props,a=s.className,u=s.id,l=s.isDisabled,c=s.menuIsOpen,p=this.state.isFocused,h=this.commonProps=this.getCommonProps();return i.a.createElement(r,_e({},h,{className:a,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:p}),this.renderLiveRegion(),i.a.createElement(e,_e({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:p,menuIsOpen:c}),i.a.createElement(o,_e({},h,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),i.a.createElement(n,_e({},h,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())},r}(r.Component);function we(){return(we=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Ee.defaultProps=be;var Te={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null};r.Component;var Oe=function(t){var e,n;return n=e=function(e){var n,r;function o(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).select=void 0,t.state={inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue},t.onChange=function(e,n){t.callProp("onChange",e,n),t.setState({value:e})},t.onInputChange=function(e,n){var r=t.callProp("onInputChange",e,n);t.setState({inputValue:void 0!==r?r:e})},t.onMenuOpen=function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})},t.onMenuClose=function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})},t}r=e,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var s=o.prototype;return s.focus=function(){this.select.focus()},s.blur=function(){this.select.blur()},s.getProp=function(t){return void 0!==this.props[t]?this.props[t]:this.state[t]},s.callProp=function(t){if("function"===typeof this.props[t]){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=this.props)[t].apply(e,r)}},s.render=function(){var e=this,n=this.props,r=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return i.a.createElement(t,we({},r,{ref:function(t){e.select=t},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))},o}(r.Component),e.defaultProps=Te,n}(Ee);e.a=Oe},function(t,e,n){"use strict";var r=a(n(94)),i=a(n(99)),o=a(n(58)),s=a(n(55));function a(t){return t&&t.__esModule?t:{default:t}}t.exports={Transition:s.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},function(t,e,n){"use strict";var r=n(31),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=p;var o=Object.create(n(30));o.inherits=n(25);var s=n(50),a=n(40);o.inherits(p,s);for(var u=i(a.prototype),l=0;l<u.length;l++){var c=u[l];p.prototype[c]||(p.prototype[c]=a.prototype[c])}function p(t){if(!(this instanceof p))return new p(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),p.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){t.exports=i;var r=n(38).EventEmitter;function i(){r.call(this)}n(25)(i,r),i.Readable=n(39),i.Writable=n(90),i.Duplex=n(91),i.Transform=n(92),i.PassThrough=n(93),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"===typeof t.destroy&&t.destroy())}function l(t){if(c(),0===r.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",l),t.on("error",l),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",function(){return r})},function(t,e,n){(function(t){!function(e){var n=e.LiteGraph={VERSION:.4,CANVAS_GRID_SIZE:10,NODE_TITLE_HEIGHT:30,NODE_TITLE_TEXT_Y:20,NODE_SLOT_HEIGHT:20,NODE_WIDGET_HEIGHT:20,NODE_WIDTH:140,NODE_MIN_WIDTH:50,NODE_COLLAPSED_RADIUS:10,NODE_COLLAPSED_WIDTH:80,NODE_TITLE_COLOR:"#999",NODE_TEXT_SIZE:14,NODE_TEXT_COLOR:"#AAA",NODE_SUBTEXT_SIZE:12,NODE_DEFAULT_COLOR:"#333",NODE_DEFAULT_BGCOLOR:"#353535",NODE_DEFAULT_BOXCOLOR:"#666",NODE_DEFAULT_SHAPE:"box",DEFAULT_SHADOW_COLOR:"rgba(0,0,0,0.5)",DEFAULT_GROUP_FONT:24,WIDGET_BGCOLOR:"#222",WIDGET_OUTLINE_COLOR:"#666",WIDGET_TEXT_COLOR:"#DDD",WIDGET_SECONDARY_TEXT_COLOR:"#999",LINK_COLOR:"#9A9",EVENT_LINK_COLOR:"#A86",CONNECTING_LINK_COLOR:"#AFA",MAX_NUMBER_OF_NODES:1e3,DEFAULT_POSITION:[100,100],VALID_SHAPES:["default","box","round","card"],BOX_SHAPE:1,ROUND_SHAPE:2,CIRCLE_SHAPE:3,CARD_SHAPE:4,ARROW_SHAPE:5,INPUT:1,OUTPUT:2,EVENT:-1,ACTION:-1,ALWAYS:0,ON_EVENT:1,NEVER:2,ON_TRIGGER:3,UP:1,DOWN:2,LEFT:3,RIGHT:4,CENTER:5,STRAIGHT_LINK:0,LINEAR_LINK:1,SPLINE_LINK:2,NORMAL_TITLE:0,NO_TITLE:1,TRANSPARENT_TITLE:2,AUTOHIDE_TITLE:3,proxy:null,node_images_path:"",debug:!1,catch_exceptions:!0,throw_errors:!0,allow_scripts:!1,registered_node_types:{},node_types_by_file_extension:{},Nodes:{},searchbox_extras:{},registerNodeType:function(t,e){if(!e.prototype)throw"Cannot register a simple object, it must be a class with a prototype";e.type=t,n.debug&&console.log("Node registered: "+t);t.split("/");var r=e.name,i=t.lastIndexOf("/");if(e.category=t.substr(0,i),e.title||(e.title=r),e.prototype)for(var s in o.prototype)e.prototype[s]||(e.prototype[s]=o.prototype[s]);Object.hasOwnProperty(e.prototype,"shape")||Object.defineProperty(e.prototype,"shape",{set:function(t){switch(t){case"default":delete this._shape;break;case"box":this._shape=n.BOX_SHAPE;break;case"round":this._shape=n.ROUND_SHAPE;break;case"circle":this._shape=n.CIRCLE_SHAPE;break;case"card":this._shape=n.CARD_SHAPE;break;default:this._shape=t}},get:function(t){return this._shape},enumerable:!0});var a=this.registered_node_types[t];if(a&&console.log("replacing node type: "+t),this.registered_node_types[t]=e,e.constructor.name&&(this.Nodes[r]=e),n.onNodeTypeRegistered&&n.onNodeTypeRegistered(t,e),a&&n.onNodeTypeReplaced&&n.onNodeTypeReplaced(t,e,a),e.prototype.onPropertyChange&&console.warn("LiteGraph node class "+t+" has onPropertyChange method, it must be called onPropertyChanged with d at the end"),e.supported_extensions)for(var s in e.supported_extensions)this.node_types_by_file_extension[e.supported_extensions[s].toLowerCase()]=e},wrapFunctionAsNode:function(t,e,r,i,o){for(var s=Array(e.length),a="",u=n.getParameterNames(e),l=0;l<u.length;++l)a+="this.addInput('"+u[l]+"',"+(r&&r[l]?"'"+r[l]+"'":"0")+");\n";a+="this.addOutput('out',"+(i?"'"+i+"'":0)+");\n",o&&(a+="this.properties = "+JSON.stringify(o)+";\n");var c=Function(a);c.title=t.split("/").pop(),c.desc="Generated from "+e.name,c.prototype.onExecute=function(){for(var t=0;t<s.length;++t)s[t]=this.getInputData(t);var n=e.apply(this,s);this.setOutputData(0,n)},this.registerNodeType(t,c)},addNodeMethod:function(t,e){for(var n in o.prototype[t]=e,this.registered_node_types){var r=this.registered_node_types[n];r.prototype[t]&&(r.prototype["_"+t]=r.prototype[t]),r.prototype[t]=e}},createNode:function(t,e,r){var i=this.registered_node_types[t];if(!i)return n.debug&&console.log('GraphNode type "'+t+'" not registered.'),null;i.prototype;e=e||i.title||t;var o=null;if(n.catch_exceptions)try{o=new i(e)}catch(a){return console.error(a),null}else o=new i(e);if(o.type=t,!o.title&&e&&(o.title=e),o.properties||(o.properties={}),o.properties_info||(o.properties_info=[]),o.flags||(o.flags={}),o.size||(o.size=o.computeSize()),o.pos||(o.pos=n.DEFAULT_POSITION.concat()),o.mode||(o.mode=n.ALWAYS),r)for(var s in r)o[s]=r[s];return o},getNodeType:function(t){return this.registered_node_types[t]},getNodeTypesInCategory:function(t,e){var n=[];for(var r in this.registered_node_types){var i=this.registered_node_types[r];e&&i.filter&&i.filter!=e||(""==t?null==i.category&&n.push(i):i.category==t&&n.push(i))}return n},getNodeTypesCategories:function(t){var e={"":1};for(var n in this.registered_node_types){var r=this.registered_node_types[n];if(r.category&&!r.skip_list){if(t&&r.filter!=t)continue;e[r.category]=1}}var i=[];for(var n in e)i.push(n);return i},reloadNodes:function(t){var e=document.getElementsByTagName("script"),r=[];for(var i in e)r.push(e[i]);var o=document.getElementsByTagName("head")[0];for(var i in t=document.location.href+t,r){var s=r[i].src;if(s&&s.substr(0,t.length)==t)try{n.debug&&console.log("Reloading: "+s);var a=document.createElement("script");a.type="text/javascript",a.src=s,o.appendChild(a),o.removeChild(r[i])}catch(u){if(n.throw_errors)throw u;n.debug&&console.log("Error while reloading "+s)}}n.debug&&console.log("Nodes reloaded")},cloneObject:function(t,e){if(null==t)return null;var n=JSON.parse(JSON.stringify(t));if(!e)return n;for(var r in n)e[r]=n[r];return e},isValidConnection:function(t,e){if(!t||!e||t==e||t==n.EVENT&&e==n.ACTION)return!0;if(t=String(t),e=String(e),t=t.toLowerCase(),e=e.toLowerCase(),-1==t.indexOf(",")&&-1==e.indexOf(","))return t==e;for(var r=t.split(","),i=e.split(","),o=0;o<r.length;++o)for(var s=0;s<i.length;++s)if(r[o]==i[s])return!0;return!1},registerSearchboxExtra:function(t,e,n){this.searchbox_extras[e.toLowerCase()]={type:t,desc:e,data:n}}};function r(t){n.debug&&console.log("Graph created"),this.list_of_graphcanvas=null,this.clear(),t&&this.configure(t)}function i(t,e,n,r,i,o){this.id=t,this.type=e,this.origin_id=n,this.origin_slot=r,this.target_id=i,this.target_slot=o,this._data=null,this._pos=new Float32Array(2)}function o(t){this._ctor(t)}function s(t){this._ctor(t)}function a(t,e){this.offset=new Float32Array([0,0]),this.scale=1,this.max_scale=10,this.min_scale=.1,this.onredraw=null,this.enabled=!0,this.last_mouse=[0,0],this.element=null,this.visible_area=new Float32Array(4),t&&(this.element=t,e||this.bindEvents(t))}function u(t,e,r){r=r||{},this.background_image="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQBJREFUeNrs1rEKwjAUhlETUkj3vP9rdmr1Ysammk2w5wdxuLgcMHyptfawuZX4pJSWZTnfnu/lnIe/jNNxHHGNn//HNbbv+4dr6V+11uF527arU7+u63qfa/bnmh8sWLBgwYJlqRf8MEptXPBXJXa37BSl3ixYsGDBMliwFLyCV/DeLIMFCxYsWLBMwSt4Be/NggXLYMGCBUvBK3iNruC9WbBgwYJlsGApeAWv4L1ZBgsWLFiwYJmCV/AK3psFC5bBggULloJX8BpdwXuzYMGCBctgwVLwCl7Be7MMFixYsGDBsu8FH1FaSmExVfAxBa/gvVmwYMGCZbBg/W4vAQYA5tRF9QYlv/QAAAAASUVORK5CYII=",t&&t.constructor===String&&(t=document.querySelector(t)),this.ds=new a,this.zoom_modify_alpha=!0,this.title_text_font=n.NODE_TEXT_SIZE+"px Arial",this.inner_text_font="normal "+n.NODE_SUBTEXT_SIZE+"px Arial",this.node_title_color=n.NODE_TITLE_COLOR,this.default_link_color=n.LINK_COLOR,this.default_connection_color={input_off:"#778",input_on:"#7F7",output_off:"#778",output_on:"#7F7"},this.highquality_render=!0,this.use_gradients=!1,this.editor_alpha=1,this.pause_rendering=!1,this.clear_background=!0,this.read_only=!1,this.render_only_selected=!0,this.live_mode=!1,this.show_info=!0,this.allow_dragcanvas=!0,this.allow_dragnodes=!0,this.allow_interaction=!0,this.allow_searchbox=!0,this.allow_reconnect_links=!1,this.drag_mode=!1,this.dragging_rectangle=null,this.filter=null,this.always_render_background=!1,this.render_shadows=!0,this.render_canvas_border=!0,this.render_connections_shadows=!1,this.render_connections_border=!0,this.render_curved_connections=!1,this.render_connection_arrows=!1,this.render_collapsed_slots=!0,this.render_execution_order=!1,this.render_title_colored=!0,this.render_link_tooltip=!0,this.links_render_mode=n.SPLINE_LINK,this.canvas_mouse=[0,0],this.onSearchBox=null,this.onSearchBoxSelection=null,this.onMouse=null,this.onDrawBackground=null,this.onDrawForeground=null,this.onDrawOverlay=null,this.onDrawLinkTooltip=null,this.onNodeMoved=null,this.onSelectionChange=null,this.connections_width=3,this.round_radius=8,this.current_node=null,this.node_widget=null,this.over_link_center=null,this.last_mouse_position=[0,0],this.visible_area=this.ds.visible_area,this.visible_links=[],e&&e.attachCanvas(this),this.setCanvas(t),this.clear(),r.skip_render||this.startRendering(),this.autoresize=r.autoresize}"undefined"!=typeof performance?n.getTime=performance.now.bind(performance):"undefined"!=typeof Date&&Date.now?n.getTime=Date.now.bind(Date):n.getTime="undefined"!=typeof t?function(){var e=t.hrtime();return.001*e[0]+1e-6*e[1]}:function(){return(new Date).getTime()},e.LGraph=n.LGraph=r,r.supported_types=["number","string","boolean"],r.prototype.getSupportedTypes=function(){return this.supported_types||r.supported_types},r.STATUS_STOPPED=1,r.STATUS_RUNNING=2,r.prototype.clear=function(){if(this.stop(),this.status=r.STATUS_STOPPED,this.last_node_id=0,this.last_link_id=0,this._version=-1,this._nodes)for(var t=0;t<this._nodes.length;++t){var e=this._nodes[t];e.onRemoved&&e.onRemoved()}this._nodes=[],this._nodes_by_id={},this._nodes_in_order=[],this._nodes_executable=null,this._groups=[],this.links={},this.iteration=0,this.config={},this.vars={},this.globaltime=0,this.runningtime=0,this.fixedtime=0,this.fixedtime_lapse=.01,this.elapsed_time=.01,this.last_update_time=0,this.starttime=0,this.catch_errors=!0,this.inputs={},this.outputs={},this.change(),this.sendActionToCanvas("clear")},r.prototype.attachCanvas=function(t){if(t.constructor!=u)throw"attachCanvas expects a LGraphCanvas instance";t.graph&&t.graph!=this&&t.graph.detachCanvas(t),t.graph=this,this.list_of_graphcanvas||(this.list_of_graphcanvas=[]),this.list_of_graphcanvas.push(t)},r.prototype.detachCanvas=function(t){if(this.list_of_graphcanvas){var e=this.list_of_graphcanvas.indexOf(t);-1!=e&&(t.graph=null,this.list_of_graphcanvas.splice(e,1))}},r.prototype.start=function(t){if(this.status!=r.STATUS_RUNNING){this.status=r.STATUS_RUNNING,this.onPlayEvent&&this.onPlayEvent(),this.sendEventToAllNodes("onStart"),this.starttime=n.getTime(),this.last_update_time=this.starttime;var e=this;if(0==(t=t||0)&&"undefined"!=typeof window&&window.requestAnimationFrame){this.execution_timer_id=-1,function t(){-1==e.execution_timer_id&&(window.requestAnimationFrame(t),e.runStep(1,!this.catch_errors))}()}else this.execution_timer_id=setInterval(function(){e.runStep(1,!this.catch_errors)},t)}},r.prototype.stop=function(){this.status!=r.STATUS_STOPPED&&(this.status=r.STATUS_STOPPED,this.onStopEvent&&this.onStopEvent(),null!=this.execution_timer_id&&(-1!=this.execution_timer_id&&clearInterval(this.execution_timer_id),this.execution_timer_id=null),this.sendEventToAllNodes("onStop"))},r.prototype.runStep=function(t,e,r){t=t||1;var i=n.getTime();this.globaltime=.001*(i-this.starttime);var o=this._nodes_executable?this._nodes_executable:this._nodes;if(o){if(r=r||o.length,e){for(var s=0;s<t;s++){for(var a=0;a<r;++a){(u=o[a]).mode==n.ALWAYS&&u.onExecute&&u.onExecute()}this.fixedtime+=this.fixedtime_lapse,this.onExecuteStep&&this.onExecuteStep()}this.onAfterExecute&&this.onAfterExecute()}else try{for(s=0;s<t;s++){for(a=0;a<r;++a){var u;(u=o[a]).mode==n.ALWAYS&&u.onExecute&&u.onExecute()}this.fixedtime+=this.fixedtime_lapse,this.onExecuteStep&&this.onExecuteStep()}this.onAfterExecute&&this.onAfterExecute(),this.errors_in_execution=!1}catch(p){if(this.errors_in_execution=!0,n.throw_errors)throw p;n.debug&&console.log("Error during execution: "+p),this.stop()}var l=n.getTime(),c=l-i;0==c&&(c=1),this.execution_time=.001*c,this.globaltime+=.001*c,this.iteration+=1,this.elapsed_time=.001*(l-this.last_update_time),this.last_update_time=l}},r.prototype.updateExecutionOrder=function(){this._nodes_in_order=this.computeExecutionOrder(!1),this._nodes_executable=[];for(var t=0;t<this._nodes_in_order.length;++t)this._nodes_in_order[t].onExecute&&this._nodes_executable.push(this._nodes_in_order[t])},r.prototype.computeExecutionOrder=function(t,e){for(var r=[],i=[],o={},s={},a={},u=0,l=this._nodes.length;u<l;++u){var c=this._nodes[u];if(!t||c.onExecute){o[c.id]=c;var p=0;if(c.inputs)for(var h=0,d=c.inputs.length;h<d;h++)c.inputs[h]&&null!=c.inputs[h].link&&(p+=1);0==p?(i.push(c),e&&(c._level=1)):(e&&(c._level=0),a[c.id]=p)}}for(;0!=i.length;){c=i.shift();if(r.push(c),delete o[c.id],c.outputs)for(u=0;u<c.outputs.length;u++){var f=c.outputs[u];if(null!=f&&null!=f.links&&0!=f.links.length)for(h=0;h<f.links.length;h++){var g=f.links[h],v=this.links[g];if(v&&!s[v.id]){var _=this.getNodeById(v.target_id);null!=_?(e&&(!_._level||_._level<=c._level)&&(_._level=c._level+1),s[v.id]=!0,a[_.id]-=1,0==a[_.id]&&i.push(_)):s[v.id]=!0}}}}for(var u in o)r.push(o[u]);r.length!=this._nodes.length&&n.debug&&console.warn("something went wrong, nodes missing");for(l=r.length,u=0;u<l;++u)r[u].order=u;r=r.sort(function(t,e){var n=t.constructor.priority||t.priority||0,r=e.constructor.priority||e.priority||0;return n==r?t.order-e.order:n-r});for(u=0;u<l;++u)r[u].order=u;return r},r.prototype.getAncestors=function(t){for(var e=[],n=[t],r={};n.length;){var i=n.shift();if(i.inputs){r[i.id]||i==t||(r[i.id]=!0,e.push(i));for(var o=0;o<i.inputs.length;++o){var s=i.getInputNode(o);s&&-1==e.indexOf(s)&&n.push(s)}}}return e.sort(function(t,e){return t.order-e.order}),e},r.prototype.arrange=function(t){t=t||100;for(var e=this.computeExecutionOrder(!1,!0),r=[],i=0;i<e.length;++i){var o=(p=e[i])._level||1;r[o]||(r[o]=[]),r[o].push(p)}var s=t;for(i=0;i<r.length;++i){var a=r[i];if(a){for(var u=100,l=t+n.NODE_TITLE_HEIGHT,c=0;c<a.length;++c){var p;(p=a[c]).pos[0]=s,p.pos[1]=l,p.size[0]>u&&(u=p.size[0]),l+=p.size[1]+t+n.NODE_TITLE_HEIGHT}s+=u+t}}this.setDirtyCanvas(!0,!0)},r.prototype.getTime=function(){return this.globaltime},r.prototype.getFixedTime=function(){return this.fixedtime},r.prototype.getElapsedTime=function(){return this.elapsed_time},r.prototype.sendEventToAllNodes=function(t,e,r){r=r||n.ALWAYS;var i=this._nodes_in_order?this._nodes_in_order:this._nodes;if(i)for(var o=0,s=i.length;o<s;++o){var a=i[o];a.constructor!==n.Subgraph||"onExecute"==t?a[t]&&a.mode==r&&(void 0===e?a[t]():e&&e.constructor===Array?a[t].apply(a,e):a[t](e)):a.mode==r&&a.sendEventToAllNodes(t,e,r)}},r.prototype.sendActionToCanvas=function(t,e){if(this.list_of_graphcanvas)for(var n=0;n<this.list_of_graphcanvas.length;++n){var r=this.list_of_graphcanvas[n];r[t]&&r[t].apply(r,e)}},r.prototype.add=function(t,e){if(t){if(t.constructor===s)return this._groups.push(t),this.setDirtyCanvas(!0),this.change(),t.graph=this,void this._version++;if(-1!=t.id&&null!=this._nodes_by_id[t.id]&&(console.warn("LiteGraph: there is already a node with this ID, changing it"),t.id=++this.last_node_id),this._nodes.length>=n.MAX_NUMBER_OF_NODES)throw"LiteGraph: max number of nodes in a graph reached";return null==t.id||-1==t.id?t.id=++this.last_node_id:this.last_node_id<t.id&&(this.last_node_id=t.id),t.graph=this,this._version++,this._nodes.push(t),this._nodes_by_id[t.id]=t,t.onAdded&&t.onAdded(this),this.config.align_to_grid&&t.alignToGrid(),e||this.updateExecutionOrder(),this.onNodeAdded&&this.onNodeAdded(t),this.setDirtyCanvas(!0),this.change(),t}},r.prototype.remove=function(t){if(t.constructor===n.LGraphGroup){var e=this._groups.indexOf(t);return-1!=e&&this._groups.splice(e,1),t.graph=null,this._version++,this.setDirtyCanvas(!0,!0),void this.change()}if(null!=this._nodes_by_id[t.id]&&!t.ignore_remove){if(t.inputs)for(var r=0;r<t.inputs.length;r++){null!=(i=t.inputs[r]).link&&t.disconnectInput(r)}if(t.outputs)for(r=0;r<t.outputs.length;r++){var i;null!=(i=t.outputs[r]).links&&i.links.length&&t.disconnectOutput(r)}if(t.onRemoved&&t.onRemoved(),t.graph=null,this._version++,this.list_of_graphcanvas)for(r=0;r<this.list_of_graphcanvas.length;++r){var o=this.list_of_graphcanvas[r];o.selected_nodes[t.id]&&delete o.selected_nodes[t.id],o.node_dragged==t&&(o.node_dragged=null)}var s=this._nodes.indexOf(t);-1!=s&&this._nodes.splice(s,1),delete this._nodes_by_id[t.id],this.onNodeRemoved&&this.onNodeRemoved(t),this.setDirtyCanvas(!0,!0),this.change(),this.updateExecutionOrder()}},r.prototype.getNodeById=function(t){return null==t?null:this._nodes_by_id[t]},r.prototype.findNodesByClass=function(t,e){(e=e||[]).length=0;for(var n=0,r=this._nodes.length;n<r;++n)this._nodes[n].constructor===t&&e.push(this._nodes[n]);return e},r.prototype.findNodesByType=function(t,e){t=t.toLowerCase();(e=e||[]).length=0;for(var n=0,r=this._nodes.length;n<r;++n)this._nodes[n].type.toLowerCase()==t&&e.push(this._nodes[n]);return e},r.prototype.findNodeByTitle=function(t){for(var e=0,n=this._nodes.length;e<n;++e)if(this._nodes[e].title==t)return this._nodes[e];return null},r.prototype.findNodesByTitle=function(t){for(var e=[],n=0,r=this._nodes.length;n<r;++n)this._nodes[n].title==t&&e.push(this._nodes[n]);return e},r.prototype.getNodeOnPos=function(t,e,n,r){for(var i=(n=n||this._nodes).length-1;i>=0;i--){var o=n[i];if(o.isPointInside(t,e,r))return o}return null},r.prototype.getGroupOnPos=function(t,e){for(var n=this._groups.length-1;n>=0;n--){var r=this._groups[n];if(r.isPointInside(t,e,2,!0))return r}return null},r.prototype.checkNodeTypes=function(){for(var t=0;t<this._nodes.length;t++){var e=this._nodes[t],r=n.registered_node_types[e.type];if(e.constructor!=r){console.log("node being replaced by newer version: "+e.type);var i=n.createNode(e.type);!0,this._nodes[t]=i,i.configure(e.serialize()),i.graph=this,this._nodes_by_id[i.id]=i,e.inputs&&(i.inputs=e.inputs.concat()),e.outputs&&(i.outputs=e.outputs.concat())}}this.updateExecutionOrder()},r.prototype.onAction=function(t,e){this._input_nodes=this.findNodesByClass(n.GraphInput,this._input_nodes);for(var r=0;r<this._input_nodes.length;++r){var i=this._input_nodes[r];if(i.properties.name==t){i.onAction(t,e);break}}},r.prototype.trigger=function(t,e){this.onTrigger&&this.onTrigger(t,e)},r.prototype.addInput=function(t,e,n){this.inputs[t]||(this.inputs[t]={name:t,type:e,value:n},this._version++,this.onInputAdded&&this.onInputAdded(t,e),this.onInputsOutputsChange&&this.onInputsOutputsChange())},r.prototype.setInputData=function(t,e){var n=this.inputs[t];n&&(n.value=e)},r.prototype.getInputData=function(t){var e=this.inputs[t];return e?e.value:null},r.prototype.renameInput=function(t,e){if(e!=t){if(!this.inputs[t])return!1;if(this.inputs[e])return console.error("there is already one input with that name"),!1;this.inputs[e]=this.inputs[t],delete this.inputs[t],this._version++,this.onInputRenamed&&this.onInputRenamed(t,e),this.onInputsOutputsChange&&this.onInputsOutputsChange()}},r.prototype.changeInputType=function(t,e){if(!this.inputs[t])return!1;this.inputs[t].type&&String(this.inputs[t].type).toLowerCase()==String(e).toLowerCase()||(this.inputs[t].type=e,this._version++,this.onInputTypeChanged&&this.onInputTypeChanged(t,e))},r.prototype.removeInput=function(t){return!!this.inputs[t]&&(delete this.inputs[t],this._version++,this.onInputRemoved&&this.onInputRemoved(t),this.onInputsOutputsChange&&this.onInputsOutputsChange(),!0)},r.prototype.addOutput=function(t,e,n){this.outputs[t]={name:t,type:e,value:n},this._version++,this.onOutputAdded&&this.onOutputAdded(t,e),this.onInputsOutputsChange&&this.onInputsOutputsChange()},r.prototype.setOutputData=function(t,e){var n=this.outputs[t];n&&(n.value=e)},r.prototype.getOutputData=function(t){var e=this.outputs[t];return e?e.value:null},r.prototype.renameOutput=function(t,e){return!!this.outputs[t]&&(this.outputs[e]?(console.error("there is already one output with that name"),!1):(this.outputs[e]=this.outputs[t],delete this.outputs[t],this._version++,this.onOutputRenamed&&this.onOutputRenamed(t,e),void(this.onInputsOutputsChange&&this.onInputsOutputsChange())))},r.prototype.changeOutputType=function(t,e){if(!this.outputs[t])return!1;this.outputs[t].type&&String(this.outputs[t].type).toLowerCase()==String(e).toLowerCase()||(this.outputs[t].type=e,this._version++,this.onOutputTypeChanged&&this.onOutputTypeChanged(t,e))},r.prototype.removeOutput=function(t){return!!this.outputs[t]&&(delete this.outputs[t],this._version++,this.onOutputRemoved&&this.onOutputRemoved(t),this.onInputsOutputsChange&&this.onInputsOutputsChange(),!0)},r.prototype.triggerInput=function(t,e){for(var n=this.findNodesByTitle(t),r=0;r<n.length;++r)n[r].onTrigger(e)},r.prototype.setCallback=function(t,e){for(var n=this.findNodesByTitle(t),r=0;r<n.length;++r)n[r].setTrigger(e)},r.prototype.connectionChange=function(t,e){this.updateExecutionOrder(),this.onConnectionChange&&this.onConnectionChange(t),this._version++,this.sendActionToCanvas("onConnectionChange")},r.prototype.isLive=function(){if(!this.list_of_graphcanvas)return!1;for(var t=0;t<this.list_of_graphcanvas.length;++t){if(this.list_of_graphcanvas[t].live_mode)return!0}return!1},r.prototype.clearTriggeredSlots=function(){for(var t in this.links){var e=this.links[t];e&&(e._last_time&&(e._last_time=0))}},r.prototype.change=function(){n.debug&&console.log("Graph changed"),this.sendActionToCanvas("setDirty",[!0,!0]),this.on_change&&this.on_change(this)},r.prototype.setDirtyCanvas=function(t,e){this.sendActionToCanvas("setDirty",[t,e])},r.prototype.removeLink=function(t){var e=this.links[t];if(e){var n=this.getNodeById(e.target_id);n&&n.disconnectInput(e.target_slot)}},r.prototype.serialize=function(){for(var t=[],e=0,r=this._nodes.length;e<r;++e)t.push(this._nodes[e].serialize());var o=[];for(var e in this.links){var s=this.links[e];if(!s.serialize){console.warn("weird LLink bug, link info is not a LLink but a regular object");var a=new i;for(var e in s)a[e]=s[e];this.links[e]=a,s=a}o.push(s.serialize())}var u=[];for(e=0;e<this._groups.length;++e)u.push(this._groups[e].serialize());return{last_node_id:this.last_node_id,last_link_id:this.last_link_id,nodes:t,links:o,groups:u,config:this.config,version:n.VERSION}},r.prototype.configure=function(t,e){if(t){e||this.clear();var r=t.nodes;if(t.links&&t.links.constructor===Array){for(var s=[],a=0;a<t.links.length;++a){var u=t.links[a];if(u){var l=new i;l.configure(u),s[l.id]=l}else console.warn("serialized graph link data contains errors, skipping.")}t.links=s}for(var a in t)"nodes"!=a&&"groups"!=a&&(this[a]=t[a]);var c=!1;if(this._nodes=[],r){a=0;for(var p=r.length;a<p;++a){var h=r[a];(d=n.createNode(h.type,h.title))||(n.debug&&console.log("Node not found or has errors: "+h.type),(d=new o).last_serialization=h,d.has_errors=!0,c=!0),d.id=h.id,this.add(d,!0)}for(a=0,p=r.length;a<p;++a){var d;h=r[a];(d=this.getNodeById(h.id))&&d.configure(h)}}if(this._groups.length=0,t.groups)for(a=0;a<t.groups.length;++a){var f=new n.LGraphGroup;f.configure(t.groups[a]),this.add(f)}return this.updateExecutionOrder(),this._version++,this.setDirtyCanvas(!0,!0),c}},r.prototype.load=function(t){var e=this,n=new XMLHttpRequest;n.open("GET",t,!0),n.send(null),n.onload=function(t){if(200===n.status){var r=JSON.parse(n.response);e.configure(r)}else console.error("Error loading graph:",n.status,n.response)},n.onerror=function(t){console.error("Error loading graph:",t)}},r.prototype.onNodeTrace=function(t,e,n){},i.prototype.configure=function(t){t.constructor===Array?(this.id=t[0],this.origin_id=t[1],this.origin_slot=t[2],this.target_id=t[3],this.target_slot=t[4],this.type=t[5]):(this.id=t.id,this.type=t.type,this.origin_id=t.origin_id,this.origin_slot=t.origin_slot,this.target_id=t.target_id,this.target_slot=t.target_slot)},i.prototype.serialize=function(){return[this.id,this.origin_id,this.origin_slot,this.target_id,this.target_slot,this.type]},n.LLink=i,e.LGraphNode=n.LGraphNode=o,o.prototype._ctor=function(t){this.title=t||"Unnamed",this.size=[n.NODE_WIDTH,60],this.graph=null,this._pos=new Float32Array(10,10),Object.defineProperty(this,"pos",{set:function(t){!t||t.length<2||(this._pos[0]=t[0],this._pos[1]=t[1])},get:function(){return this._pos},enumerable:!0}),this.id=-1,this.type=null,this.inputs=[],this.outputs=[],this.connections=[],this.properties={},this.properties_info=[],this.flags={}},o.prototype.configure=function(t){for(var e in this.graph&&this.graph._version++,t)if("properties"!=e)null!=t[e]&&("object"==typeof t[e]?this[e]&&this[e].configure?this[e].configure(t[e]):this[e]=n.cloneObject(t[e],this[e]):this[e]=t[e]);else for(var r in t.properties)this.properties[r]=t.properties[r],this.onPropertyChanged&&this.onPropertyChanged(r,t.properties[r]);if(t.title||(this.title=this.constructor.title),this.onConnectionsChange){if(this.inputs)for(var i=0;i<this.inputs.length;++i){var o=this.inputs[i],s=this.graph?this.graph.links[o.link]:null;this.onConnectionsChange(n.INPUT,i,!0,s,o)}if(this.outputs)for(i=0;i<this.outputs.length;++i){var a=this.outputs[i];if(a.links)for(e=0;e<a.links.length;++e){s=this.graph?this.graph.links[a.links[e]]:null;this.onConnectionsChange(n.OUTPUT,i,!0,s,a)}}}if(this.widgets){for(i=0;i<this.widgets.length;++i){var u=this.widgets[i];u.options&&u.options.property&&this.properties[u.options.property]&&(u.value=JSON.parse(JSON.stringify(this.properties[u.options.property])))}if(t.widgets_values)for(i=0;i<t.widgets_values.length;++i)this.widgets[i]&&(this.widgets[i].value=t.widgets_values[i])}this.onConfigure&&this.onConfigure(t)},o.prototype.serialize=function(){var t={id:this.id,type:this.type,pos:this.pos,size:this.size,flags:n.cloneObject(this.flags),order:this.order,mode:this.mode};if(this.constructor===o&&this.last_serialization)return this.last_serialization;if(this.inputs&&(t.inputs=this.inputs),this.outputs){for(var e=0;e<this.outputs.length;e++)delete this.outputs[e]._data;t.outputs=this.outputs}if(this.title&&this.title!=this.constructor.title&&(t.title=this.title),this.properties&&(t.properties=n.cloneObject(this.properties)),this.widgets&&this.serialize_widgets){t.widgets_values=[];for(e=0;e<this.widgets.length;++e)t.widgets_values[e]=this.widgets[e].value}return t.type||(t.type=this.constructor.type),this.color&&(t.color=this.color),this.bgcolor&&(t.bgcolor=this.bgcolor),this.boxcolor&&(t.boxcolor=this.boxcolor),this.shape&&(t.shape=this.shape),this.onSerialize&&this.onSerialize(t)&&console.warn("node onSerialize shouldnt return anything, data should be stored in the object pass in the first parameter"),t},o.prototype.clone=function(){var t=n.createNode(this.type);if(!t)return null;var e=n.cloneObject(this.serialize());if(e.inputs)for(var r=0;r<e.inputs.length;++r)e.inputs[r].link=null;if(e.outputs)for(r=0;r<e.outputs.length;++r)e.outputs[r].links&&(e.outputs[r].links.length=0);return delete e.id,t.configure(e),t},o.prototype.toString=function(){return JSON.stringify(this.serialize())},o.prototype.getTitle=function(){return this.title||this.constructor.title},o.prototype.setProperty=function(t,e){if(this.properties||(this.properties={}),e!==this.properties[t]){var n=this.properties[t];this.properties[t]=e,this.onPropertyChanged&&!1===this.onPropertyChanged(t,e,n)&&(this.properties[t]=n)}},o.prototype.setOutputData=function(t,e){if(this.outputs&&!(-1==t||t>=this.outputs.length)){var n=this.outputs[t];if(n&&(n._data=e,this.outputs[t].links))for(var r=0;r<this.outputs[t].links.length;r++){var i=this.outputs[t].links[r],o=this.graph.links[i];o&&(o.data=e)}}},o.prototype.setOutputDataType=function(t,e){if(this.outputs&&!(-1==t||t>=this.outputs.length)){var n=this.outputs[t];if(n&&(n.type=e,this.outputs[t].links))for(var r=0;r<this.outputs[t].links.length;r++){var i=this.outputs[t].links[r];this.graph.links[i].type=e}}},o.prototype.getInputData=function(t,e){if(this.inputs&&!(t>=this.inputs.length||null==this.inputs[t].link)){var n=this.inputs[t].link,r=this.graph.links[n];if(!r)return null;if(!e)return r.data;var i=this.graph.getNodeById(r.origin_id);return i?(i.updateOutputData?i.updateOutputData(r.origin_slot):i.onExecute&&i.onExecute(),r.data):r.data}},o.prototype.getInputDataType=function(t){if(!this.inputs)return null;if(t>=this.inputs.length||null==this.inputs[t].link)return null;var e=this.inputs[t].link,n=this.graph.links[e];if(!n)return null;var r=this.graph.getNodeById(n.origin_id);if(!r)return n.type;var i=r.outputs[n.origin_slot];return i?i.type:null},o.prototype.getInputDataByName=function(t,e){var n=this.findInputSlot(t);return-1==n?null:this.getInputData(n,e)},o.prototype.isInputConnected=function(t){return!!this.inputs&&(t<this.inputs.length&&null!=this.inputs[t].link)},o.prototype.getInputInfo=function(t){return this.inputs&&t<this.inputs.length?this.inputs[t]:null},o.prototype.getInputNode=function(t){if(!this.inputs)return null;if(t>=this.inputs.length)return null;var e=this.inputs[t];if(!e||null===e.link)return null;var n=this.graph.links[e.link];return n?this.graph.getNodeById(n.origin_id):null},o.prototype.getInputOrProperty=function(t){if(!this.inputs||!this.inputs.length)return this.properties?this.properties[t]:null;for(var e=0,n=this.inputs.length;e<n;++e){var r=this.inputs[e];if(t==r.name&&null!=r.link){var i=this.graph.links[r.link];if(i)return i.data}}return this.properties[t]},o.prototype.getOutputData=function(t){return this.outputs?t>=this.outputs.length?null:this.outputs[t]._data:null},o.prototype.getOutputInfo=function(t){return this.outputs&&t<this.outputs.length?this.outputs[t]:null},o.prototype.isOutputConnected=function(t){return!!this.outputs&&(t<this.outputs.length&&this.outputs[t].links&&this.outputs[t].links.length)},o.prototype.isAnyOutputConnected=function(){if(!this.outputs)return!1;for(var t=0;t<this.outputs.length;++t)if(this.outputs[t].links&&this.outputs[t].links.length)return!0;return!1},o.prototype.getOutputNodes=function(t){if(!this.outputs||0==this.outputs.length)return null;if(t>=this.outputs.length)return null;var e=this.outputs[t];if(!e.links||0==e.links.length)return null;for(var n=[],r=0;r<e.links.length;r++){var i=e.links[r],o=this.graph.links[i];if(o){var s=this.graph.getNodeById(o.target_id);s&&n.push(s)}}return n},o.prototype.trigger=function(t,e){if(this.outputs&&this.outputs.length){this.graph&&(this.graph._last_trigger_time=n.getTime());for(var r=0;r<this.outputs.length;++r){var i=this.outputs[r];!i||i.type!==n.EVENT||t&&i.name!=t||this.triggerSlot(r,e)}}},o.prototype.triggerSlot=function(t,e,r){if(this.outputs){var i=this.outputs[t];if(i){var o=i.links;if(o&&o.length){this.graph&&(this.graph._last_trigger_time=n.getTime());for(var s=0;s<o.length;++s){var a=o[s];if(null==r||r==a){var u=this.graph.links[o[s]];if(u){u._last_time=n.getTime();var l=this.graph.getNodeById(u.target_id);if(l){var c=l.inputs[u.target_slot];l.onAction?l.onAction(c.name,e):l.mode===n.ON_TRIGGER&&l.onExecute&&l.onExecute(e)}}}}}}}},o.prototype.clearTriggeredSlot=function(t,e){if(this.outputs){var n=this.outputs[t];if(n){var r=n.links;if(r&&r.length)for(var i=0;i<r.length;++i){var o=r[i];if(null==e||e==o){var s=this.graph.links[r[i]];s&&(s._last_time=0)}}}}},o.prototype.addProperty=function(t,e,n,r){var i={name:t,type:n,default_value:e};if(r)for(var o in r)i[o]=r[o];return this.properties_info||(this.properties_info=[]),this.properties_info.push(i),this.properties||(this.properties={}),this.properties[t]=e,i},o.prototype.addOutput=function(t,e,n){var r={name:t,type:e,links:null};if(n)for(var i in n)r[i]=n[i];return this.outputs||(this.outputs=[]),this.outputs.push(r),this.onOutputAdded&&this.onOutputAdded(r),this.size=this.computeSize(),this.setDirtyCanvas(!0,!0),r},o.prototype.addOutputs=function(t){for(var e=0;e<t.length;++e){var n=t[e],r={name:n[0],type:n[1],link:null};if(t[2])for(var i in n[2])r[i]=n[2][i];this.outputs||(this.outputs=[]),this.outputs.push(r),this.onOutputAdded&&this.onOutputAdded(r)}this.size=this.computeSize(),this.setDirtyCanvas(!0,!0)},o.prototype.removeOutput=function(t){this.disconnectOutput(t),this.outputs.splice(t,1);for(var e=t;e<this.outputs.length;++e)if(this.outputs[e]&&this.outputs[e].links)for(var n=this.outputs[e].links,r=0;r<n.length;++r){var i=this.graph.links[n[r]];i&&(i.origin_slot-=1)}this.size=this.computeSize(),this.onOutputRemoved&&this.onOutputRemoved(t),this.setDirtyCanvas(!0,!0)},o.prototype.addInput=function(t,e,n){var r={name:t,type:e=e||0,link:null};if(n)for(var i in n)r[i]=n[i];return this.inputs||(this.inputs=[]),this.inputs.push(r),this.size=this.computeSize(),this.onInputAdded&&this.onInputAdded(r),this.setDirtyCanvas(!0,!0),r},o.prototype.addInputs=function(t){for(var e=0;e<t.length;++e){var n=t[e],r={name:n[0],type:n[1],link:null};if(t[2])for(var i in n[2])r[i]=n[2][i];this.inputs||(this.inputs=[]),this.inputs.push(r),this.onInputAdded&&this.onInputAdded(r)}this.size=this.computeSize(),this.setDirtyCanvas(!0,!0)},o.prototype.removeInput=function(t){this.disconnectInput(t),this.inputs.splice(t,1);for(var e=t;e<this.inputs.length;++e)if(this.inputs[e]){var n=this.graph.links[this.inputs[e].link];n&&(n.target_slot-=1)}this.size=this.computeSize(),this.onInputRemoved&&this.onInputRemoved(t),this.setDirtyCanvas(!0,!0)},o.prototype.addConnection=function(t,e,n,r){var i={name:t,type:e,pos:n,direction:r,links:null};return this.connections.push(i),i},o.prototype.computeSize=function(t,e){if(this.constructor.size)return this.constructor.size.concat();var r=Math.max(this.inputs?this.inputs.length:1,this.outputs?this.outputs.length:1),i=e||new Float32Array([0,0]);r=Math.max(r,1);var o=n.NODE_TEXT_SIZE;i[1]=(this.constructor.slot_start_y||0)+r*n.NODE_SLOT_HEIGHT;var s=0;this.widgets&&this.widgets.length&&(s=this.widgets.length*(n.NODE_WIDGET_HEIGHT+4)+8),this.widgets_up?i[1]=Math.max(i[1],s):null!=this.widgets_start_y?i[1]=Math.max(i[1],s+this.widgets_start_y):i[1]+=s;o=o;var a=g(this.title),u=0,l=0;if(this.inputs)for(var c=0,p=this.inputs.length;c<p;++c){var h=this.inputs[c];u<(d=g(h.label||h.name||""))&&(u=d)}if(this.outputs)for(c=0,p=this.outputs.length;c<p;++c){var d,f=this.outputs[c];l<(d=g(f.label||f.name||""))&&(l=d)}function g(t){return t?o*t.length*.6:0}return i[0]=Math.max(u+l+10,a),i[0]=Math.max(i[0],n.NODE_WIDTH),this.widgets&&this.widgets.length&&(i[0]=Math.max(i[0],1.5*n.NODE_WIDTH)),this.onResize&&this.onResize(i),this.constructor.min_height&&i[1]<this.constructor.min_height&&(i[1]=this.constructor.min_height),i[1]+=6,i},o.prototype.addWidget=function(t,e,n,r,i){this.widgets||(this.widgets=[]),!i&&r&&r.constructor===Object&&(i=r,r=null),i&&i.constructor===String&&(i={property:i}),r&&r.constructor===String&&(i||(i={}),i.property=r,r=null),r&&r.constructor!==Function&&(console.warn("addWidget: callback must be a function"),r=null);var o={type:t.toLowerCase(),name:e,value:n,callback:r,options:i||{}};if(void 0!==o.options.y&&(o.y=o.options.y),r||o.options.callback||o.options.property||console.warn("LiteGraph addWidget(...) without a callback or property assigned"),"combo"==t&&!o.options.values)throw"LiteGraph addWidget('combo',...) requires to pass values in options: { values:['red','blue'] }";return this.widgets.push(o),this.size=this.computeSize(),o},o.prototype.addCustomWidget=function(t){return this.widgets||(this.widgets=[]),this.widgets.push(t),t},o.prototype.getBounding=function(t){return(t=t||new Float32Array(4))[0]=this.pos[0]-4,t[1]=this.pos[1]-n.NODE_TITLE_HEIGHT,t[2]=this.size[0]+4,t[3]=this.size[1]+n.NODE_TITLE_HEIGHT,this.onBounding&&this.onBounding(t),t},o.prototype.isPointInside=function(t,e,r,i){r=r||0;var o=this.graph&&this.graph.isLive()?0:n.NODE_TITLE_HEIGHT;if(i&&(o=0),this.flags&&this.flags.collapsed){if(_(t,e,this.pos[0]-r,this.pos[1]-n.NODE_TITLE_HEIGHT-r,(this._collapsed_width||n.NODE_COLLAPSED_WIDTH)+2*r,n.NODE_TITLE_HEIGHT+2*r))return!0}else if(this.pos[0]-4-r<t&&this.pos[0]+this.size[0]+4+r>t&&this.pos[1]-o-r<e&&this.pos[1]+this.size[1]+r>e)return!0;return!1},o.prototype.getSlotInPosition=function(t,e){var n=new Float32Array(2);if(this.inputs)for(var r=0,i=this.inputs.length;r<i;++r){var o=this.inputs[r];if(this.getConnectionPos(!0,r,n),_(t,e,n[0]-10,n[1]-5,20,10))return{input:o,slot:r,link_pos:n}}if(this.outputs)for(r=0,i=this.outputs.length;r<i;++r){var s=this.outputs[r];if(this.getConnectionPos(!1,r,n),_(t,e,n[0]-10,n[1]-5,20,10))return{output:s,slot:r,link_pos:n}}return null},o.prototype.findInputSlot=function(t){if(!this.inputs)return-1;for(var e=0,n=this.inputs.length;e<n;++e)if(t==this.inputs[e].name)return e;return-1},o.prototype.findOutputSlot=function(t){if(!this.outputs)return-1;for(var e=0,n=this.outputs.length;e<n;++e)if(t==this.outputs[e].name)return e;return-1},o.prototype.connect=function(t,e,r){if(r=r||0,!this.graph)return console.log("Connect: Error, node doesn't belong to any graph. Nodes must be added first to a graph before connecting them."),null;if(t.constructor===String){if(-1==(t=this.findOutputSlot(t)))return n.debug&&console.log("Connect: Error, no slot of name "+t),null}else if(!this.outputs||t>=this.outputs.length)return n.debug&&console.log("Connect: Error, slot number not found"),null;if(e&&e.constructor===Number&&(e=this.graph.getNodeById(e)),!e)throw"target node is null";if(e==this)return null;if(r.constructor===String){if(-1==(r=e.findInputSlot(r)))return n.debug&&console.log("Connect: Error, no slot of name "+r),null}else{if(r===n.EVENT)return null;if(!e.inputs||r>=e.inputs.length)return n.debug&&console.log("Connect: Error, slot number not found"),null}null!=e.inputs[r].link&&e.disconnectInput(r);var o=this.outputs[t];if(e.onConnectInput&&!1===e.onConnectInput(r,o.type,o))return null;var s=e.inputs[r],a=null;return n.isValidConnection(o.type,s.type)&&(a=new i(++this.graph.last_link_id,s.type,this.id,t,e.id,r),this.graph.links[a.id]=a,null==o.links&&(o.links=[]),o.links.push(a.id),e.inputs[r].link=a.id,this.graph&&this.graph._version++,this.onConnectionsChange&&this.onConnectionsChange(n.OUTPUT,t,!0,a,o),e.onConnectionsChange&&e.onConnectionsChange(n.INPUT,r,!0,a,s),this.graph&&this.graph.onNodeConnectionChange&&(this.graph.onNodeConnectionChange(n.INPUT,e,r,this,t),this.graph.onNodeConnectionChange(n.OUTPUT,this,t,e,r))),this.setDirtyCanvas(!1,!0),this.graph.connectionChange(this,a),a},o.prototype.disconnectOutput=function(t,e){if(t.constructor===String){if(-1==(t=this.findOutputSlot(t)))return n.debug&&console.log("Connect: Error, no slot of name "+t),!1}else if(!this.outputs||t>=this.outputs.length)return n.debug&&console.log("Connect: Error, slot number not found"),!1;var r=this.outputs[t];if(!r||!r.links||0==r.links.length)return!1;if(e){if(e.constructor===Number&&(e=this.graph.getNodeById(e)),!e)throw"Target Node not found";for(var i=0,o=r.links.length;i<o;i++){var s=r.links[i];if((a=this.graph.links[s]).target_id==e.id){r.links.splice(i,1),(u=e.inputs[a.target_slot]).link=null,delete this.graph.links[s],this.graph&&this.graph._version++,e.onConnectionsChange&&e.onConnectionsChange(n.INPUT,a.target_slot,!1,a,u),this.onConnectionsChange&&this.onConnectionsChange(n.OUTPUT,t,!1,a,r),this.graph&&this.graph.onNodeConnectionChange&&this.graph.onNodeConnectionChange(n.OUTPUT,this,t),this.graph&&this.graph.onNodeConnectionChange&&(this.graph.onNodeConnectionChange(n.OUTPUT,this,t),this.graph.onNodeConnectionChange(n.INPUT,e,a.target_slot));break}}}else{for(i=0,o=r.links.length;i<o;i++){var a;s=r.links[i];if(a=this.graph.links[s]){e=this.graph.getNodeById(a.target_id);var u=null;this.graph&&this.graph._version++,e&&((u=e.inputs[a.target_slot]).link=null,e.onConnectionsChange&&e.onConnectionsChange(n.INPUT,a.target_slot,!1,a,u),this.graph&&this.graph.onNodeConnectionChange&&this.graph.onNodeConnectionChange(n.INPUT,e,a.target_slot)),delete this.graph.links[s],this.onConnectionsChange&&this.onConnectionsChange(n.OUTPUT,t,!1,a,r),this.graph&&this.graph.onNodeConnectionChange&&(this.graph.onNodeConnectionChange(n.OUTPUT,this,t),this.graph.onNodeConnectionChange(n.INPUT,e,a.target_slot))}}r.links=null}return this.setDirtyCanvas(!1,!0),this.graph.connectionChange(this),!0},o.prototype.disconnectInput=function(t){if(t.constructor===String){if(-1==(t=this.findInputSlot(t)))return n.debug&&console.log("Connect: Error, no slot of name "+t),!1}else if(!this.inputs||t>=this.inputs.length)return n.debug&&console.log("Connect: Error, slot number not found"),!1;var e=this.inputs[t];if(!e)return!1;var r=this.inputs[t].link;this.inputs[t].link=null;var i=this.graph.links[r];if(i){var o=this.graph.getNodeById(i.origin_id);if(!o)return!1;var s=o.outputs[i.origin_slot];if(!s||!s.links||0==s.links.length)return!1;for(var a=0,u=s.links.length;a<u;a++)if(s.links[a]==r){s.links.splice(a,1);break}delete this.graph.links[r],this.graph&&this.graph._version++,this.onConnectionsChange&&this.onConnectionsChange(n.INPUT,t,!1,i,e),o.onConnectionsChange&&o.onConnectionsChange(n.OUTPUT,a,!1,i,s),this.graph&&this.graph.onNodeConnectionChange&&(this.graph.onNodeConnectionChange(n.OUTPUT,o,a),this.graph.onNodeConnectionChange(n.INPUT,this,t))}return this.setDirtyCanvas(!1,!0),this.graph.connectionChange(this),!0},o.prototype.getConnectionPos=function(t,e,r){r=r||new Float32Array(2);var i=0;t&&this.inputs&&(i=this.inputs.length),!t&&this.outputs&&(i=this.outputs.length);var o=.5*n.NODE_SLOT_HEIGHT;if(this.flags.collapsed){var s=this._collapsed_width||n.NODE_COLLAPSED_WIDTH;return this.horizontal?(r[0]=this.pos[0]+.5*s,r[1]=t?this.pos[1]-n.NODE_TITLE_HEIGHT:this.pos[1]):(r[0]=t?this.pos[0]:this.pos[0]+s,r[1]=this.pos[1]-.5*n.NODE_TITLE_HEIGHT),r}return t&&-1==e?(r[0]=this.pos[0]+.5*n.NODE_TITLE_HEIGHT,r[1]=this.pos[1]+.5*n.NODE_TITLE_HEIGHT,r):t&&i>e&&this.inputs[e].pos?(r[0]=this.pos[0]+this.inputs[e].pos[0],r[1]=this.pos[1]+this.inputs[e].pos[1],r):!t&&i>e&&this.outputs[e].pos?(r[0]=this.pos[0]+this.outputs[e].pos[0],r[1]=this.pos[1]+this.outputs[e].pos[1],r):this.horizontal?(r[0]=this.pos[0]+(e+.5)*(this.size[0]/i),r[1]=t?this.pos[1]-n.NODE_TITLE_HEIGHT:this.pos[1]+this.size[1],r):(r[0]=t?this.pos[0]+o:this.pos[0]+this.size[0]+1-o,r[1]=this.pos[1]+(e+.7)*n.NODE_SLOT_HEIGHT+(this.constructor.slot_start_y||0),r)},o.prototype.alignToGrid=function(){this.pos[0]=n.CANVAS_GRID_SIZE*Math.round(this.pos[0]/n.CANVAS_GRID_SIZE),this.pos[1]=n.CANVAS_GRID_SIZE*Math.round(this.pos[1]/n.CANVAS_GRID_SIZE)},o.prototype.trace=function(t){this.console||(this.console=[]),this.console.push(t),this.console.length>o.MAX_CONSOLE&&this.console.shift(),this.graph.onNodeTrace(this,t)},o.prototype.setDirtyCanvas=function(t,e){this.graph&&this.graph.sendActionToCanvas("setDirty",[t,e])},o.prototype.loadImage=function(t){var e=new Image;e.src=n.node_images_path+t,e.ready=!1;var r=this;return e.onload=function(){this.ready=!0,r.setDirtyCanvas(!0)},e},o.prototype.captureInput=function(t){if(this.graph&&this.graph.list_of_graphcanvas)for(var e=this.graph.list_of_graphcanvas,n=0;n<e.length;++n){var r=e[n];(t||r.node_capturing_input==this)&&(r.node_capturing_input=t?this:null)}},o.prototype.collapse=function(t){this.graph._version++,(!1!==this.constructor.collapsable||t)&&(this.flags.collapsed?this.flags.collapsed=!1:this.flags.collapsed=!0,this.setDirtyCanvas(!0,!0))},o.prototype.pin=function(t){this.graph._version++,this.flags.pinned=void 0===t?!this.flags.pinned:t},o.prototype.localToScreen=function(t,e,n){return[(t+this.pos[0])*n.scale+n.offset[0],(e+this.pos[1])*n.scale+n.offset[1]]},e.LGraphGroup=n.LGraphGroup=s,s.prototype._ctor=function(t){this.title=t||"Group",this.font_size=24,this.color=u.node_colors.pale_blue?u.node_colors.pale_blue.groupcolor:"#AAA",this._bounding=new Float32Array([10,10,140,80]),this._pos=this._bounding.subarray(0,2),this._size=this._bounding.subarray(2,4),this._nodes=[],this.graph=null,Object.defineProperty(this,"pos",{set:function(t){!t||t.length<2||(this._pos[0]=t[0],this._pos[1]=t[1])},get:function(){return this._pos},enumerable:!0}),Object.defineProperty(this,"size",{set:function(t){!t||t.length<2||(this._size[0]=Math.max(140,t[0]),this._size[1]=Math.max(80,t[1]))},get:function(){return this._size},enumerable:!0})},s.prototype.configure=function(t){this.title=t.title,this._bounding.set(t.bounding),this.color=t.color,this.font=t.font},s.prototype.serialize=function(){var t=this._bounding;return{title:this.title,bounding:[Math.round(t[0]),Math.round(t[1]),Math.round(t[2]),Math.round(t[3])],color:this.color,font:this.font}},s.prototype.move=function(t,e,n){if(this._pos[0]+=t,this._pos[1]+=e,!n)for(var r=0;r<this._nodes.length;++r){var i=this._nodes[r];i.pos[0]+=t,i.pos[1]+=e}},s.prototype.recomputeInsideNodes=function(){this._nodes.length=0;for(var t=this.graph._nodes,e=new Float32Array(4),n=0;n<t.length;++n){var r=t[n];r.getBounding(e),m(this._bounding,e)&&this._nodes.push(r)}},s.prototype.isPointInside=o.prototype.isPointInside,s.prototype.setDirtyCanvas=o.prototype.setDirtyCanvas,n.DragAndScale=a,a.prototype.bindEvents=function(t){this.last_mouse=new Float32Array(2),this._binded_mouse_callback=this.onMouse.bind(this),t.addEventListener("mousedown",this._binded_mouse_callback),t.addEventListener("mousemove",this._binded_mouse_callback),t.addEventListener("mousewheel",this._binded_mouse_callback,!1),t.addEventListener("wheel",this._binded_mouse_callback,!1)},a.prototype.computeVisibleArea=function(){if(this.element){var t=this.element.width,e=this.element.height,n=-this.offset[0],r=-this.offset[1],i=n+t/this.scale,o=r+e/this.scale;this.visible_area[0]=n,this.visible_area[1]=r,this.visible_area[2]=i-n,this.visible_area[3]=o-r}else this.visible_area[0]=this.visible_area[1]=this.visible_area[2]=this.visible_area[3]=0},a.prototype.onMouse=function(t){if(this.enabled){var e=this.element,n=e.getBoundingClientRect(),r=t.clientX-n.left,i=t.clientY-n.top;t.canvasx=r,t.canvasy=i,t.dragging=this.dragging;var o=!1;if(this.onmouse&&(o=this.onmouse(t)),"mousedown"==t.type)this.dragging=!0,e.removeEventListener("mousemove",this._binded_mouse_callback),document.body.addEventListener("mousemove",this._binded_mouse_callback),document.body.addEventListener("mouseup",this._binded_mouse_callback);else if("mousemove"==t.type){if(!o){var s=r-this.last_mouse[0],a=i-this.last_mouse[1];this.dragging&&this.mouseDrag(s,a)}}else"mouseup"==t.type?(this.dragging=!1,document.body.removeEventListener("mousemove",this._binded_mouse_callback),document.body.removeEventListener("mouseup",this._binded_mouse_callback),e.addEventListener("mousemove",this._binded_mouse_callback)):"mousewheel"!=t.type&&"wheel"!=t.type&&"DOMMouseScroll"!=t.type||(t.eventType="mousewheel","wheel"==t.type?t.wheel=-t.deltaY:t.wheel=null!=t.wheelDeltaY?t.wheelDeltaY:-60*t.detail,t.delta=t.wheelDelta?t.wheelDelta/40:t.deltaY?-t.deltaY/3:0,this.changeDeltaScale(1+.05*t.delta));return this.last_mouse[0]=r,this.last_mouse[1]=i,t.preventDefault(),t.stopPropagation(),!1}},a.prototype.toCanvasContext=function(t){t.scale(this.scale,this.scale),t.translate(this.offset[0],this.offset[1])},a.prototype.convertOffsetToCanvas=function(t){return[(t[0]+this.offset[0])*this.scale,(t[1]+this.offset[1])*this.scale]},a.prototype.convertCanvasToOffset=function(t,e){return(e=e||[0,0])[0]=t[0]/this.scale-this.offset[0],e[1]=t[1]/this.scale-this.offset[1],e},a.prototype.mouseDrag=function(t,e){this.offset[0]+=t/this.scale,this.offset[1]+=e/this.scale,this.onredraw&&this.onredraw(this)},a.prototype.changeScale=function(t,e){if(t<this.min_scale?t=this.min_scale:t>this.max_scale&&(t=this.max_scale),t!=this.scale&&this.element){var n=this.element.getBoundingClientRect();if(n){e=e||[.5*n.width,.5*n.height];var r=this.convertCanvasToOffset(e);this.scale=t,Math.abs(this.scale-1)<.01&&(this.scale=1);var i=this.convertCanvasToOffset(e),o=[i[0]-r[0],i[1]-r[1]];this.offset[0]+=o[0],this.offset[1]+=o[1],this.onredraw&&this.onredraw(this)}}},a.prototype.changeDeltaScale=function(t,e){this.changeScale(this.scale*t,e)},a.prototype.reset=function(){this.scale=1,this.offset[0]=0,this.offset[1]=0},e.LGraphCanvas=n.LGraphCanvas=u,u.link_type_colors={"-1":n.EVENT_LINK_COLOR,number:"#AAA",node:"#DCA"},u.gradients={},u.prototype.clear=function(){this.frame=0,this.last_draw_time=0,this.render_time=0,this.fps=0,this.dragging_rectangle=null,this.selected_nodes={},this.selected_group=null,this.visible_nodes=[],this.node_dragged=null,this.node_over=null,this.node_capturing_input=null,this.connecting_node=null,this.highlighted_links={},this.dirty_canvas=!0,this.dirty_bgcanvas=!0,this.dirty_area=null,this.node_in_panel=null,this.node_widget=null,this.last_mouse=[0,0],this.last_mouseclick=0,this.visible_area.set([0,0,0,0]),this.onClear&&this.onClear()},u.prototype.setGraph=function(t,e){this.graph!=t&&(e||this.clear(),t||!this.graph?(t.attachCanvas(this),this.setDirty(!0,!0)):this.graph.detachCanvas(this))},u.prototype.openSubgraph=function(t){if(!t)throw"graph cannot be null";if(this.graph==t)throw"graph cannot be the same";this.clear(),this.graph&&(this._graph_stack||(this._graph_stack=[]),this._graph_stack.push(this.graph)),t.attachCanvas(this),this.setDirty(!0,!0)},u.prototype.closeSubgraph=function(){if(this._graph_stack&&0!=this._graph_stack.length){var t=this.graph._subgraph_node,e=this._graph_stack.pop();this.selected_nodes={},this.highlighted_links={},e.attachCanvas(this),this.setDirty(!0,!0),t&&(this.centerOnNode(t),this.selectNodes([t]))}},u.prototype.getCurrentGraph=function(){return this.graph},u.prototype.setCanvas=function(t,e){if(t&&t.constructor===String&&!(t=document.getElementById(t)))throw"Error creating LiteGraph canvas: Canvas not found";if(t!==this.canvas&&(!t&&this.canvas&&(e||this.unbindEvents()),this.canvas=t,this.ds.element=t,t)){if(t.className+=" lgraphcanvas",t.data=this,t.tabindex="1",this.bgcanvas=null,this.bgcanvas||(this.bgcanvas=document.createElement("canvas"),this.bgcanvas.width=this.canvas.width,this.bgcanvas.height=this.canvas.height),null==t.getContext){if("canvas"!=t.localName)throw"Element supplied for LGraphCanvas must be a <canvas> element, you passed a "+t.localName;throw"This browser doesn't support Canvas"}null==(this.ctx=t.getContext("2d"))&&(t.webgl_enabled||console.warn("This canvas seems to be WebGL, enabling WebGL renderer"),this.enableWebGL()),this._mousemove_callback=this.processMouseMove.bind(this),this._mouseup_callback=this.processMouseUp.bind(this),e||this.bindEvents()}},u.prototype._doNothing=function(t){return t.preventDefault(),!1},u.prototype._doReturnTrue=function(t){return t.preventDefault(),!0},u.prototype.bindEvents=function(){if(this._events_binded)console.warn("LGraphCanvas: events already binded");else{var t=this.canvas,e=this.getCanvasWindow().document;this._mousedown_callback=this.processMouseDown.bind(this),this._mousewheel_callback=this.processMouseWheel.bind(this),t.addEventListener("mousedown",this._mousedown_callback,!0),t.addEventListener("mousemove",this._mousemove_callback),t.addEventListener("mousewheel",this._mousewheel_callback,!1),t.addEventListener("contextmenu",this._doNothing),t.addEventListener("DOMMouseScroll",this._mousewheel_callback,!1),t.addEventListener("touchstart",this.touchHandler,!0),t.addEventListener("touchmove",this.touchHandler,!0),t.addEventListener("touchend",this.touchHandler,!0),t.addEventListener("touchcancel",this.touchHandler,!0),this._key_callback=this.processKey.bind(this),t.addEventListener("keydown",this._key_callback,!0),e.addEventListener("keyup",this._key_callback,!0),this._ondrop_callback=this.processDrop.bind(this),t.addEventListener("dragover",this._doNothing,!1),t.addEventListener("dragend",this._doNothing,!1),t.addEventListener("drop",this._ondrop_callback,!1),t.addEventListener("dragenter",this._doReturnTrue,!1),this._events_binded=!0}},u.prototype.unbindEvents=function(){if(this._events_binded){var t=this.getCanvasWindow().document;this.canvas.removeEventListener("mousedown",this._mousedown_callback),this.canvas.removeEventListener("mousewheel",this._mousewheel_callback),this.canvas.removeEventListener("DOMMouseScroll",this._mousewheel_callback),this.canvas.removeEventListener("keydown",this._key_callback),t.removeEventListener("keyup",this._key_callback),this.canvas.removeEventListener("contextmenu",this._doNothing),this.canvas.removeEventListener("drop",this._ondrop_callback),this.canvas.removeEventListener("dragenter",this._doReturnTrue),this.canvas.removeEventListener("touchstart",this.touchHandler),this.canvas.removeEventListener("touchmove",this.touchHandler),this.canvas.removeEventListener("touchend",this.touchHandler),this.canvas.removeEventListener("touchcancel",this.touchHandler),this._mousedown_callback=null,this._mousewheel_callback=null,this._key_callback=null,this._ondrop_callback=null,this._events_binded=!1}else console.warn("LGraphCanvas: no events binded")},u.getFileExtension=function(t){var e=t.indexOf("?");-1!=e&&(t=t.substr(0,e));var n=t.lastIndexOf(".");return-1==n?"":t.substr(n+1).toLowerCase()},u.prototype.enableWebGL=function(){if(void 0===typeof GL)throw"litegl.js must be included to use a WebGL canvas";if(void 0===typeof enableWebGLCanvas)throw"webglCanvas.js must be included to use this feature";this.gl=this.ctx=enableWebGLCanvas(this.canvas),this.ctx.webgl=!0,this.bgcanvas=this.canvas,this.bgctx=this.gl,this.canvas.webgl_enabled=!0},u.prototype.setDirty=function(t,e){t&&(this.dirty_canvas=!0),e&&(this.dirty_bgcanvas=!0)},u.prototype.getCanvasWindow=function(){if(!this.canvas)return window;var t=this.canvas.ownerDocument;return t.defaultView||t.parentWindow},u.prototype.startRendering=function(){this.is_rendering||(this.is_rendering=!0,function t(){this.pause_rendering||this.draw();var e=this.getCanvasWindow();this.is_rendering&&e.requestAnimationFrame(t.bind(this))}.call(this))},u.prototype.stopRendering=function(){this.is_rendering=!1},u.prototype.processMouseDown=function(t){if(this.graph){this.adjustMouseEvent(t);var e=this.getCanvasWindow();e.document;u.active_canvas=this;this.canvas.removeEventListener("mousemove",this._mousemove_callback),e.document.addEventListener("mousemove",this._mousemove_callback,!0),e.document.addEventListener("mouseup",this._mouseup_callback,!0);var r=this.graph.getNodeOnPos(t.canvasX,t.canvasY,this.visible_nodes,5),i=!1,o=n.getTime()-this.last_mouseclick<300;if(this.canvas_mouse[0]=t.canvasX,this.canvas_mouse[1]=t.canvasY,this.canvas.focus(),n.closeAllContextMenus(e),!this.onMouse||1!=this.onMouse(t)){if(1==t.which){t.ctrlKey&&(this.dragging_rectangle=new Float32Array(4),this.dragging_rectangle[0]=t.canvasX,this.dragging_rectangle[1]=t.canvasY,this.dragging_rectangle[2]=1,this.dragging_rectangle[3]=1,i=!0);var s=!1;if(r&&this.allow_interaction&&!i&&!this.read_only){if(this.live_mode||r.flags.pinned||this.bringToFront(r),!this.connecting_node&&!r.flags.collapsed&&!this.live_mode)if(!i&&!1!==r.resizable&&_(t.canvasX,t.canvasY,r.pos[0]+r.size[0]-5,r.pos[1]+r.size[1]-5,10,10))this.resizing_node=r,this.canvas.style.cursor="se-resize",i=!0;else{if(r.outputs)for(var a=0,l=r.outputs.length;a<l;++a){var c=r.outputs[a],p=r.getConnectionPos(!1,a);if(_(t.canvasX,t.canvasY,p[0]-15,p[1]-10,30,20)){this.connecting_node=r,this.connecting_output=c,this.connecting_pos=r.getConnectionPos(!1,a),this.connecting_slot=a,t.shiftKey&&r.disconnectOutput(a),o?r.onOutputDblClick&&r.onOutputDblClick(a,t):r.onOutputClick&&r.onOutputClick(a,t),i=!0;break}}if(r.inputs)for(a=0,l=r.inputs.length;a<l;++a){var h=r.inputs[a];p=r.getConnectionPos(!0,a);if(_(t.canvasX,t.canvasY,p[0]-15,p[1]-10,30,20)&&(o?r.onInputDblClick&&r.onInputDblClick(a,t):r.onInputClick&&r.onInputClick(a,t),null!==h.link)){var d=this.graph.links[h.link];r.disconnectInput(a),(this.allow_reconnect_links||t.shiftKey)&&(this.connecting_node=this.graph._nodes_by_id[d.origin_id],this.connecting_slot=d.origin_slot,this.connecting_output=this.connecting_node.outputs[this.connecting_slot],this.connecting_pos=this.connecting_node.getConnectionPos(!1,this.connecting_slot)),this.dirty_bgcanvas=!0,i=!0}}}if(!i){var f=!1,g=this.processNodeWidgets(r,this.canvas_mouse,t);g&&(f=!0,this.node_widget=[r,g]),o&&this.selected_nodes[r.id]&&(r.onDblClick&&r.onDblClick(t,[t.canvasX-r.pos[0],t.canvasY-r.pos[1]],this),this.processNodeDblClicked(r),f=!0),r.onMouseDown&&r.onMouseDown(t,[t.canvasX-r.pos[0],t.canvasY-r.pos[1]],this)?f=!0:this.live_mode&&(s=!0,f=!0),f||(this.allow_dragnodes&&(this.node_dragged=r),this.selected_nodes[r.id]||this.processNodeSelected(r,t)),this.dirty_canvas=!0}}else{if(!this.read_only)for(a=0;a<this.visible_links.length;++a){var m=this.visible_links[a],y=m._pos;if(!(!y||t.canvasX<y[0]-4||t.canvasX>y[0]+4||t.canvasY<y[1]-4||t.canvasY>y[1]+4)){this.showLinkMenu(m,t),this.over_link_center=null;break}}if(this.selected_group=this.graph.getGroupOnPos(t.canvasX,t.canvasY),this.selected_group_resizing=!1,this.selected_group&&!this.read_only)t.ctrlKey&&(this.dragging_rectangle=null),v([t.canvasX,t.canvasY],[this.selected_group.pos[0]+this.selected_group.size[0],this.selected_group.pos[1]+this.selected_group.size[1]])*this.ds.scale<10?this.selected_group_resizing=!0:this.selected_group.recomputeInsideNodes();o&&!this.read_only&&this.allow_searchbox&&this.showSearchBox(t),s=!0}!i&&s&&this.allow_dragcanvas&&(this.dragging_canvas=!0)}else 2==t.which||3==t.which&&(this.read_only||this.processContextMenu(r,t));return this.last_mouse[0]=t.localX,this.last_mouse[1]=t.localY,this.last_mouseclick=n.getTime(),this.last_mouse_dragging=!0,this.graph.change(),(!e.document.activeElement||"input"!=e.document.activeElement.nodeName.toLowerCase()&&"textarea"!=e.document.activeElement.nodeName.toLowerCase())&&t.preventDefault(),t.stopPropagation(),this.onMouseDown&&this.onMouseDown(t),!1}}},u.prototype.processMouseMove=function(t){if(this.autoresize&&this.resize(),this.graph){u.active_canvas=this,this.adjustMouseEvent(t);var e=[t.localX,t.localY],r=[e[0]-this.last_mouse[0],e[1]-this.last_mouse[1]];if(this.last_mouse=e,this.canvas_mouse[0]=t.canvasX,this.canvas_mouse[1]=t.canvasY,t.dragging=this.last_mouse_dragging,this.node_widget&&(this.processNodeWidgets(this.node_widget[0],this.canvas_mouse,t,this.node_widget[1]),this.dirty_canvas=!0),this.dragging_rectangle)this.dragging_rectangle[2]=t.canvasX-this.dragging_rectangle[0],this.dragging_rectangle[3]=t.canvasY-this.dragging_rectangle[1],this.dirty_canvas=!0;else if(this.selected_group&&!this.read_only){if(this.selected_group_resizing)this.selected_group.size=[t.canvasX-this.selected_group.pos[0],t.canvasY-this.selected_group.pos[1]];else{var i=r[0]/this.ds.scale,o=r[1]/this.ds.scale;this.selected_group.move(i,o,t.ctrlKey),this.selected_group._nodes.length&&(this.dirty_canvas=!0)}this.dirty_bgcanvas=!0}else if(this.dragging_canvas)this.ds.offset[0]+=r[0]/this.ds.scale,this.ds.offset[1]+=r[1]/this.ds.scale,this.dirty_canvas=!0,this.dirty_bgcanvas=!0;else if(this.allow_interaction&&!this.read_only){this.connecting_node&&(this.dirty_canvas=!0);for(var s=this.graph.getNodeOnPos(t.canvasX,t.canvasY,this.visible_nodes),a=0,l=this.graph._nodes.length;a<l;++a)this.graph._nodes[a].mouseOver&&s!=this.graph._nodes[a]&&(this.graph._nodes[a].mouseOver=!1,this.node_over&&this.node_over.onMouseLeave&&this.node_over.onMouseLeave(t),this.node_over=null,this.dirty_canvas=!0);if(s){if(s.mouseOver||(s.mouseOver=!0,this.node_over=s,this.dirty_canvas=!0,s.onMouseEnter&&s.onMouseEnter(t)),s.onMouseMove&&s.onMouseMove(t,[t.canvasX-s.pos[0],t.canvasY-s.pos[1]],this),this.connecting_node){var c=this._highlight_input||[0,0];if(this.isOverNodeBox(s,t.canvasX,t.canvasY));else{var p=this.isOverNodeInput(s,t.canvasX,t.canvasY,c);if(-1!=p&&s.inputs[p]){var h=s.inputs[p].type;n.isValidConnection(this.connecting_output.type,h)&&(this._highlight_input=c)}else this._highlight_input=null}}this.canvas&&(_(t.canvasX,t.canvasY,s.pos[0]+s.size[0]-5,s.pos[1]+s.size[1]-5,5,5)?this.canvas.style.cursor="se-resize":this.canvas.style.cursor="crosshair")}else{var d=null;for(a=0;a<this.visible_links.length;++a){var f=this.visible_links[a],g=f._pos;if(!(!g||t.canvasX<g[0]-4||t.canvasX>g[0]+4||t.canvasY<g[1]-4||t.canvasY>g[1]+4)){d=f;break}}d!=this.over_link_center&&(this.over_link_center=d,this.dirty_canvas=!0),this.canvas&&(this.canvas.style.cursor="")}if(this.node_capturing_input&&this.node_capturing_input!=s&&this.node_capturing_input.onMouseMove&&this.node_capturing_input.onMouseMove(t,[t.canvasX-this.node_capturing_input.pos[0],t.canvasY-this.node_capturing_input.pos[1]],this),this.node_dragged&&!this.live_mode){for(var a in this.selected_nodes){var v=this.selected_nodes[a];v.pos[0]+=r[0]/this.ds.scale,v.pos[1]+=r[1]/this.ds.scale}this.dirty_canvas=!0,this.dirty_bgcanvas=!0}if(this.resizing_node&&!this.live_mode){this.resizing_node.size[0]=t.canvasX-this.resizing_node.pos[0],this.resizing_node.size[1]=t.canvasY-this.resizing_node.pos[1];var m=Math.max(this.resizing_node.inputs?this.resizing_node.inputs.length:0,this.resizing_node.outputs?this.resizing_node.outputs.length:0)*n.NODE_SLOT_HEIGHT+(this.resizing_node.widgets?this.resizing_node.widgets.length:0)*(n.NODE_WIDGET_HEIGHT+4)+4;this.resizing_node.size[1]<m&&(this.resizing_node.size[1]=m),this.resizing_node.size[0]<n.NODE_MIN_WIDTH&&(this.resizing_node.size[0]=n.NODE_MIN_WIDTH),this.canvas.style.cursor="se-resize",this.dirty_canvas=!0,this.dirty_bgcanvas=!0}}return t.preventDefault(),!1}},u.prototype.processMouseUp=function(t){if(this.graph){var e=this.getCanvasWindow().document;u.active_canvas=this,e.removeEventListener("mousemove",this._mousemove_callback,!0),this.canvas.addEventListener("mousemove",this._mousemove_callback,!0),e.removeEventListener("mouseup",this._mouseup_callback,!0),this.adjustMouseEvent(t);var r=n.getTime();if(t.click_time=r-this.last_mouseclick,this.last_mouse_dragging=!1,1==t.which){if(this.node_widget=null,this.selected_group){var i=this.selected_group.pos[0]-Math.round(this.selected_group.pos[0]),o=this.selected_group.pos[1]-Math.round(this.selected_group.pos[1]);this.selected_group.move(i,o,t.ctrlKey),this.selected_group.pos[0]=Math.round(this.selected_group.pos[0]),this.selected_group.pos[1]=Math.round(this.selected_group.pos[1]),this.selected_group._nodes.length&&(this.dirty_canvas=!0),this.selected_group=null}if(this.selected_group_resizing=!1,this.dragging_rectangle){if(this.graph){var s=this.graph._nodes,a=new Float32Array(4);this.deselectAllNodes();var l=Math.abs(this.dragging_rectangle[2]),c=Math.abs(this.dragging_rectangle[3]),p=this.dragging_rectangle[2]<0?this.dragging_rectangle[0]-l:this.dragging_rectangle[0],h=this.dragging_rectangle[3]<0?this.dragging_rectangle[1]-c:this.dragging_rectangle[1];this.dragging_rectangle[0]=p,this.dragging_rectangle[1]=h,this.dragging_rectangle[2]=l,this.dragging_rectangle[3]=c;for(var d=[],f=0;f<s.length;++f){(y=s[f]).getBounding(a),m(this.dragging_rectangle,a)&&d.push(y)}d.length&&this.selectNodes(d)}this.dragging_rectangle=null}else if(this.connecting_node){if(this.dirty_canvas=!0,this.dirty_bgcanvas=!0,y=this.graph.getNodeOnPos(t.canvasX,t.canvasY,this.visible_nodes))if(this.connecting_output.type==n.EVENT&&this.isOverNodeBox(y,t.canvasX,t.canvasY))this.connecting_node.connect(this.connecting_slot,y,n.EVENT);else{var g=this.isOverNodeInput(y,t.canvasX,t.canvasY);if(-1!=g)this.connecting_node.connect(this.connecting_slot,y,g);else{var v=y.getInputInfo(0);this.connecting_output.type==n.EVENT?this.connecting_node.connect(this.connecting_slot,y,n.EVENT):v&&!v.link&&n.isValidConnection(v.type&&this.connecting_output.type)&&this.connecting_node.connect(this.connecting_slot,y,0)}}this.connecting_output=null,this.connecting_pos=null,this.connecting_node=null,this.connecting_slot=-1}else if(this.resizing_node)this.dirty_canvas=!0,this.dirty_bgcanvas=!0,this.resizing_node=null;else if(this.node_dragged){(y=this.node_dragged)&&t.click_time<300&&_(t.canvasX,t.canvasY,y.pos[0],y.pos[1]-n.NODE_TITLE_HEIGHT,n.NODE_TITLE_HEIGHT,n.NODE_TITLE_HEIGHT)&&y.collapse(),this.dirty_canvas=!0,this.dirty_bgcanvas=!0,this.node_dragged.pos[0]=Math.round(this.node_dragged.pos[0]),this.node_dragged.pos[1]=Math.round(this.node_dragged.pos[1]),this.graph.config.align_to_grid&&this.node_dragged.alignToGrid(),this.onNodeMoved&&this.onNodeMoved(this.node_dragged),this.node_dragged=null}else{var y;!(y=this.graph.getNodeOnPos(t.canvasX,t.canvasY,this.visible_nodes))&&t.click_time<300&&this.deselectAllNodes(),this.dirty_canvas=!0,this.dragging_canvas=!1,this.node_over&&this.node_over.onMouseUp&&this.node_over.onMouseUp(t,[t.canvasX-this.node_over.pos[0],t.canvasY-this.node_over.pos[1]],this),this.node_capturing_input&&this.node_capturing_input.onMouseUp&&this.node_capturing_input.onMouseUp(t,[t.canvasX-this.node_capturing_input.pos[0],t.canvasY-this.node_capturing_input.pos[1]])}}else 2==t.which?(this.dirty_canvas=!0,this.dragging_canvas=!1):3==t.which&&(this.dirty_canvas=!0,this.dragging_canvas=!1);return this.graph.change(),t.stopPropagation(),t.preventDefault(),!1}},u.prototype.processMouseWheel=function(t){if(this.graph&&this.allow_dragcanvas){var e=null!=t.wheelDeltaY?t.wheelDeltaY:-60*t.detail;this.adjustMouseEvent(t);var n=this.ds.scale;return e>0?n*=1.1:e<0&&(n*=1/1.1),this.ds.changeScale(n,[t.localX,t.localY]),this.graph.change(),t.preventDefault(),!1}},u.prototype.isOverNodeBox=function(t,e,r){var i=n.NODE_TITLE_HEIGHT;return!!_(e,r,t.pos[0]+2,t.pos[1]+2-i,i-4,i-4)},u.prototype.isOverNodeInput=function(t,e,n,r){if(t.inputs)for(var i=0,o=t.inputs.length;i<o;++i){t.inputs[i];var s=t.getConnectionPos(!0,i);if(t.horizontal?_(e,n,s[0]-5,s[1]-10,10,20):_(e,n,s[0]-10,s[1]-5,40,10))return r&&(r[0]=s[0],r[1]=s[1]),i}return-1},u.prototype.processKey=function(t){if(this.graph){var e=!1;if("input"!=t.target.localName){if("keydown"==t.type){if(32==t.keyCode&&(this.dragging_canvas=!0,e=!0),65==t.keyCode&&t.ctrlKey&&(this.selectNodes(),e=!0),"KeyC"!=t.code||!t.metaKey&&!t.ctrlKey||t.shiftKey||this.selected_nodes&&(this.copyToClipboard(),e=!0),"KeyV"!=t.code||!t.metaKey&&!t.ctrlKey||t.shiftKey||this.pasteFromClipboard(),46!=t.keyCode&&8!=t.keyCode||"input"!=t.target.localName&&"textarea"!=t.target.localName&&(this.deleteSelectedNodes(),e=!0),this.selected_nodes)for(var n in this.selected_nodes)this.selected_nodes[n].onKeyDown&&this.selected_nodes[n].onKeyDown(t)}else if("keyup"==t.type&&(32==t.keyCode&&(this.dragging_canvas=!1),this.selected_nodes))for(var n in this.selected_nodes)this.selected_nodes[n].onKeyUp&&this.selected_nodes[n].onKeyUp(t);return this.graph.change(),e?(t.preventDefault(),t.stopImmediatePropagation(),!1):void 0}}},u.prototype.copyToClipboard=function(){var t={nodes:[],links:[]},e=0,n=[];for(var r in this.selected_nodes){(i=this.selected_nodes[r])._relative_id=e,n.push(i),e+=1}for(r=0;r<n.length;++r){var i,o=(i=n[r]).clone();if(o){if(t.nodes.push(o.serialize()),i.inputs&&i.inputs.length)for(var s=0;s<i.inputs.length;++s){var a=i.inputs[s];if(a&&null!=a.link){var u=this.graph.links[a.link];if(u){var l=this.graph.getNodeById(u.origin_id);l&&this.selected_nodes[l.id]&&t.links.push([l._relative_id,u.origin_slot,i._relative_id,u.target_slot])}}}}else console.warn("node type not found: "+i.type)}localStorage.setItem("litegrapheditor_clipboard",JSON.stringify(t))},u.prototype.pasteFromClipboard=function(){var t=localStorage.getItem("litegrapheditor_clipboard");if(t){for(var e=JSON.parse(t),r=[],i=0;i<e.nodes.length;++i){var o=e.nodes[i],s=n.createNode(o.type);s&&(s.configure(o),s.pos[0]+=5,s.pos[1]+=5,this.graph.add(s),r.push(s))}for(i=0;i<e.links.length;++i){var a=e.links[i],u=r[a[0]],l=r[a[2]];u&&l?u.connect(a[1],l,a[3]):console.warn("Warning, nodes missing on pasting")}this.selectNodes(r)}},u.prototype.processDrop=function(t){t.preventDefault(),this.adjustMouseEvent(t);var e=[t.canvasX,t.canvasY],n=this.graph.getNodeOnPos(e[0],e[1]);if(!n){var r=null;return this.onDropItem&&(r=this.onDropItem(event)),void(r||this.checkDropItem(t))}if(n.onDropFile||n.onDropData){var i=t.dataTransfer.files;if(i&&i.length)for(var o=0;o<i.length;o++){var s=t.dataTransfer.files[0],a=s.name;u.getFileExtension(a);if(n.onDropFile&&n.onDropFile(s),n.onDropData){var l=new FileReader;l.onload=function(t){var e=t.target.result;n.onDropData(e,a,s)};var c=s.type.split("/")[0];"text"==c||""==c?l.readAsText(s):"image"==c?l.readAsDataURL(s):l.readAsArrayBuffer(s)}}}return!(!n.onDropItem||!n.onDropItem(event))||!!this.onDropItem&&this.onDropItem(event)},u.prototype.checkDropItem=function(t){if(t.dataTransfer.files.length){var e=t.dataTransfer.files[0],r=u.getFileExtension(e.name).toLowerCase(),i=n.node_types_by_file_extension[r];if(i){var o=n.createNode(i.type);o.pos=[t.canvasX,t.canvasY],this.graph.add(o),o.onDropFile&&o.onDropFile(e)}}},u.prototype.processNodeDblClicked=function(t){this.onShowNodePanel&&this.onShowNodePanel(t),this.onNodeDblClicked&&this.onNodeDblClicked(t),this.setDirty(!0)},u.prototype.processNodeSelected=function(t,e){this.selectNode(t,e&&e.shiftKey),this.onNodeSelected&&this.onNodeSelected(t)},u.prototype.selectNode=function(t,e){null==t?this.deselectAllNodes():this.selectNodes([t],e)},u.prototype.selectNodes=function(t,e){e||this.deselectAllNodes(),t=t||this.graph._nodes;for(var n=0;n<t.length;++n){var r=t[n];if(!r.is_selected){if(!r.is_selected&&r.onSelected&&r.onSelected(),r.is_selected=!0,this.selected_nodes[r.id]=r,r.inputs)for(var i=0;i<r.inputs.length;++i)this.highlighted_links[r.inputs[i].link]=!0;if(r.outputs)for(i=0;i<r.outputs.length;++i){var o=r.outputs[i];if(o.links)for(var s=0;s<o.links.length;++s)this.highlighted_links[o.links[s]]=!0}}}this.onSelectionChange&&this.onSelectionChange(this.selected_nodes),this.setDirty(!0)},u.prototype.deselectNode=function(t){if(t.is_selected){if(t.onDeselected&&t.onDeselected(),t.is_selected=!1,this.onNodeDeselected&&this.onNodeDeselected(t),t.inputs)for(var e=0;e<t.inputs.length;++e)delete this.highlighted_links[t.inputs[e].link];if(t.outputs)for(e=0;e<t.outputs.length;++e){var n=t.outputs[e];if(n.links)for(var r=0;r<n.links.length;++r)delete this.highlighted_links[n.links[r]]}}},u.prototype.deselectAllNodes=function(){if(this.graph){for(var t=this.graph._nodes,e=0,n=t.length;e<n;++e){var r=t[e];r.is_selected&&(r.onDeselected&&r.onDeselected(),r.is_selected=!1,this.onNodeDeselected&&this.onNodeDeselected(r))}this.selected_nodes={},this.current_node=null,this.highlighted_links={},this.onSelectionChange&&this.onSelectionChange(this.selected_nodes),this.setDirty(!0)}},u.prototype.deleteSelectedNodes=function(){for(var t in this.selected_nodes){var e=this.selected_nodes[t];if(e.inputs&&e.inputs.length&&e.outputs&&e.outputs.length&&n.isValidConnection(e.inputs[0].type,e.outputs[0].type)&&e.inputs[0].link&&e.outputs[0].links&&e.outputs[0].links.length){var r=e.graph.links[e.inputs[0].link],i=e.graph.links[e.outputs[0].links[0]],o=e.getInputNode(0),s=e.getOutputNodes(0)[0];o&&s&&o.connect(r.origin_slot,s,i.target_slot)}this.graph.remove(e),this.onNodeDeselected&&this.onNodeDeselected(e)}this.selected_nodes={},this.current_node=null,this.highlighted_links={},this.setDirty(!0)},u.prototype.centerOnNode=function(t){this.ds.offset[0]=-t.pos[0]-.5*t.size[0]+.5*this.canvas.width/this.ds.scale,this.ds.offset[1]=-t.pos[1]-.5*t.size[1]+.5*this.canvas.height/this.ds.scale,this.setDirty(!0,!0)},u.prototype.adjustMouseEvent=function(t){if(this.canvas){var e=this.canvas.getBoundingClientRect();t.localX=t.clientX-e.left,t.localY=t.clientY-e.top}else t.localX=t.clientX,t.localY=t.clientY;t.deltaX=t.localX-this.last_mouse_position[0],t.deltaY=t.localY-this.last_mouse_position[1],this.last_mouse_position[0]=t.localX,this.last_mouse_position[1]=t.localY,t.canvasX=t.localX/this.ds.scale-this.ds.offset[0],t.canvasY=t.localY/this.ds.scale-this.ds.offset[1]},u.prototype.setZoom=function(t,e){this.ds.changeScale(t,e),this.dirty_canvas=!0,this.dirty_bgcanvas=!0},u.prototype.convertOffsetToCanvas=function(t,e){return this.ds.convertOffsetToCanvas(t,e)},u.prototype.convertCanvasToOffset=function(t,e){return this.ds.convertCanvasToOffset(t,e)},u.prototype.convertEventToCanvasOffset=function(t){var e=this.canvas.getBoundingClientRect();return this.convertCanvasToOffset([t.clientX-e.left,t.clientY-e.top])},u.prototype.bringToFront=function(t){var e=this.graph._nodes.indexOf(t);-1!=e&&(this.graph._nodes.splice(e,1),this.graph._nodes.push(t))},u.prototype.sendToBack=function(t){var e=this.graph._nodes.indexOf(t);-1!=e&&(this.graph._nodes.splice(e,1),this.graph._nodes.unshift(t))};var l=new Float32Array(4);u.prototype.computeVisibleNodes=function(t,e){var n=e||[];n.length=0;for(var r=0,i=(t=t||this.graph._nodes).length;r<i;++r){var o=t[r];(!this.live_mode||o.onDrawBackground||o.onDrawForeground)&&(m(this.visible_area,o.getBounding(l))&&n.push(o))}return n},u.prototype.draw=function(t,e){if(this.canvas){var r=n.getTime();this.render_time=.001*(r-this.last_draw_time),this.last_draw_time=r,this.graph&&this.ds.computeVisibleArea(),(this.dirty_bgcanvas||e||this.always_render_background||this.graph&&this.graph._last_trigger_time&&r-this.graph._last_trigger_time<1e3)&&this.drawBackCanvas(),(this.dirty_canvas||t)&&this.drawFrontCanvas(),this.fps=this.render_time?1/this.render_time:0,this.frame+=1}},u.prototype.drawFrontCanvas=function(){this.dirty_canvas=!1,this.ctx||(this.ctx=this.bgcanvas.getContext("2d"));var t=this.ctx;if(t){t.start2D&&t.start2D();var e=this.canvas;if(t.restore(),t.setTransform(1,0,0,1,0,0),this.dirty_area&&(t.save(),t.beginPath(),t.rect(this.dirty_area[0],this.dirty_area[1],this.dirty_area[2],this.dirty_area[3]),t.clip()),this.clear_background&&t.clearRect(0,0,e.width,e.height),this.bgcanvas==this.canvas?this.drawBackCanvas():t.drawImage(this.bgcanvas,0,0),this.onRender&&this.onRender(e,t),this.show_info&&this.renderInfo(t),this.graph){t.save(),this.ds.toCanvasContext(t);for(var r=this.computeVisibleNodes(null,this.visible_nodes),i=0;i<r.length;++i){var o=r[i];t.save(),t.translate(o.pos[0],o.pos[1]),this.drawNode(o,t),1,t.restore()}if(this.render_execution_order&&this.drawExecutionOrder(t),this.graph.config.links_ontop&&(this.live_mode||this.drawConnections(t)),null!=this.connecting_pos){t.lineWidth=this.connections_width;var s=null;switch(this.connecting_output.type){case n.EVENT:s=n.EVENT_LINK_COLOR;break;default:s=n.CONNECTING_LINK_COLOR}this.renderLink(t,this.connecting_pos,[this.canvas_mouse[0],this.canvas_mouse[1]],null,!1,null,s,this.connecting_output.dir||(this.connecting_node.horizontal?n.DOWN:n.RIGHT),n.CENTER),t.beginPath(),this.connecting_output.type===n.EVENT||this.connecting_output.shape===n.BOX_SHAPE?t.rect(this.connecting_pos[0]-6+.5,this.connecting_pos[1]-5+.5,14,10):t.arc(this.connecting_pos[0],this.connecting_pos[1],4,0,2*Math.PI),t.fill(),t.fillStyle="#ffcc00",this._highlight_input&&(t.beginPath(),t.arc(this._highlight_input[0],this._highlight_input[1],6,0,2*Math.PI),t.fill())}this.dragging_rectangle&&(t.strokeStyle="#FFF",t.strokeRect(this.dragging_rectangle[0],this.dragging_rectangle[1],this.dragging_rectangle[2],this.dragging_rectangle[3])),this.over_link_center&&this.render_link_tooltip?this.drawLinkTooltip(t,this.over_link_center):this.onDrawLinkTooltip&&this.onDrawLinkTooltip(t,null),this.onDrawForeground&&this.onDrawForeground(t,this.visible_rect),t.restore()}this.onDrawOverlay&&this.onDrawOverlay(t),this.dirty_area&&t.restore(),t.finish2D&&t.finish2D()}},u.prototype.renderInfo=function(t,e,n){e=e||0,n=n||0,t.save(),t.translate(e,n),t.font="10px Arial",t.fillStyle="#888",this.graph?(t.fillText("T: "+this.graph.globaltime.toFixed(2)+"s",5,13),t.fillText("I: "+this.graph.iteration,5,26),t.fillText("N: "+this.graph._nodes.length+" ["+this.visible_nodes.length+"]",5,39),t.fillText("V: "+this.graph._version,5,52),t.fillText("FPS:"+this.fps.toFixed(2),5,65)):t.fillText("No graph selected",5,13),t.restore()},u.prototype.drawBackCanvas=function(){var t=this.bgcanvas;t.width==this.canvas.width&&t.height==this.canvas.height||(t.width=this.canvas.width,t.height=this.canvas.height),this.bgctx||(this.bgctx=this.bgcanvas.getContext("2d"));var e=this.bgctx;if(e.start&&e.start(),this.clear_background&&e.clearRect(0,0,t.width,t.height),this._graph_stack&&this._graph_stack.length){e.save();this._graph_stack[this._graph_stack.length-1];var n=this.graph._subgraph_node;e.strokeStyle=n.bgcolor,e.lineWidth=10,e.strokeRect(1,1,t.width-2,t.height-2),e.lineWidth=1,e.font="40px Arial",e.textAlign="center",e.fillStyle=n.bgcolor||"#AAA";for(var r="",i=1;i<this._graph_stack.length;++i)r+=this._graph_stack[i]._subgraph_node.getTitle()+" >> ";e.fillText(r+n.getTitle(),.5*t.width,40),e.restore()}var o=!1;if(this.onRenderBackground&&(o=this.onRenderBackground(t,e)),e.restore(),e.setTransform(1,0,0,1,0,0),this.visible_links.length=0,this.graph){if(e.save(),this.ds.toCanvasContext(e),this.background_image&&this.ds.scale>.5&&!o){if(this.zoom_modify_alpha?e.globalAlpha=(1-.5/this.ds.scale)*this.editor_alpha:e.globalAlpha=this.editor_alpha,e.imageSmoothingEnabled=e.mozImageSmoothingEnabled=e.imageSmoothingEnabled=!1,!this._bg_img||this._bg_img.name!=this.background_image){this._bg_img=new Image,this._bg_img.name=this.background_image,this._bg_img.src=this.background_image;var s=this;this._bg_img.onload=function(){s.draw(!0,!0)}}var a=null;null==this._pattern&&this._bg_img.width>0?(a=e.createPattern(this._bg_img,"repeat"),this._pattern_img=this._bg_img,this._pattern=a):a=this._pattern,a&&(e.fillStyle=a,e.fillRect(this.visible_area[0],this.visible_area[1],this.visible_area[2],this.visible_area[3]),e.fillStyle="transparent"),e.globalAlpha=1,e.imageSmoothingEnabled=e.mozImageSmoothingEnabled=e.imageSmoothingEnabled=!0}this.graph._groups.length&&!this.live_mode&&this.drawGroups(t,e),this.onDrawBackground&&this.onDrawBackground(e,this.visible_area),this.onBackgroundRender&&(console.error("WARNING! onBackgroundRender deprecated, now is named onDrawBackground "),this.onBackgroundRender=null),this.render_canvas_border&&(e.strokeStyle="#235",e.strokeRect(0,0,t.width,t.height)),this.render_connections_shadows?(e.shadowColor="#000",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=6):e.shadowColor="rgba(0,0,0,0)",this.live_mode||this.drawConnections(e),e.shadowColor="rgba(0,0,0,0)",e.restore()}e.finish&&e.finish(),this.dirty_bgcanvas=!1,this.dirty_canvas=!0};var c=new Float32Array(2);u.prototype.drawNode=function(t,e){this.current_node=t;var r=t.color||t.constructor.color||n.NODE_DEFAULT_COLOR,i=t.bgcolor||t.constructor.bgcolor||n.NODE_DEFAULT_BGCOLOR;t.mouseOver;var o=this.ds.scale<.6;if(this.live_mode)t.flags.collapsed||(e.shadowColor="transparent",t.onDrawForeground&&t.onDrawForeground(e,this,this.canvas));else{var s=this.editor_alpha;if(e.globalAlpha=s,this.render_shadows&&!o?(e.shadowColor=n.DEFAULT_SHADOW_COLOR,e.shadowOffsetX=2*this.ds.scale,e.shadowOffsetY=2*this.ds.scale,e.shadowBlur=3*this.ds.scale):e.shadowColor="transparent",!t.flags.collapsed||!t.onDrawCollapsed||1!=t.onDrawCollapsed(e,this)){var a=t._shape||n.BOX_SHAPE,u=c;c.set(t.size);var l=t.horizontal;if(t.flags.collapsed){e.font=this.inner_text_font;var p=t.getTitle?t.getTitle():t.title;null!=p&&(t._collapsed_width=Math.min(t.size[0],e.measureText(p).width+2*n.NODE_TITLE_HEIGHT),u[0]=t._collapsed_width,u[1]=0)}t.clip_area&&(e.save(),e.beginPath(),a==n.BOX_SHAPE?e.rect(0,0,u[0],u[1]):a==n.ROUND_SHAPE?e.roundRect(0,0,u[0],u[1],10):a==n.CIRCLE_SHAPE&&e.arc(.5*u[0],.5*u[1],.5*u[0],0,2*Math.PI),e.clip()),t.has_errors&&(i="red"),this.drawNodeShape(t,e,u,r,i,t.is_selected,t.mouseOver),e.shadowColor="transparent",t.onDrawForeground&&t.onDrawForeground(e,this,this.canvas),e.textAlign=l?"center":"left",e.font=this.inner_text_font;var h=!o,d=this.connecting_output;e.lineWidth=1;var f=0,g=new Float32Array(2);if(t.flags.collapsed){if(this.render_collapsed_slots){var v=null,_=null;if(t.inputs)for(b=0;b<t.inputs.length;b++){if(null!=(x=t.inputs[b]).link){v=x;break}}if(t.outputs)for(b=0;b<t.outputs.length;b++){(x=t.outputs[b]).links&&x.links.length&&(_=x)}if(v){var m=0,y=-.5*n.NODE_TITLE_HEIGHT;l&&(m=.5*t._collapsed_width,y=-n.NODE_TITLE_HEIGHT),e.fillStyle="#686",e.beginPath(),x.type===n.EVENT||x.shape===n.BOX_SHAPE?e.rect(m-7+.5,y-4,14,8):x.shape===n.ARROW_SHAPE?(e.moveTo(m+8,y),e.lineTo(m+-4,y-4),e.lineTo(m+-4,y+4),e.closePath()):e.arc(m,y,4,0,2*Math.PI),e.fill()}if(_){m=t._collapsed_width,y=-.5*n.NODE_TITLE_HEIGHT;l&&(m=.5*t._collapsed_width,y=0),e.fillStyle="#686",e.strokeStyle="black",e.beginPath(),x.type===n.EVENT||x.shape===n.BOX_SHAPE?e.rect(m-7+.5,y-4,14,8):x.shape===n.ARROW_SHAPE?(e.moveTo(m+6,y),e.lineTo(m-6,y-4),e.lineTo(m-6,y+4),e.closePath()):e.arc(m,y,4,0,2*Math.PI),e.fill()}}}else{if(t.inputs)for(var b=0;b<t.inputs.length;b++){var x=t.inputs[b];if(e.globalAlpha=s,this.connecting_node&&!n.isValidConnection(x.type,d.type)&&(e.globalAlpha=.4*s),e.fillStyle=null!=x.link?x.color_on||this.default_connection_color.input_on:x.color_off||this.default_connection_color.input_off,(E=t.getConnectionPos(!0,b,g))[0]-=t.pos[0],E[1]-=t.pos[1],f<E[1]+.5*n.NODE_SLOT_HEIGHT&&(f=E[1]+.5*n.NODE_SLOT_HEIGHT),e.beginPath(),x.type===n.EVENT||x.shape===n.BOX_SHAPE?l?e.rect(E[0]-5+.5,E[1]-8+.5,10,14):e.rect(E[0]-6+.5,E[1]-5+.5,14,10):x.shape===n.ARROW_SHAPE?(e.moveTo(E[0]+8,E[1]+.5),e.lineTo(E[0]-4,E[1]+6+.5),e.lineTo(E[0]-4,E[1]-6+.5),e.closePath()):o?e.rect(E[0]-4,E[1]-4,8,8):e.arc(E[0],E[1],4,0,2*Math.PI),e.fill(),h)(w=null!=x.label?x.label:x.name)&&(e.fillStyle=n.NODE_TEXT_COLOR,l||x.dir==n.UP?e.fillText(w,E[0],E[1]-10):e.fillText(w,E[0]+10,E[1]+5))}if(this.connecting_node&&(e.globalAlpha=.4*s),e.textAlign=l?"center":"right",e.strokeStyle="black",t.outputs)for(var b=0;b<t.outputs.length;b++){var E,w,x=t.outputs[b];if((E=t.getConnectionPos(!1,b,g))[0]-=t.pos[0],E[1]-=t.pos[1],f<E[1]+.5*n.NODE_SLOT_HEIGHT&&(f=E[1]+.5*n.NODE_SLOT_HEIGHT),e.fillStyle=x.links&&x.links.length?x.color_on||this.default_connection_color.output_on:x.color_off||this.default_connection_color.output_off,e.beginPath(),x.type===n.EVENT||x.shape===n.BOX_SHAPE?l?e.rect(E[0]-5+.5,E[1]-8+.5,10,14):e.rect(E[0]-6+.5,E[1]-5+.5,14,10):x.shape===n.ARROW_SHAPE?(e.moveTo(E[0]+8,E[1]+.5),e.lineTo(E[0]-4,E[1]+6+.5),e.lineTo(E[0]-4,E[1]-6+.5),e.closePath()):o?e.rect(E[0]-4,E[1]-4,8,8):e.arc(E[0],E[1],4,0,2*Math.PI),e.fill(),o||e.stroke(),h)(w=null!=x.label?x.label:x.name)&&(e.fillStyle=n.NODE_TEXT_COLOR,l||x.dir==n.DOWN?e.fillText(w,E[0],E[1]-8):e.fillText(w,E[0]-10,E[1]+5))}if(e.textAlign="left",e.globalAlpha=1,t.widgets){var T=f;(l||t.widgets_up)&&(T=2),null!=t.widgets_start_y&&(T=t.widgets_start_y),this.drawNodeWidgets(t,T,e,this.node_widget&&this.node_widget[0]==t?this.node_widget[1]:null)}}t.clip_area&&e.restore(),e.globalAlpha=1}}},u.prototype.drawLinkTooltip=function(t,e){var n=e._pos;if(t.fillStyle="black",t.beginPath(),t.arc(n[0],n[1],3,0,2*Math.PI),t.fill(),null!=e.data&&(!this.onDrawLinkTooltip||1!=this.onDrawLinkTooltip(t,e,this))){var r=e.data,i=null;if(null!=(i=r.constructor===Number?r.toFixed(2):r.constructor===String?'"'+r+'"':r.constructor===Boolean?String(r):r.toToolTip?r.toToolTip():"["+r.constructor.name+"]")){t.font="14px Courier New";var o=t.measureText(i).width+20;t.shadowColor="black",t.shadowOffsetX=2,t.shadowOffsetY=2,t.shadowBlur=3,t.fillStyle="#454",t.beginPath(),t.roundRect(n[0]-.5*o,n[1]-15-24,o,24,3,3),t.moveTo(n[0]-10,n[1]-15),t.lineTo(n[0]+10,n[1]-15),t.lineTo(n[0],n[1]-5),t.fill(),t.shadowColor="transparent",t.textAlign="center",t.fillStyle="#CEC",t.fillText(i,n[0],n[1]-15-24*.3)}}};var p=new Float32Array(4);u.prototype.drawNodeShape=function(t,e,r,i,o,s,a){e.strokeStyle=i,e.fillStyle=o;var l=n.NODE_TITLE_HEIGHT,c=this.ds.scale<.5,h=t._shape||t.constructor.shape||n.ROUND_SHAPE,d=t.constructor.title_mode,f=!0;d==n.TRANSPARENT_TITLE?f=!1:d==n.AUTOHIDE_TITLE&&a&&(f=!0);var g=p;g[0]=0,g[1]=f?-l:0,g[2]=r[0]+1,g[3]=f?r[1]+l:r[1];var v=e.globalAlpha;if(e.beginPath(),h==n.BOX_SHAPE||c?e.fillRect(g[0],g[1],g[2],g[3]):h==n.ROUND_SHAPE||h==n.CARD_SHAPE?e.roundRect(g[0],g[1],g[2],g[3],this.round_radius,h==n.CARD_SHAPE?0:this.round_radius):h==n.CIRCLE_SHAPE&&e.arc(.5*r[0],.5*r[1],.5*r[0],0,2*Math.PI),e.fill(),t.flags.collapsed||(e.shadowColor="transparent",e.fillStyle="rgba(0,0,0,0.2)",e.fillRect(0,-1,g[2],2)),e.shadowColor="transparent",t.onDrawBackground&&t.onDrawBackground(e,this,this.canvas),f||d==n.TRANSPARENT_TITLE){if(t.onDrawTitleBar)t.onDrawTitleBar(e,l,r,this.ds.scale,i);else if(d!=n.TRANSPARENT_TITLE&&(t.constructor.title_color||this.render_title_colored)){var _=t.constructor.title_color||i;if(t.flags.collapsed&&(e.shadowColor=n.DEFAULT_SHADOW_COLOR),this.use_gradients){var m=u.gradients[_];m||((m=u.gradients[_]=e.createLinearGradient(0,0,400,0)).addColorStop(0,_),m.addColorStop(1,"#000")),e.fillStyle=m}else e.fillStyle=_;e.beginPath(),h==n.BOX_SHAPE||c?e.rect(0,-l,r[0]+1,l):h!=n.ROUND_SHAPE&&h!=n.CARD_SHAPE||e.roundRect(0,-l,r[0]+1,l,this.round_radius,t.flags.collapsed?this.round_radius:0),e.fill(),e.shadowColor="transparent"}if(t.onDrawTitleBox?t.onDrawTitleBox(e,l,r,this.ds.scale):h==n.ROUND_SHAPE||h==n.CIRCLE_SHAPE||h==n.CARD_SHAPE?(c&&(e.fillStyle="black",e.beginPath(),e.arc(.5*l,-.5*l,6,0,2*Math.PI),e.fill()),e.fillStyle=t.boxcolor||n.NODE_DEFAULT_BOXCOLOR,c?e.fillRect(.5*l-5,-.5*l-5,10,10):(e.beginPath(),e.arc(.5*l,-.5*l,5,0,2*Math.PI),e.fill())):(c&&(e.fillStyle="black",e.fillRect(.5*(l-10)-1,-.5*(l+10)-1,12,12)),e.fillStyle=t.boxcolor||n.NODE_DEFAULT_BOXCOLOR,e.fillRect(.5*(l-10),-.5*(l+10),10,10)),e.globalAlpha=v,t.onDrawTitleText&&t.onDrawTitleText(e,l,r,this.ds.scale,this.title_text_font,s),!c){e.font=this.title_text_font;var y=t.getTitle();if(y)if(e.fillStyle=s?"white":t.constructor.title_text_color||this.node_title_color,t.flags.collapsed){e.textAlign="center";var b=e.measureText(y);e.fillText(y,l+.5*b.width,n.NODE_TITLE_TEXT_Y-l),e.textAlign="left"}else e.textAlign="left",e.fillText(y,l,n.NODE_TITLE_TEXT_Y-l)}t.onDrawTitle&&t.onDrawTitle(e)}s&&(t.onBounding&&t.onBounding(g),d==n.TRANSPARENT_TITLE&&(g[1]-=l,g[3]+=l),e.lineWidth=1,e.globalAlpha=.8,e.beginPath(),h==n.BOX_SHAPE?e.rect(-6+g[0],-6+g[1],12+g[2],12+g[3]):h==n.ROUND_SHAPE||h==n.CARD_SHAPE&&t.flags.collapsed?e.roundRect(-6+g[0],-6+g[1],12+g[2],12+g[3],2*this.round_radius):h==n.CARD_SHAPE?e.roundRect(-6+g[0],-6+g[1],12+g[2],12+g[3],2*this.round_radius,2):h==n.CIRCLE_SHAPE&&e.arc(.5*r[0],.5*r[1],.5*r[0]+6,0,2*Math.PI),e.strokeStyle="#FFF",e.stroke(),e.strokeStyle=i,e.globalAlpha=1)};var h=new Float32Array(4),d=new Float32Array(4),f=new Float32Array(2),g=new Float32Array(2);function v(t,e){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function _(t,e,n,r,i,o){return n<t&&n+i>t&&r<e&&r+o>e}function m(t,e){var n=t[0]+t[2],r=t[1]+t[3],i=e[0]+e[2],o=e[1]+e[3];return!(t[0]>i||t[1]>o||n<e[0]||r<e[1])}function y(t,e){e=e||{},this.options=e;var n=this;e.parentMenu&&(e.parentMenu.constructor!==this.constructor?(console.error("parentMenu must be of class ContextMenu, ignoring it"),e.parentMenu=null):(this.parentMenu=e.parentMenu,this.parentMenu.lock=!0,this.parentMenu.current_submenu=this)),e.event&&e.event.constructor!==MouseEvent&&e.event.constructor!==CustomEvent&&e.event.constructor!==PointerEvent&&(console.error("Event passed to ContextMenu is not of type MouseEvent or CustomEvent. Ignoring it."),e.event=null);var r=document.createElement("div");function i(t){var n=parseInt(r.style.top);return r.style.top=(n+t.deltaY*e.scroll_speed).toFixed()+"px",t.preventDefault(),!0}if(r.className="litegraph litecontextmenu litemenubar-panel",e.className&&(r.className+=" "+e.className),r.style.minWidth=100,r.style.minHeight=100,r.style.pointerEvents="none",setTimeout(function(){r.style.pointerEvents="auto"},100),r.addEventListener("mouseup",function(t){return t.preventDefault(),!0},!0),r.addEventListener("contextmenu",function(t){return 2==t.button&&(t.preventDefault(),!1)},!0),r.addEventListener("mousedown",function(t){if(2==t.button)return n.close(),t.preventDefault(),!0},!0),e.scroll_speed||(e.scroll_speed=.1),r.addEventListener("wheel",i,!0),r.addEventListener("mousewheel",i,!0),this.root=r,e.title){var o=document.createElement("div");o.className="litemenu-title",o.innerHTML=e.title,r.appendChild(o)}for(var s in t){var a=t.constructor==Array?t[s]:s;null!=a&&a.constructor!==String&&(a=void 0===a.content?String(a):a.content);var u=t[s];this.addItem(a,u,e),0}r.addEventListener("mouseleave",function(t){n.lock||(r.closing_timer&&clearTimeout(r.closing_timer),r.closing_timer=setTimeout(n.close.bind(n,t),500))}),r.addEventListener("mouseenter",function(t){r.closing_timer&&clearTimeout(r.closing_timer)});var l=document;e.event&&(l=e.event.target.ownerDocument),l||(l=document),l.fullscreenElement?l.fullscreenElement.appendChild(r):l.body.appendChild(r);var c=e.left||0,p=e.top||0;if(e.event){if(c=e.event.clientX-10,p=e.event.clientY-10,e.title&&(p-=20),e.parentMenu){var h=e.parentMenu.root.getBoundingClientRect();c=h.left+h.width}var d=document.body.getBoundingClientRect(),f=r.getBoundingClientRect();c>d.width-f.width-10&&(c=d.width-f.width-10),p>d.height-f.height-10&&(p=d.height-f.height-10)}r.style.left=c+"px",r.style.top=p+"px",e.scale&&(r.style.transform="scale("+e.scale+")")}function b(t){this.points=t,this.selected=-1,this.nearest=-1,this.size=null,this.must_update=!0,this.margin=5}u.prototype.drawConnections=function(t){var e=n.getTime(),r=this.visible_area;h[0]=r[0]-20,h[1]=r[1]-20,h[2]=r[2]+40,h[3]=r[3]+40,t.lineWidth=this.connections_width,t.fillStyle="#AAA",t.strokeStyle="#AAA",t.globalAlpha=this.editor_alpha;for(var i=this.graph._nodes,o=0,s=i.length;o<s;++o){var a=i[o];if(a.inputs&&a.inputs.length)for(var u=0;u<a.inputs.length;++u){var l=a.inputs[u];if(l&&null!=l.link){var c=l.link,p=this.graph.links[c];if(p){var v=this.graph.getNodeById(p.origin_id);if(null!=v){var _=p.origin_slot,y=null;y=-1==_?[v.pos[0]+10,v.pos[1]+10]:v.getConnectionPos(!1,_,f);var b=a.getConnectionPos(!0,u,g);if(d[0]=y[0],d[1]=y[1],d[2]=b[0]-y[0],d[3]=b[1]-y[1],d[2]<0&&(d[0]+=d[2],d[2]=Math.abs(d[2])),d[3]<0&&(d[1]+=d[3],d[3]=Math.abs(d[3])),m(d,h)){var x=v.outputs[_],E=a.inputs[u];if(x&&E){var w=x.dir||(v.horizontal?n.DOWN:n.RIGHT),T=E.dir||(a.horizontal?n.UP:n.LEFT);if(this.renderLink(t,y,b,p,!1,0,null,w,T),p&&p._last_time&&e-p._last_time<1e3){var O=2-.002*(e-p._last_time),C=t.globalAlpha;t.globalAlpha=C*O,this.renderLink(t,y,b,p,!0,O,"white",w,T),t.globalAlpha=C}}}}}}}}t.globalAlpha=1},u.prototype.renderLink=function(t,e,r,i,o,s,a,l,c,p){i&&this.visible_links.push(i),!a&&i&&(a=i.color||u.link_type_colors[i.type]),a||(a=this.default_link_color),null!=i&&this.highlighted_links[i.id]&&(a="#FFF"),l=l||n.RIGHT,c=c||n.LEFT;var h=v(e,r);this.render_connections_border&&this.ds.scale>.6&&(t.lineWidth=this.connections_width+4),t.lineJoin="round",(p=p||1)>1&&(t.lineWidth=.5),t.beginPath();for(var d=0;d<p;d+=1){var f=5*(d-.5*(p-1));if(this.links_render_mode==n.SPLINE_LINK){t.moveTo(e[0],e[1]+f);var g=0,_=0,m=0,y=0;switch(l){case n.LEFT:g=-.25*h;break;case n.RIGHT:g=.25*h;break;case n.UP:_=-.25*h;break;case n.DOWN:_=.25*h}switch(c){case n.LEFT:m=-.25*h;break;case n.RIGHT:m=.25*h;break;case n.UP:y=-.25*h;break;case n.DOWN:y=.25*h}t.bezierCurveTo(e[0]+g,e[1]+_+f,r[0]+m,r[1]+y+f,r[0],r[1]+f)}else if(this.links_render_mode==n.LINEAR_LINK){t.moveTo(e[0],e[1]+f);g=0,_=0,m=0,y=0;switch(l){case n.LEFT:g=-1;break;case n.RIGHT:g=1;break;case n.UP:_=-1;break;case n.DOWN:_=1}switch(c){case n.LEFT:m=-1;break;case n.RIGHT:m=1;break;case n.UP:y=-1;break;case n.DOWN:y=1}t.lineTo(e[0]+15*g,e[1]+15*_+f),t.lineTo(r[0]+15*m,r[1]+15*y+f),t.lineTo(r[0],r[1]+f)}else{if(this.links_render_mode!=n.STRAIGHT_LINK)return;t.moveTo(e[0],e[1]);var b=e[0],x=e[1],E=r[0],w=r[1];l==n.RIGHT?b+=10:x+=10,c==n.LEFT?E-=10:w-=10,t.lineTo(b,x),t.lineTo(.5*(b+E),x),t.lineTo(.5*(b+E),w),t.lineTo(E,w),t.lineTo(r[0],r[1])}}this.render_connections_border&&this.ds.scale>.6&&!o&&(t.strokeStyle="rgba(0,0,0,0.5)",t.stroke()),t.lineWidth=this.connections_width,t.fillStyle=t.strokeStyle=a,t.stroke();var T=this.computeConnectionPoint(e,r,.5,l,c);if(i&&i._pos&&(i._pos[0]=T[0],i._pos[1]=T[1]),this.ds.scale>=.6&&this.highquality_render&&c!=n.CENTER){if(this.render_connection_arrows){var O=this.computeConnectionPoint(e,r,.25,l,c),C=this.computeConnectionPoint(e,r,.26,l,c),S=this.computeConnectionPoint(e,r,.75,l,c),k=this.computeConnectionPoint(e,r,.76,l,c),I=0,A=0;this.render_curved_connections?(I=-Math.atan2(C[0]-O[0],C[1]-O[1]),A=-Math.atan2(k[0]-S[0],k[1]-S[1])):A=I=r[1]>e[1]?0:Math.PI,t.save(),t.translate(O[0],O[1]),t.rotate(I),t.beginPath(),t.moveTo(-5,-3),t.lineTo(0,7),t.lineTo(5,-3),t.fill(),t.restore(),t.save(),t.translate(S[0],S[1]),t.rotate(A),t.beginPath(),t.moveTo(-5,-3),t.lineTo(0,7),t.lineTo(5,-3),t.fill(),t.restore()}t.beginPath(),t.arc(T[0],T[1],5,0,2*Math.PI),t.fill()}if(s){t.fillStyle=a;for(d=0;d<5;++d){var N=(.001*n.getTime()+.2*d)%1;T=this.computeConnectionPoint(e,r,N,l,c);t.beginPath(),t.arc(T[0],T[1],5,0,2*Math.PI),t.fill()}}},u.prototype.computeConnectionPoint=function(t,e,r,i,o){i=i||n.RIGHT,o=o||n.LEFT;var s=v(t,e),a=t,u=[t[0],t[1]],l=[e[0],e[1]],c=e;switch(i){case n.LEFT:u[0]+=-.25*s;break;case n.RIGHT:u[0]+=.25*s;break;case n.UP:u[1]+=-.25*s;break;case n.DOWN:u[1]+=.25*s}switch(o){case n.LEFT:l[0]+=-.25*s;break;case n.RIGHT:l[0]+=.25*s;break;case n.UP:l[1]+=-.25*s;break;case n.DOWN:l[1]+=.25*s}var p=(1-r)*(1-r)*(1-r),h=(1-r)*(1-r)*3*r,d=3*(1-r)*(r*r),f=r*r*r;return[p*a[0]+h*u[0]+d*l[0]+f*c[0],p*a[1]+h*u[1]+d*l[1]+f*c[1]]},u.prototype.drawExecutionOrder=function(t){t.shadowColor="transparent",t.globalAlpha=.25,t.textAlign="center",t.strokeStyle="white",t.globalAlpha=.75;for(var e=this.visible_nodes,r=0;r<e.length;++r){var i=e[r];t.fillStyle="black",t.fillRect(i.pos[0]-n.NODE_TITLE_HEIGHT,i.pos[1]-n.NODE_TITLE_HEIGHT,n.NODE_TITLE_HEIGHT,n.NODE_TITLE_HEIGHT),0==i.order&&t.strokeRect(i.pos[0]-n.NODE_TITLE_HEIGHT+.5,i.pos[1]-n.NODE_TITLE_HEIGHT+.5,n.NODE_TITLE_HEIGHT,n.NODE_TITLE_HEIGHT),t.fillStyle="#FFF",t.fillText(i.order,i.pos[0]+-.5*n.NODE_TITLE_HEIGHT,i.pos[1]-6)}t.globalAlpha=1},u.prototype.drawNodeWidgets=function(t,e,r,i){if(!t.widgets||!t.widgets.length)return 0;var o=t.size[0],s=t.widgets;e+=2;var a=n.NODE_WIDGET_HEIGHT,u=this.ds.scale>.5;r.save(),r.globalAlpha=this.editor_alpha;for(var l=n.WIDGET_OUTLINE_COLOR,c=n.WIDGET_BGCOLOR,p=n.WIDGET_TEXT_COLOR,h=n.WIDGET_SECONDARY_TEXT_COLOR,d=0;d<s.length;++d){var f=s[d],g=e;switch(f.y&&(g=f.y),f.last_y=g,r.strokeStyle=l,r.fillStyle="#222",r.textAlign="left",f.disabled&&(r.globalAlpha*=.5),f.type){case"button":f.clicked&&(r.fillStyle="#AAA",f.clicked=!1,this.dirty_canvas=!0),r.fillRect(15,g,o-30,a),u&&r.strokeRect(15,g,o-30,a),u&&(r.textAlign="center",r.fillStyle=p,r.fillText(f.name,.5*o,g+.7*a));break;case"toggle":r.textAlign="left",r.strokeStyle=l,r.fillStyle=c,r.beginPath(),u?r.roundRect(15,e,o-30,a,.5*a):r.rect(15,e,o-30,a),r.fill(),u&&r.stroke(),r.fillStyle=f.value?"#89A":"#333",r.beginPath(),r.arc(o-30,g+.5*a,.36*a,0,2*Math.PI),r.fill(),u&&(r.fillStyle=h,null!=f.name&&r.fillText(f.name,30,g+.7*a),r.fillStyle=f.value?p:h,r.textAlign="right",r.fillText(f.value?f.options.on||"true":f.options.off||"false",o-40,g+.7*a));break;case"slider":r.fillStyle=c,r.fillRect(15,g,o-30,a);var v=f.options.max-f.options.min,_=(f.value-f.options.min)/v;if(r.fillStyle=i==f?"#89A":"#678",r.fillRect(15,g,_*(o-30),a),u&&r.strokeRect(15,g,o-30,a),f.marker){var m=(f.marker-f.options.min)/v;r.fillStyle="#AA9",r.fillRect(15+m*(o-30),g,2,a)}u&&(r.textAlign="center",r.fillStyle=p,r.fillText(f.name+"  "+Number(f.value).toFixed(3),.5*o,g+.7*a));break;case"number":case"combo":r.textAlign="left",r.strokeStyle=l,r.fillStyle=c,r.beginPath(),u?r.roundRect(15,e,o-30,a,.5*a):r.rect(15,e,o-30,a),r.fill(),u&&(r.stroke(),r.fillStyle=p,r.beginPath(),r.moveTo(31,e+5),r.lineTo(21,e+.5*a),r.lineTo(31,e+a-5),r.fill(),r.beginPath(),r.moveTo(o-15-16,e+5),r.lineTo(o-15-6,e+.5*a),r.lineTo(o-15-16,e+a-5),r.fill(),r.fillStyle=h,r.fillText(f.name,35,g+.7*a),r.fillStyle=p,r.textAlign="right","number"==f.type?r.fillText(Number(f.value).toFixed(void 0!==f.options.precision?f.options.precision:3),o-30-20,g+.7*a):r.fillText(f.value,o-30-20,g+.7*a));break;case"string":case"text":r.textAlign="left",r.strokeStyle=l,r.fillStyle=c,r.beginPath(),u?r.roundRect(15,e,o-30,a,.5*a):r.rect(15,e,o-30,a),r.fill(),u&&(r.stroke(),r.fillStyle=h,null!=f.name&&r.fillText(f.name,30,g+.7*a),r.fillStyle=p,r.textAlign="right",r.fillText(f.value,o-30,g+.7*a));break;default:f.draw&&f.draw(r,t,f,g,a)}e+=a+4,r.globalAlpha=this.editor_alpha}r.restore(),r.textAlign="left"},u.prototype.processNodeWidgets=function(t,e,r,i){if(!t.widgets||!t.widgets.length)return null;for(var o=e[0]-t.pos[0],s=e[1]-t.pos[1],a=t.size[0],u=this,l=this.getCanvasWindow(),c=0;c<t.widgets.length;++c){var p=t.widgets[c];if(!p.disabled&&(p==i||o>6&&o<a-12&&s>p.last_y&&s<p.last_y+n.NODE_WIDGET_HEIGHT)){switch(p.type){case"button":if("mousemove"===r.type)break;p.callback&&setTimeout(function(){p.callback(p,u,t,e,r)},20),p.clicked=!0,this.dirty_canvas=!0;break;case"slider":p.options.max,p.options.min;var h=Math.clamp((o-10)/(a-20),0,1);p.value=p.options.min+(p.options.max-p.options.min)*h,p.callback&&setTimeout(function(){_(p,p.value)},20),this.dirty_canvas=!0;break;case"number":case"combo":var d=p.value;if("mousemove"==r.type&&"number"==p.type)p.value+=.1*r.deltaX*(p.options.step||1),null!=p.options.min&&p.value<p.options.min&&(p.value=p.options.min),null!=p.options.max&&p.value>p.options.max&&(p.value=p.options.max);else if("mousedown"==r.type){var f=p.options.values;f&&f.constructor===Function&&(f=p.options.values(p,t));var g=o<40?-1:o>a-40?1:0;if("number"==p.type)p.value+=.1*g*(p.options.step||1),null!=p.options.min&&p.value<p.options.min&&(p.value=p.options.min),null!=p.options.max&&p.value>p.options.max&&(p.value=p.options.max);else if(g){var v=f.indexOf(p.value)+g;v>=f.length&&(v=0),v<0&&(v=f.length-1),p.value=f[v]}else new n.ContextMenu(f,{scale:Math.max(1,this.ds.scale),event:r,className:"dark",callback:function(t,e,n){return this.value=t,_(this,t),u.dirty_canvas=!0,!1}.bind(p)},l)}d!=p.value&&setTimeout(function(){_(this,this.value)}.bind(p),20),this.dirty_canvas=!0;break;case"toggle":"mousedown"==r.type&&(p.value=!p.value,setTimeout(function(){_(p,p.value)},20));break;case"string":case"text":"mousedown"==r.type&&this.prompt("Value",p.value,function(t){this.value=t,_(this,t)}.bind(p),r);break;default:p.mouse&&p.mouse(ctx,r,[o,s],t)}return p}}function _(n,i){n.value=i,n.options&&n.options.property&&void 0!==t.properties[n.options.property]&&t.setProperty(n.options.property,i),n.callback&&n.callback(n.value,u,t,e,r)}return null},u.prototype.drawGroups=function(t,e){if(this.graph){var r=this.graph._groups;e.save(),e.globalAlpha=.5*this.editor_alpha;for(var i=0;i<r.length;++i){var o=r[i];if(m(this.visible_area,o._bounding)){e.fillStyle=o.color||"#335",e.strokeStyle=o.color||"#335";var s=o._pos,a=o._size;e.globalAlpha=.25*this.editor_alpha,e.beginPath(),e.rect(s[0]+.5,s[1]+.5,a[0],a[1]),e.fill(),e.globalAlpha=this.editor_alpha,e.stroke(),e.beginPath(),e.moveTo(s[0]+a[0],s[1]+a[1]),e.lineTo(s[0]+a[0]-10,s[1]+a[1]),e.lineTo(s[0]+a[0],s[1]+a[1]-10),e.fill();var u=o.font_size||n.DEFAULT_GROUP_FONT_SIZE;e.font=u+"px Arial",e.fillText(o.title,s[0]+4,s[1]+u)}}e.restore()}},u.prototype.adjustNodesSize=function(){for(var t=this.graph._nodes,e=0;e<t.length;++e)t[e].size=t[e].computeSize();this.setDirty(!0,!0)},u.prototype.resize=function(t,e){if(!t&&!e){var n=this.canvas.parentNode;t=n.offsetWidth,e=n.offsetHeight}this.canvas.width==t&&this.canvas.height==e||(this.canvas.width=t,this.canvas.height=e,this.bgcanvas.width=this.canvas.width,this.bgcanvas.height=this.canvas.height,this.setDirty(!0,!0))},u.prototype.switchLiveMode=function(t){if(!t)return this.live_mode=!this.live_mode,this.dirty_canvas=!0,void(this.dirty_bgcanvas=!0);var e=this,n=this.live_mode?1.1:.9;this.live_mode&&(this.live_mode=!1,this.editor_alpha=.1);var r=setInterval(function(){e.editor_alpha*=n,e.dirty_canvas=!0,e.dirty_bgcanvas=!0,n<1&&e.editor_alpha<.01&&(clearInterval(r),n<1&&(e.live_mode=!0)),n>1&&e.editor_alpha>.99&&(clearInterval(r),e.editor_alpha=1)},1)},u.prototype.onNodeSelectionChange=function(t){},u.prototype.touchHandler=function(t){var e=t.changedTouches[0],n="";switch(t.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var r=this.getCanvasWindow(),i=r.document.createEvent("MouseEvent");i.initMouseEvent(n,!0,!0,r,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i),t.preventDefault()},u.onGroupAdd=function(t,e,r){var i=u.active_canvas,o=(i.getCanvasWindow(),new n.LGraphGroup);o.pos=i.convertEventToCanvasOffset(r),i.graph.add(o)},u.onMenuAdd=function(t,e,r,i,o){var s=u.active_canvas,a=s.getCanvasWindow(),l=n.getNodeTypesCategories(s.filter),c=[];for(var p in l)l[p]&&c.push({value:l[p],content:l[p],has_submenu:!0});var h=new n.ContextMenu(c,{event:r,callback:function(t,e,r){var i=t.value,o=n.getNodeTypesInCategory(i,s.filter),u=[];for(var l in o)o[l].skip_list||u.push({content:o[l].title,value:o[l].type});return new n.ContextMenu(u,{event:r,callback:d,parentMenu:h},a),!1},parentMenu:i},a);function d(t,e){var r=i.getFirstEvent(),a=n.createNode(t.value);a&&(a.pos=s.convertEventToCanvasOffset(r),s.graph.add(a)),o&&o(a)}return!1},u.onMenuCollapseAll=function(){},u.onMenuNodeEdit=function(){},u.showMenuNodeOptionalInputs=function(t,e,r,i,o){if(o){var s=this,a=u.active_canvas.getCanvasWindow();e=o.optional_inputs;o.onGetInputs&&(e=o.onGetInputs());var l=[];if(e)for(var c in e){var p=e[c];if(p){var h=p[0];p[2]&&p[2].label&&(h=p[2].label);var d={content:h,value:p};p[1]==n.ACTION&&(d.className="event"),l.push(d)}else l.push(null)}if(this.onMenuNodeInputs&&(l=this.onMenuNodeInputs(l)),l.length){new n.ContextMenu(l,{event:r,callback:function(t,e,n){if(!o)return;t.callback&&t.callback.call(s,o,t,e,n);t.value&&(o.addInput(t.value[0],t.value[1],t.value[2]),o.setDirtyCanvas(!0,!0))},parentMenu:i,node:o},a);return!1}}},u.showMenuNodeOptionalOutputs=function(t,e,r,i,o){if(o){var s=this,a=u.active_canvas.getCanvasWindow();e=o.optional_outputs;o.onGetOutputs&&(e=o.onGetOutputs());var l=[];if(e)for(var c in e){var p=e[c];if(p){if(!o.flags||!o.flags.skip_repeated_outputs||-1==o.findOutputSlot(p[0])){var h=p[0];p[2]&&p[2].label&&(h=p[2].label);var d={content:h,value:p};p[1]==n.EVENT&&(d.className="event"),l.push(d)}}else l.push(null)}if(this.onMenuNodeOutputs&&(l=this.onMenuNodeOutputs(l)),l.length){new n.ContextMenu(l,{event:r,callback:function t(e,r,a){if(!o)return;e.callback&&e.callback.call(s,o,e,r,a);if(!e.value)return;var u=e.value[1];if(u&&(u.constructor===Object||u.constructor===Array)){var l=[];for(var c in u)l.push({content:c,value:u[c]});return new n.ContextMenu(l,{event:r,callback:t,parentMenu:i,node:o}),!1}o.addOutput(e.value[0],e.value[1],e.value[2]),o.setDirtyCanvas(!0,!0)},parentMenu:i,node:o},a);return!1}}},u.onShowMenuNodeProperties=function(t,e,r,i,o){if(o&&o.properties){var s=u.active_canvas,a=s.getCanvasWindow(),l=[];for(var c in o.properties){"object"==typeof(t=void 0!==o.properties[c]?o.properties[c]:" ")&&(t=JSON.stringify(t)),t=u.decodeHTML(t),l.push({content:"<span class='property_name'>"+c+"</span><span class='property_value'>"+t+"</span>",value:c})}if(l.length){new n.ContextMenu(l,{event:r,callback:function(t,e,n,r){if(!o)return;var i=this.getBoundingClientRect();s.showEditPropertyValue(o,t.value,{position:[i.left,i.top]})},parentMenu:i,allow_html:!0,node:o},a);return!1}}},u.decodeHTML=function(t){var e=document.createElement("div");return e.innerText=t,e.innerHTML},u.onResizeNode=function(t,e,n,r,i){i&&(i.size=i.computeSize(),i.setDirtyCanvas(!0,!0))},u.prototype.showLinkMenu=function(t,e){var r=this;console.log(t);var i=new n.ContextMenu(["Add Node",null,"Delete"],{event:e,title:null!=t.data?t.data.constructor.name:null,callback:function(e,n,o){switch(e){case"Add Node":u.onMenuAdd(null,null,o,i,function(e){console.log("node autoconnect");var n=r.graph.getNodeById(t.origin_id),i=r.graph.getNodeById(t.target_id);e.inputs&&e.inputs.length&&e.outputs&&e.outputs.length&&n.outputs[t.origin_slot].type==e.inputs[0].type&&e.outputs[0].type==i.inputs[0].type&&(n.connect(t.origin_slot,e,0),e.connect(0,i,t.target_slot),e.pos[0]-=.5*e.size[0])});break;case"Delete":r.graph.removeLink(t.id)}}});return!1},u.onShowPropertyEditor=function(t,e,n,r,i){var o=t.property||"title",s=i[o],a=document.createElement("div");a.className="graphdialog",a.innerHTML="<span class='name'></span><input autofocus type='text' class='value'/><button>OK</button>",a.querySelector(".name").innerText=o;var l=a.querySelector("input");l&&(l.value=s,l.addEventListener("blur",function(t){this.focus()}),l.addEventListener("keydown",function(t){13==t.keyCode&&(f(),t.preventDefault(),t.stopPropagation())}));var c=u.active_canvas.canvas,p=c.getBoundingClientRect(),h=-20,d=-20;function f(){!function(e){"Number"==t.type?e=Number(e):"Boolean"==t.type&&(e=Boolean(e));i[o]=e,a.parentNode&&a.parentNode.removeChild(a);i.setDirtyCanvas(!0,!0)}(l.value)}p&&(h-=p.left,d-=p.top),event?(a.style.left=event.clientX+h+"px",a.style.top=event.clientY+d+"px"):(a.style.left=.5*c.width+h+"px",a.style.top=.5*c.height+d+"px"),a.querySelector("button").addEventListener("click",f),c.parentNode.appendChild(a)},u.prototype.prompt=function(t,e,n,r){var i=this;t=t||"";var o=!1,s=document.createElement("div");s.className="graphdialog rounded",s.innerHTML="<span class='name'></span> <input autofocus type='text' class='value'/><button class='rounded'>OK</button>",s.close=function(){i.prompt_box=null,s.parentNode&&s.parentNode.removeChild(s)},this.ds.scale>1&&(s.style.transform="scale("+this.ds.scale+")"),s.addEventListener("mouseleave",function(t){o||s.close()}),i.prompt_box&&i.prompt_box.close(),i.prompt_box=s;s.querySelector(".name").innerText=t,s.querySelector(".value").value=e;var a=s.querySelector("input");a.addEventListener("keydown",function(t){if(o=!0,27==t.keyCode)s.close();else{if(13!=t.keyCode)return;n&&n(this.value),s.close()}t.preventDefault(),t.stopPropagation()}),s.querySelector("button").addEventListener("click",function(t){n&&n(a.value),i.setDirty(!0),s.close()});var l=u.active_canvas.canvas,c=l.getBoundingClientRect(),p=-20,h=-20;return c&&(p-=c.left,h-=c.top),r?(s.style.left=r.clientX+p+"px",s.style.top=r.clientY+h+"px"):(s.style.left=.5*l.width+p+"px",s.style.top=.5*l.height+h+"px"),l.parentNode.appendChild(s),setTimeout(function(){a.focus()},10),s},u.search_limit=-1,u.prototype.showSearchBox=function(t){var e=this,r=u.active_canvas,i=r.canvas,o=i.ownerDocument||document,s=document.createElement("div");s.className="litegraph litesearchbox graphdialog rounded",s.innerHTML="<span class='name'>Search</span> <input autofocus type='text' class='value rounded'/><div class='helper'></div>",s.close=function(){e.search_box=null,o.body.focus(),o.body.style.overflow="",setTimeout(function(){e.canvas.focus()},20),s.parentNode&&s.parentNode.removeChild(s)};var a=null;this.ds.scale>1&&(s.style.transform="scale("+this.ds.scale+")"),s.addEventListener("mouseenter",function(t){a&&(clearTimeout(a),a=null)}),s.addEventListener("mouseleave",function(t){a=setTimeout(function(){s.close()},500)}),e.search_box&&e.search_box.close(),e.search_box=s;var l=s.querySelector(".helper"),c=null,p=null,h=null,d=s.querySelector("input");d&&(d.addEventListener("blur",function(t){this.focus()}),d.addEventListener("keydown",function(t){if(38==t.keyCode)m(!1);else if(40==t.keyCode)m(!0);else if(27==t.keyCode)s.close();else{if(13!=t.keyCode)return p&&clearInterval(p),void(p=setTimeout(y,10));h?_(h.innerHTML):c?_(c):s.close()}return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!0})),o.fullscreenElement?o.fullscreenElement.appendChild(s):(o.body.appendChild(s),o.body.style.overflow="hidden");var f=i.getBoundingClientRect(),g=(t?t.clientX:f.left+.5*f.width)-80,v=(t?t.clientY:f.top+.5*f.height)-20;function _(i){if(i)if(e.onSearchBoxSelection)e.onSearchBoxSelection(i,t,r);else{var o=n.searchbox_extras[i.toLowerCase()];o&&(i=o.type);var a=n.createNode(i);if(a&&(a.pos=r.convertEventToCanvasOffset(t),r.graph.add(a)),o&&o.data){if(o.data.properties)for(var u in o.data.properties)a.addProperty(u,o.data.properties[u]);if(o.data.inputs)for(var u in a.inputs=[],o.data.inputs)a.addOutput(o.data.inputs[u][0],o.data.inputs[u][1]);if(o.data.outputs)for(var u in a.outputs=[],o.data.outputs)a.addOutput(o.data.outputs[u][0],o.data.outputs[u][1]);o.data.title&&(a.title=o.data.title),o.data.json&&a.configure(o.data.json)}}s.close()}function m(t){var e=h;h&&h.classList.remove("selected"),h?(h=t?h.nextSibling:h.previousSibling)||(h=e):h=t?l.childNodes[0]:l.childNodes[l.childNodes.length],h&&(h.classList.add("selected"),h.scrollIntoView({block:"end",behavior:"smooth"}))}function y(){p=null;var t=d.value;if(c=null,l.innerHTML="",t)if(e.onSearchBox){var i=e.onSearchBox(l,t,r);if(i)for(var o=0;o<i.length;++o)m(i[o])}else{var s=function(e){var r=n.registered_node_types[e];return(!h||r.filter==h)&&-1!==e.toLowerCase().indexOf(t)},a=0;t=t.toLowerCase();var h=r.filter||r.graph.filter;for(var o in n.searchbox_extras){var f=n.searchbox_extras[o];if(-1!==f.desc.toLowerCase().indexOf(t)){var g=n.registered_node_types[f.type];if((!g||!g.filter||g.filter==h)&&(m(f.desc,"searchbox_extra"),-1!==u.search_limit&&a++>u.search_limit))break}}var v=null;if(Array.prototype.filter)v=Object.keys(n.registered_node_types).filter(s);else for(var o in v=[],n.registered_node_types)s(o)&&v.push(o);for(o=0;o<v.length&&(m(v[o]),!(-1!==u.search_limit&&a++>u.search_limit));o++);}function m(t,e){var n=document.createElement("div");c||(c=t),n.innerText=t,n.dataset.type=escape(t),n.className="litegraph lite-search-item",e&&(n.className+=" "+e),n.addEventListener("click",function(t){_(unescape(this.dataset.type))}),l.appendChild(n)}}return s.style.left=g+"px",s.style.top=v+"px",t.layerY>f.height-200&&(l.style.maxHeight=f.height-t.layerY-20+"px"),d.focus(),s},u.prototype.showEditPropertyValue=function(t,e,n){if(t&&void 0!==t.properties[e]){n=n||{};var r="string";null!==t.properties[e]&&(r=typeof t.properties[e]);var i=null;if(t.getPropertyInfo&&(i=t.getPropertyInfo(e)),t.properties_info)for(var o=0;o<t.properties_info.length;++o)if(t.properties_info[o].name==e){i=t.properties_info[o];break}void 0!==i&&null!==i&&i.type&&(r=i.type);var s="";if("string"==r||"number"==r||"array"==r||"object"==r)s="<input autofocus type='text' class='value'/>";else if("enum"==r&&i.values){for(var o in s="<select autofocus type='text' class='value'>",i.values){s+="<option value='"+(l=i.values.constructor===Array?i.values[o]:o)+"' "+(l==t.properties[e]?"selected":"")+">"+i.values[o]+"</option>"}s+="</select>"}else{if("boolean"!=r)return void console.warn("unknown type: "+r);s="<input autofocus type='checkbox' class='value' "+(t.properties[e]?"checked":"")+"/>"}var a=this.createDialog("<span class='name'>"+e+"</span>"+s+"<button>OK</button>",n);if("enum"==r&&i.values)(u=a.querySelector("select")).addEventListener("change",function(t){p(t.target.value)});else if("boolean"==r){(u=a.querySelector("input"))&&u.addEventListener("click",function(t){p(!!u.checked)})}else{var u;if(u=a.querySelector("input")){u.addEventListener("blur",function(t){this.focus()});var l=void 0!==t.properties[e]?t.properties[e]:"";l=JSON.stringify(l),u.value=l,u.addEventListener("keydown",function(t){13==t.keyCode&&(c(),t.preventDefault(),t.stopPropagation())})}}a.querySelector("button").addEventListener("click",c)}function c(){p(u.value)}function p(n){"number"==typeof t.properties[e]&&(n=Number(n)),"array"!=r&&"object"!=r||(n=JSON.parse(n)),t.properties[e]=n,t._graph&&t._graph._version++,t.onPropertyChanged&&t.onPropertyChanged(e,n),a.close(),t.setDirtyCanvas(!0,!0)}},u.prototype.createDialog=function(t,e){e=e||{};var n=document.createElement("div");n.className="graphdialog",n.innerHTML=t;var r=this.canvas.getBoundingClientRect(),i=-20,o=-20;return r&&(i-=r.left,o-=r.top),e.position?(i+=e.position[0],o+=e.position[1]):e.event?(i+=e.event.clientX,o+=e.event.clientY):(i+=.5*this.canvas.width,o+=.5*this.canvas.height),n.style.left=i+"px",n.style.top=o+"px",this.canvas.parentNode.appendChild(n),n.close=function(){this.parentNode&&this.parentNode.removeChild(this)},n},u.onMenuNodeCollapse=function(t,e,n,r,i){i.collapse()},u.onMenuNodePin=function(t,e,n,r,i){i.pin()},u.onMenuNodeMode=function(t,e,r,i,o){return new n.ContextMenu(["Always","On Event","On Trigger","Never"],{event:r,callback:function(t){if(!o)return;switch(t){case"On Event":o.mode=n.ON_EVENT;break;case"On Trigger":o.mode=n.ON_TRIGGER;break;case"Never":o.mode=n.NEVER;break;case"Always":default:o.mode=n.ALWAYS}},parentMenu:i,node:o}),!1},u.onMenuNodeColors=function(t,e,r,i,o){if(!o)throw"no node for color";var s=[];for(var a in s.push({value:null,content:"<span style='display: block; padding-left: 4px;'>No color</span>"}),u.node_colors){var l=u.node_colors[a];t={value:a,content:"<span style='display: block; color: #999; padding-left: 4px; border-left: 8px solid "+l.color+"; background-color:"+l.bgcolor+"'>"+a+"</span>"};s.push(t)}return new n.ContextMenu(s,{event:r,callback:function(t){if(!o)return;var e=t.value?u.node_colors[t.value]:null;e?o.constructor===n.LGraphGroup?o.color=e.groupcolor:(o.color=e.color,o.bgcolor=e.bgcolor):(delete o.color,delete o.bgcolor);o.setDirtyCanvas(!0,!0)},parentMenu:i,node:o}),!1},u.onMenuNodeShapes=function(t,e,r,i,o){if(!o)throw"no node passed";return new n.ContextMenu(n.VALID_SHAPES,{event:r,callback:function(t){if(!o)return;o.shape=t,o.setDirtyCanvas(!0)},parentMenu:i,node:o}),!1},u.onMenuNodeRemove=function(t,e,n,r,i){if(!i)throw"no node passed";!1!==i.removable&&(i.graph.remove(i),i.setDirtyCanvas(!0,!0))},u.onMenuNodeClone=function(t,e,n,r,i){if(0!=i.clonable){var o=i.clone();o&&(o.pos=[i.pos[0]+5,i.pos[1]+5],i.graph.add(o),i.setDirtyCanvas(!0,!0))}},u.node_colors={red:{color:"#322",bgcolor:"#533",groupcolor:"#A88"},brown:{color:"#332922",bgcolor:"#593930",groupcolor:"#b06634"},green:{color:"#232",bgcolor:"#353",groupcolor:"#8A8"},blue:{color:"#223",bgcolor:"#335",groupcolor:"#88A"},pale_blue:{color:"#2a363b",bgcolor:"#3f5159",groupcolor:"#3f789e"},cyan:{color:"#233",bgcolor:"#355",groupcolor:"#8AA"},purple:{color:"#323",bgcolor:"#535",groupcolor:"#a1309b"},yellow:{color:"#432",bgcolor:"#653",groupcolor:"#b58b2a"},black:{color:"#222",bgcolor:"#000",groupcolor:"#444"}},u.prototype.getCanvasMenuOptions=function(){var t=null;if(this.getMenuOptions?t=this.getMenuOptions():(t=[{content:"Add Node",has_submenu:!0,callback:u.onMenuAdd},{content:"Add Group",callback:u.onGroupAdd}],this._graph_stack&&this._graph_stack.length>0&&t.push(null,{content:"Close subgraph",callback:this.closeSubgraph.bind(this)})),this.getExtraMenuOptions){var e=this.getExtraMenuOptions(this,t);e&&(t=t.concat(e))}return t},u.prototype.getNodeMenuOptions=function(t){var e=null;if(e=t.getMenuOptions?t.getMenuOptions(this):[{content:"Inputs",has_submenu:!0,disabled:!0,callback:u.showMenuNodeOptionalInputs},{content:"Outputs",has_submenu:!0,disabled:!0,callback:u.showMenuNodeOptionalOutputs},null,{content:"Properties",has_submenu:!0,callback:u.onShowMenuNodeProperties},null,{content:"Title",callback:u.onShowPropertyEditor},{content:"Mode",has_submenu:!0,callback:u.onMenuNodeMode},{content:"Resize",callback:u.onResizeNode},{content:"Collapse",callback:u.onMenuNodeCollapse},{content:"Pin",callback:u.onMenuNodePin},{content:"Colors",has_submenu:!0,callback:u.onMenuNodeColors},{content:"Shapes",has_submenu:!0,callback:u.onMenuNodeShapes},null],t.onGetInputs){var n=t.onGetInputs();n&&n.length&&(e[0].disabled=!1)}if(t.onGetOutputs){var r=t.onGetOutputs();r&&r.length&&(e[1].disabled=!1)}if(t.getExtraMenuOptions){var i=t.getExtraMenuOptions(this);i&&(i.push(null),e=i.concat(e))}return!1!==t.clonable&&e.push({content:"Clone",callback:u.onMenuNodeClone}),!1!==t.removable&&e.push(null,{content:"Remove",callback:u.onMenuNodeRemove}),t.graph&&t.graph.onGetNodeMenuOptions&&t.graph.onGetNodeMenuOptions(e,t),e},u.prototype.getGroupMenuOptions=function(t){return[{content:"Title",callback:u.onShowPropertyEditor},{content:"Color",has_submenu:!0,callback:u.onMenuNodeColors},{content:"Font size",property:"font_size",type:"Number",callback:u.onShowPropertyEditor},null,{content:"Remove",callback:u.onMenuNodeRemove}]},u.prototype.processContextMenu=function(t,e){var r=this,i=u.active_canvas.getCanvasWindow(),o=null,s={event:e,callback:function(e,n,i){if(!e)return;if("Remove Slot"==e.content){var o=e.slot;return void(o.input?t.removeInput(o.slot):o.output&&t.removeOutput(o.slot))}if("Disconnect Links"==e.content){var o=e.slot;return void(o.output?t.disconnectOutput(o.slot):o.input&&t.disconnectInput(o.slot))}if("Rename Slot"==e.content){var o=e.slot,s=o.input?t.getInputInfo(o.slot):t.getOutputInfo(o.slot),a=r.createDialog("<span class='name'>Name</span><input autofocus type='text'/><button>OK</button>",n),u=a.querySelector("input");u&&s&&(u.value=s.label||""),a.querySelector("button").addEventListener("click",function(t){u.value&&(s&&(s.label=u.value),r.setDirty(!0)),a.close()})}},extra:t};t&&(s.title=t.type);var a=null;if(t&&(a=t.getSlotInPosition(e.canvasX,e.canvasY),u.active_node=t),a){o=[],a&&a.output&&a.output.links&&a.output.links.length&&o.push({content:"Disconnect Links",slot:a});var l=a.input||a.output;o.push(l.locked?"Cannot remove":{content:"Remove Slot",slot:a}),o.push(l.nameLocked?"Cannot rename":{content:"Rename Slot",slot:a}),s.title=(a.input?a.input.type:a.output.type)||"*",a.input&&a.input.type==n.ACTION&&(s.title="Action"),a.output&&a.output.type==n.EVENT&&(s.title="Event")}else if(t)o=this.getNodeMenuOptions(t);else{o=this.getCanvasMenuOptions();var c=this.graph.getGroupOnPos(e.canvasX,e.canvasY);c&&o.push(null,{content:"Edit Group",has_submenu:!0,submenu:{title:"Group",extra:c,options:this.getGroupMenuOptions(c)}})}if(o)new n.ContextMenu(o,s,i)},this.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.roundRect=function(t,e,n,r,i,o){void 0===i&&(i=5),void 0===o&&(o=i),this.moveTo(t+i,e),this.lineTo(t+n-i,e),this.quadraticCurveTo(t+n,e,t+n,e+i),this.lineTo(t+n,e+r-o),this.quadraticCurveTo(t+n,e+r,t+n-o,e+r),this.lineTo(t+o,e+r),this.quadraticCurveTo(t,e+r,t,e+r-o),this.lineTo(t,e+i),this.quadraticCurveTo(t,e,t+i,e)}),n.compareObjects=function(t,e){for(var n in t)if(t[n]!=e[n])return!1;return!0},n.distance=v,n.colorToString=function(t){return"rgba("+Math.round(255*t[0]).toFixed()+","+Math.round(255*t[1]).toFixed()+","+Math.round(255*t[2]).toFixed()+","+(4==t.length?t[3].toFixed(2):"1.0")+")"},n.isInsideRectangle=_,n.growBounding=function(t,e,n){e<t[0]?t[0]=e:e>t[2]&&(t[2]=e),n<t[1]?t[1]=n:n>t[3]&&(t[3]=n)},n.isInsideBounding=function(t,e){return!(t[0]<e[0][0]||t[1]<e[0][1]||t[0]>e[1][0]||t[1]>e[1][1])},n.overlapBounding=m,n.hex2num=function(t){"#"==t.charAt(0)&&(t=t.slice(1)),t=t.toUpperCase();for(var e,n,r=new Array(3),i=0,o=0;o<6;o+=2)e="0123456789ABCDEF".indexOf(t.charAt(o)),n="0123456789ABCDEF".indexOf(t.charAt(o+1)),r[i]=16*e+n,i++;return r},n.num2hex=function(t){for(var e,n,r="#",i=0;i<3;i++)e=t[i]/16,n=t[i]%16,r+="0123456789ABCDEF".charAt(e)+"0123456789ABCDEF".charAt(n);return r},y.prototype.addItem=function(t,e,n){var r=this;n=n||{};var i=document.createElement("div");i.className="litemenu-entry submenu";var o=!1;function s(t){var e=this.value,i=!0;(r.current_submenu&&r.current_submenu.close(t),n.callback)&&(!0===n.callback.call(this,e,n,t,r,n.node)&&(i=!1));if(e){if(e.callback&&!n.ignore_item_callbacks&&!0!==e.disabled)!0===e.callback.call(this,e,n,t,r,n.extra)&&(i=!1);if(e.submenu){if(!e.submenu.options)throw"ContextMenu submenu needs options";new r.constructor(e.submenu.options,{callback:e.submenu.callback,event:t,parentMenu:r,ignore_item_callbacks:e.submenu.ignore_item_callbacks,title:e.submenu.title,extra:e.submenu.extra,autoopen:n.autoopen});i=!1}}i&&!r.lock&&r.close()}return null===e?i.classList.add("separator"):(i.innerHTML=e&&e.title?e.title:t,i.value=e,e&&(e.disabled&&(o=!0,i.classList.add("disabled")),(e.submenu||e.has_submenu)&&i.classList.add("has_submenu")),"function"==typeof e?(i.dataset.value=t,i.onclick_callback=e):i.dataset.value=e,e.className&&(i.className+=" "+e.className)),this.root.appendChild(i),o||i.addEventListener("click",s),n.autoopen&&i.addEventListener("mouseenter",function(t){var e=this.value;if(!e||!e.has_submenu)return;s.call(this,t)}),i},y.prototype.close=function(t,e){this.root.parentNode&&this.root.parentNode.removeChild(this.root),this.parentMenu&&!e&&(this.parentMenu.lock=!1,this.parentMenu.current_submenu=null,void 0===t?this.parentMenu.close():t&&!y.isCursorOverElement(t,this.parentMenu.root)&&y.trigger(this.parentMenu.root,"mouseleave",t)),this.current_submenu&&this.current_submenu.close(t,!0),this.root.closing_timer&&clearTimeout(this.root.closing_timer)},y.trigger=function(t,e,n,r){var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!0,!0,n),i.srcElement=r,t.dispatchEvent?t.dispatchEvent(i):t.__events&&t.__events.dispatchEvent(i),i},y.prototype.getTopMenu=function(){return this.options.parentMenu?this.options.parentMenu.getTopMenu():this},y.prototype.getFirstEvent=function(){return this.options.parentMenu?this.options.parentMenu.getFirstEvent():this.options.event},y.isCursorOverElement=function(t,e){var n=t.clientX,r=t.clientY,i=e.getBoundingClientRect();return!!i&&(r>i.top&&r<i.top+i.height&&n>i.left&&n<i.left+i.width)},n.ContextMenu=y,n.closeAllContextMenus=function(t){var e=(t=t||window).document.querySelectorAll(".litecontextmenu");if(e.length){for(var n=[],r=0;r<e.length;r++)n.push(e[r]);for(var r in n)n[r].close?n[r].close():n[r].parentNode&&n[r].parentNode.removeChild(n[r])}},n.extendClass=function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);if(e.prototype)for(var n in e.prototype)e.prototype.hasOwnProperty(n)&&(t.prototype.hasOwnProperty(n)||(e.prototype.__lookupGetter__(n)?t.prototype.__defineGetter__(n,e.prototype.__lookupGetter__(n)):t.prototype[n]=e.prototype[n],e.prototype.__lookupSetter__(n)&&t.prototype.__defineSetter__(n,e.prototype.__lookupSetter__(n))))},b.sampleCurve=function(t,e){if(e){for(var n=0;n<e.length-1;++n){var r=e[n],i=e[n+1];if(!(i[0]<t)){var o=i[0]-r[0];if(Math.abs(o)<1e-5)return r[1];var s=(t-r[0])/o;return r[1]*(1-s)+i[1]*s}}return 0}},b.prototype.draw=function(t,e,n,r,i,o){var s=this.points;if(s){this.size=e;var a=e[0]-2*this.margin,u=e[1]-2*this.margin;i=i||"#666",t.save(),t.translate(this.margin,this.margin),r&&(t.fillStyle="#111",t.fillRect(0,0,a,u),t.fillStyle="#222",t.fillRect(.5*a,0,1,u),t.strokeStyle="#333",t.strokeRect(0,0,a,u)),t.strokeStyle=i,o&&(t.globalAlpha=.5),t.beginPath();for(var l=0;l<s.length;++l){var c=s[l];t.lineTo(c[0]*a,(1-c[1])*u)}if(t.stroke(),t.globalAlpha=1,!o)for(l=0;l<s.length;++l){c=s[l];t.fillStyle=this.selected==l?"#FFF":this.nearest==l?"#DDD":"#AAA",t.beginPath(),t.arc(c[0]*a,(1-c[1])*u,2,0,2*Math.PI),t.fill()}t.restore()}},b.prototype.onMouseDown=function(t,e){var n=this.points;if(n&&!(t[1]<0)){var r=this.size[0]-2*this.margin,i=this.size[1]-2*this.margin,o=t[0]-this.margin,s=t[1]-this.margin,a=[o,s],u=30/e.ds.scale;if(this.selected=this.getCloserPoint(a,u),-1==this.selected){var l=[o/r,1-s/i];n.push(l),n.sort(function(t,e){return t[0]-e[0]}),this.selected=n.indexOf(l),this.must_update=!0}return-1!=this.selected||void 0}},b.prototype.onMouseMove=function(t,e){var n=this.points;if(n){var r=this.selected;if(!(r<0)){var i=(t[0]-this.margin)/(this.size[0]-2*this.margin),o=(t[1]-this.margin)/(this.size[1]-2*this.margin),s=[t[0]-this.margin,t[1]-this.margin],a=30/e.ds.scale;this._nearest=this.getCloserPoint(s,a);var u=n[r];if(u){var l=0==r||r==n.length-1;if(!l&&(t[0]<-10||t[0]>this.size[0]+10||t[1]<-10||t[1]>this.size[1]+10))return n.splice(r,1),void(this.selected=-1);u[0]=l?0==r?0:1:Math.clamp(i,0,1),u[1]=1-Math.clamp(o,0,1),n.sort(function(t,e){return t[0]-e[0]}),this.selected=n.indexOf(u),this.must_update=!0}}}},b.prototype.onMouseUp=function(t,e){return this.selected=-1,!1},b.prototype.getCloserPoint=function(t,e){var n=this.points;if(!n)return-1;e=e||30;for(var r=this.size[0]-2*this.margin,i=this.size[1]-2*this.margin,o=n.length,s=[0,0],a=1e6,u=-1,l=0;l<o;++l){var c=n[l];s[0]=c[0]*r,s[1]=(1-c[1])*i,s[0]<t[0]&&l;var p=vec2.distance(t,s);p>a||p>e||(u=l,a=p)}return u},n.CurveEditor=b,n.getParameterNames=function(t){return(t+"").replace(/[/][/].*$/gm,"").replace(/\s+/g,"").replace(/[/][*][^/*]*[*][/]/g,"").split("){",1)[0].replace(/^[^(]*[(]/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)},Math.clamp=function(t,e,n){return e>t?e:n<t?n:t},"undefined"==typeof window||window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})}(this),e.LiteGraph=this.LiteGraph,function(t){var e=t.LiteGraph;function n(){this.addOutput("in ms","number"),this.addOutput("in sec","number")}function r(){this.size=[140,80],this.properties={enabled:!0},this.enabled=!0,this.subgraph=new e.LGraph,this.subgraph._subgraph_node=this,this.subgraph._is_subgraph=!0,this.subgraph.onTrigger=this.onSubgraphTrigger.bind(this),this.subgraph.onInputAdded=this.onSubgraphNewInput.bind(this),this.subgraph.onInputRenamed=this.onSubgraphRenamedInput.bind(this),this.subgraph.onInputTypeChanged=this.onSubgraphTypeChangeInput.bind(this),this.subgraph.onInputRemoved=this.onSubgraphRemovedInput.bind(this),this.subgraph.onOutputAdded=this.onSubgraphNewOutput.bind(this),this.subgraph.onOutputRenamed=this.onSubgraphRenamedOutput.bind(this),this.subgraph.onOutputTypeChanged=this.onSubgraphTypeChangeOutput.bind(this),this.subgraph.onOutputRemoved=this.onSubgraphRemovedOutput.bind(this)}function i(){this.addOutput("","number"),this.name_in_graph="",this.properties={name:"",type:"number",value:0};var t=this;this.name_widget=this.addWidget("text","Name",this.properties.name,function(e){e&&t.setProperty("name",e)}),this.type_widget=this.addWidget("text","Type",this.properties.type,function(e){t.setProperty("type",e)}),this.value_widget=this.addWidget("number","Value",this.properties.value,function(e){t.setProperty("value",e)}),this.widgets_up=!0,this.size=[180,90]}function o(){this.addInput("",""),this.name_in_graph="",this.properties={};var t=this;Object.defineProperty(this.properties,"name",{get:function(){return t.name_in_graph},set:function(e){""!=e&&e!=t.name_in_graph&&(t.name_in_graph?t.graph.renameOutput(t.name_in_graph,e):t.graph.addOutput(e,t.properties.type),t.name_widget.value=e,t.name_in_graph=e)},enumerable:!0}),Object.defineProperty(this.properties,"type",{get:function(){return t.inputs[0].type},set:function(n){"action"!=n&&"event"!=n||(n=e.ACTION),t.inputs[0].type=n,t.name_in_graph&&t.graph.changeOutputType(t.name_in_graph,t.inputs[0].type),t.type_widget.value=n||""},enumerable:!0}),this.name_widget=this.addWidget("text","Name",this.properties.name,function(e){e&&(t.properties.name=e)}),this.type_widget=this.addWidget("text","Type",this.properties.type,function(e){e=e||"",t.properties.type=e}),this.widgets_up=!0,this.size=[180,60]}function s(){this.addOutput("value","number"),this.addProperty("value",1)}function a(){this.addOutput("","string"),this.addProperty("value",""),this.widget=this.addWidget("text","value","",this.setValue.bind(this)),this.widgets_up=!0,this.size=[100,30]}function u(){this.addOutput("",""),this.addProperty("value",""),this.widget=this.addWidget("text","json","",this.setValue.bind(this)),this.widgets_up=!0,this.size=[140,30],this._value=null}function l(){this.addInput("obj",""),this.addOutput("",""),this.addProperty("value",""),this.widget=this.addWidget("text","prop.","",this.setValue.bind(this)),this.widgets_up=!0,this.size=[140,30],this._value=null}function c(){this.addInput("obj",""),this.addOutput("keys","array"),this.size=[140,30]}function p(){this.addInput("A","object"),this.addInput("B","object"),this.addOutput("","object"),this._result={};var t=this;this.addWidget("button","clear","",function(){t._result={}}),this.size=this.computeSize()}function h(){this.size=[60,30],this.addInput("in"),this.addOutput("out"),this.properties={varname:"myname",global:!1},this.value=null}function d(){this.size=[60,30],this.addInput("data",0),this.addInput("download",e.ACTION),this.properties={filename:"data.json"},this.value=null;var t=this;this.addWidget("button","Download","",function(e){t.value&&t.downloadAsFile()})}function f(){this.size=[60,30],this.addInput("value",0,{label:""}),this.value=0}function g(){this.addInput("in",0),this.addOutput("out",0),this.size=[40,30]}function v(){this.mode=e.ON_EVENT,this.size=[80,30],this.addProperty("msg",""),this.addInput("log",e.EVENT),this.addInput("msg",0)}function _(){this.mode=e.ON_EVENT,this.addProperty("msg",""),this.addInput("",e.EVENT);var t=this;this.widget=this.addWidget("text","Text","",function(e){t.properties.msg=e}),this.widgets_up=!0,this.size=[200,30]}function m(){this.size=[60,30],this.addProperty("onExecute","return A;"),this.addInput("A",""),this.addInput("B",""),this.addOutput("out",""),this._func=null,this.data={}}n.title="Time",n.desc="Time",n.prototype.onExecute=function(){this.setOutputData(0,1e3*this.graph.globaltime),this.setOutputData(1,this.graph.globaltime)},e.registerNodeType("basic/time",n),r.title="Subgraph",r.desc="Graph inside a node",r.title_color="#334",r.prototype.onGetInputs=function(){return[["enabled","boolean"]]},r.prototype.onDrawTitle=function(t){if(!this.flags.collapsed){t.fillStyle="#555";var n=e.NODE_TITLE_HEIGHT,r=this.size[0]-n;t.fillRect(r,-n,n,n),t.fillStyle="#333",t.beginPath(),t.moveTo(r+.2*n,.6*-n),t.lineTo(r+.8*n,.6*-n),t.lineTo(r+.5*n,.3*-n),t.fill()}},r.prototype.onDblClick=function(t,e,n){var r=this;setTimeout(function(){n.openSubgraph(r.subgraph)},10)},r.prototype.onMouseDown=function(t,n,r){if(!this.flags.collapsed&&n[0]>this.size[0]-e.NODE_TITLE_HEIGHT&&n[1]<0){var i=this;setTimeout(function(){r.openSubgraph(i.subgraph)},10)}},r.prototype.onAction=function(t,e){this.subgraph.onAction(t,e)},r.prototype.onExecute=function(){if(this.enabled=this.getInputOrProperty("enabled"),this.enabled){if(this.inputs)for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t],n=this.getInputData(t);this.subgraph.setInputData(e.name,n)}if(this.subgraph.runStep(),this.outputs)for(t=0;t<this.outputs.length;t++){var r=this.outputs[t];n=this.subgraph.getOutputData(r.name);this.setOutputData(t,n)}}},r.prototype.sendEventToAllNodes=function(t,e,n){this.enabled&&this.subgraph.sendEventToAllNodes(t,e,n)},r.prototype.onSubgraphTrigger=function(t,e){var n=this.findOutputSlot(t);-1!=n&&this.triggerSlot(n)},r.prototype.onSubgraphNewInput=function(t,e){-1==this.findInputSlot(t)&&this.addInput(t,e)},r.prototype.onSubgraphRenamedInput=function(t,e){var n=this.findInputSlot(t);-1!=n&&(this.getInputInfo(n).name=e)},r.prototype.onSubgraphTypeChangeInput=function(t,e){var n=this.findInputSlot(t);-1!=n&&(this.getInputInfo(n).type=e)},r.prototype.onSubgraphRemovedInput=function(t){var e=this.findInputSlot(t);-1!=e&&this.removeInput(e)},r.prototype.onSubgraphNewOutput=function(t,e){-1==this.findOutputSlot(t)&&this.addOutput(t,e)},r.prototype.onSubgraphRenamedOutput=function(t,e){var n=this.findOutputSlot(t);-1!=n&&(this.getOutputInfo(n).name=e)},r.prototype.onSubgraphTypeChangeOutput=function(t,e){var n=this.findOutputSlot(t);-1!=n&&(this.getOutputInfo(n).type=e)},r.prototype.onSubgraphRemovedOutput=function(t){var e=this.findInputSlot(t);-1!=e&&this.removeOutput(e)},r.prototype.getExtraMenuOptions=function(t){var e=this;return[{content:"Open",callback:function(){t.openSubgraph(e.subgraph)}}]},r.prototype.onResize=function(t){t[1]+=20},r.prototype.serialize=function(){var t=LGraphNode.prototype.serialize.call(this);return t.subgraph=this.subgraph.serialize(),t},r.prototype.clone=function(){var t=e.createNode(this.type),n=this.serialize();return delete n.id,delete n.inputs,delete n.outputs,t.configure(n),t},e.Subgraph=r,e.registerNodeType("graph/subgraph",r),i.title="Input",i.desc="Input of the graph",i.prototype.onConfigure=function(){this.updateType()},i.prototype.updateType=function(){var t=this.properties.type;this.type_widget.value=t,"number"==t?(this.value_widget.type="number",this.value_widget.value=0):"bool"==t?(this.value_widget.type="toggle",this.value_widget.value=!0):"string"==t?(this.value_widget.type="text",this.value_widget.value=""):(this.value_widget.type=null,this.value_widget.value=null),this.properties.value=this.value_widget.value},i.prototype.onPropertyChanged=function(t,e){if("name"==t){if(""==e||e==this.name_in_graph||"enabled"==e)return!1;this.graph&&(this.name_in_graph?this.graph.renameInput(this.name_in_graph,e):this.graph.addInput(e,this.properties.type)),this.name_widget.value=e,this.name_in_graph=e}else"type"==t&&(e=e||"",this.updateType(e))},i.prototype.getTitle=function(){return this.flags.collapsed?this.properties.name:this.title},i.prototype.onAction=function(t,n){this.properties.type==e.EVENT&&this.triggerSlot(0,n)},i.prototype.onExecute=function(){var t=this.properties.name,e=this.graph.inputs[t];e||this.setOutputData(0,this.properties.value),this.setOutputData(0,void 0===e.value?this.properties.value:e.value)},i.prototype.onRemoved=function(){this.name_in_graph&&this.graph.removeInput(this.name_in_graph)},e.GraphInput=i,e.registerNodeType("graph/input",i),o.title="Output",o.desc="Output of the graph",o.prototype.onExecute=function(){this._value=this.getInputData(0),this.graph.setOutputData(this.properties.name,this._value)},o.prototype.onAction=function(t,n){this.properties.type==e.ACTION&&this.graph.trigger(this.properties.name,n)},o.prototype.onRemoved=function(){this.name_in_graph&&this.graph.removeOutput(this.name_in_graph)},o.prototype.getTitle=function(){return this.flags.collapsed?this.properties.name:this.title},e.GraphOutput=o,e.registerNodeType("graph/output",o),s.title="Const Number",s.desc="Constant number",s.prototype.onExecute=function(){this.setOutputData(0,parseFloat(this.properties.value))},s.prototype.getTitle=function(){return this.flags.collapsed?this.properties.value:this.title},s.prototype.setValue=function(t){this.properties.value=t},s.prototype.onDrawBackground=function(t){this.outputs[0].label=this.properties.value.toFixed(3)},e.registerNodeType("basic/const",s),a.title="Const String",a.desc="Constant string",a.prototype.setValue=function(t){this.properties.value=t},a.prototype.onPropertyChanged=function(t,e){this.widget.value=e},a.prototype.getTitle=s.prototype.getTitle,a.prototype.onExecute=function(){this.setOutputData(0,this.properties.value)},e.registerNodeType("basic/string",a),u.title="Const Data",u.desc="Constant Data",u.prototype.setValue=function(t){this.properties.value=t,this.onPropertyChanged("value",t)},u.prototype.onPropertyChanged=function(t,e){if(this.widget.value=e,null!=e&&""!=e)try{this._value=JSON.parse(e),this.boxcolor="#AEA"}catch(n){this.boxcolor="red"}},u.prototype.onExecute=function(){this.setOutputData(0,this._value)},e.registerNodeType("basic/data",u),l.title="Object property",l.desc="Outputs the property of an object",l.prototype.setValue=function(t){this.properties.value=t,this.widget.value=t},l.prototype.getTitle=function(){return this.flags.collapsed?"in."+this.properties.value:this.title},l.prototype.onPropertyChanged=function(t,e){this.widget.value=e},l.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&this.setOutputData(0,t[this.properties.value])},e.registerNodeType("basic/object_property",l),c.title="Object keys",c.desc="Outputs an array with the keys of an object",c.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&this.setOutputData(0,Object.keys(t))},e.registerNodeType("basic/object_keys",c),p.title="Merge Objects",p.desc="Creates an object copying properties from others",p.prototype.onExecute=function(){var t=this.getInputData(0),e=this.getInputData(1),n=this._result;if(t)for(var r in t)n[r]=t[r];if(e)for(var r in e)n[r]=e[r];this.setOutputData(0,n)},e.registerNodeType("basic/merge_objects",p),h.title="Variable",h.desc="store/read variable value",h.prototype.onExecute=function(){this.value=this.getInputData(0),this.graph&&(this.graph.vars[this.properties.varname]=this.value),this.properties.global&&(t[this.properties.varname]=this.value),this.setOutputData(0,this.value)},h.prototype.getTitle=function(){return this.properties.varname},e.registerNodeType("basic/variable",h),d.title="Download",d.desc="Download some data",d.prototype.downloadAsFile=function(){if(null!=this.value){var t=null;t=this.value.constructor===String?this.value:JSON.stringify(this.value);var e=new Blob([t]),n=URL.createObjectURL(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",this.properties.filename),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(function(){URL.revokeObjectURL(n)},6e4)}},d.prototype.onAction=function(t,e){var n=this;setTimeout(function(){n.downloadAsFile()},100)},d.prototype.onExecute=function(){this.inputs[0]&&(this.value=this.getInputData(0))},d.prototype.getTitle=function(){return this.flags.collapsed?this.properties.filename:this.title},e.registerNodeType("basic/download",d),f.title="Watch",f.desc="Show value of input",f.prototype.onExecute=function(){this.inputs[0]&&(this.value=this.getInputData(0))},f.prototype.getTitle=function(){return this.flags.collapsed?this.inputs[0].label:this.title},f.toString=function(t){if(null==t)return"null";if(t.constructor===Number)return t.toFixed(3);if(t.constructor===Array){for(var e="[",n=0;n<t.length;++n)e+=f.toString(t[n])+(n+1!=t.length?",":"");return e+="]"}return String(t)},f.prototype.onDrawBackground=function(t){this.inputs[0].label=f.toString(this.value)},e.registerNodeType("basic/watch",f),g.title="Cast",g.desc="Allows to connect different types",g.prototype.onExecute=function(){this.setOutputData(0,this.getInputData(0))},e.registerNodeType("basic/cast",g),v.title="Console",v.desc="Show value inside the console",v.prototype.onAction=function(t,e){"log"==t?console.log(e):"warn"==t?console.warn(e):"error"==t&&console.error(e)},v.prototype.onExecute=function(){var t=this.getInputData(1);null!==t&&(this.properties.msg=t),console.log(t)},v.prototype.onGetInputs=function(){return[["log",e.ACTION],["warn",e.ACTION],["error",e.ACTION]]},e.registerNodeType("basic/console",v),_.title="Alert",_.desc="Show an alert window",_.color="#510",_.prototype.onConfigure=function(t){this.widget.value=t.properties.msg},_.prototype.onAction=function(t,e){var n=this.properties.msg;setTimeout(function(){alert(n)},10)},e.registerNodeType("basic/alert",_),m.prototype.onConfigure=function(t){t.properties.onExecute&&e.allow_scripts?this.compileCode(t.properties.onExecute):console.warn("Script not compiled, LiteGraph.allow_scripts is false")},m.title="Script",m.desc="executes a code (max 100 characters)",m.widgets_info={onExecute:{type:"code"}},m.prototype.onPropertyChanged=function(t,n){"onExecute"==t&&e.allow_scripts?this.compileCode(n):console.warn("Script not compiled, LiteGraph.allow_scripts is false")},m.prototype.compileCode=function(t){if(this._func=null,t.length>256)console.warn("Script too long, max 256 chars");else{for(var e=t.toLowerCase(),n=["script","body","document","eval","nodescript","function"],r=0;r<n.length;++r)if(-1!=e.indexOf(n[r]))return void console.warn("invalid script");try{this._func=new Function("A","B","C","DATA","node",t)}catch(i){console.error("Error parsing script"),console.error(i)}}},m.prototype.onExecute=function(){if(this._func)try{var t=this.getInputData(0),e=this.getInputData(1),n=this.getInputData(2);this.setOutputData(0,this._func(t,e,n,this.data,this))}catch(r){console.error("Error in script"),console.error(r)}},m.prototype.onGetOutputs=function(){return[["C",""]]},e.registerNodeType("basic/script",m)}(this),function(t){var e=t.LiteGraph;function n(){this.size=[60,30],this.addInput("event",e.ACTION)}function r(){this.size=[60,30],this.addInput("in",""),this.addOutput("true",e.EVENT),this.addOutput("change",e.EVENT),this.was_true=!1}function i(){this.addInput("",e.ACTION),this.addInput("",e.ACTION),this.addInput("",e.ACTION),this.addInput("",e.ACTION),this.addInput("",e.ACTION),this.addInput("",e.ACTION),this.addOutput("",e.EVENT),this.addOutput("",e.EVENT),this.addOutput("",e.EVENT),this.addOutput("",e.EVENT),this.addOutput("",e.EVENT),this.addOutput("",e.EVENT),this.size=[120,30],this.flags={horizontal:!0,render_box:!1}}function o(){this.size=[60,30],this.addInput("event",e.ACTION),this.addOutput("event",e.EVENT),this.properties={equal_to:"",has_property:"",property_equal_to:""}}function s(){this.addInput("inc",e.ACTION),this.addInput("dec",e.ACTION),this.addInput("reset",e.ACTION),this.addOutput("change",e.EVENT),this.addOutput("num","number"),this.num=0}function a(){this.size=[60,30],this.addProperty("time_in_ms",1e3),this.addInput("event",e.ACTION),this.addOutput("on_time",e.EVENT),this._pending=[]}function u(){this.addProperty("interval",1e3),this.addProperty("event","tick"),this.addOutput("on_tick",e.EVENT),this.time=0,this.last_interval=1e3,this.triggered=!1}function l(){this.addInput("data",""),this.addInput("assign",e.ACTION),this.addOutput("data",""),this._last_value=null,this.properties={data:null,serialize:!0};var t=this;this.addWidget("button","store","",function(){t.properties.data=t._last_value})}n.title="Log Event",n.desc="Log event in console",n.prototype.onAction=function(t,e){console.log(t,e)},e.registerNodeType("events/log",n),r.title="TriggerEvent",r.desc="Triggers event if value is true",r.prototype.onExecute=function(t,e){var n=this.getInputData(0);n&&this.triggerSlot(0,e),n&&!this.was_true&&this.triggerSlot(1,e),this.was_true=n},e.registerNodeType("events/trigger",r),i.title="Sequencer",i.desc="Trigger events when an event arrives",i.prototype.getTitle=function(){return""},i.prototype.onAction=function(t,e){if(this.outputs)for(var n=0;n<this.outputs.length;++n)this.triggerSlot(n,e)},e.registerNodeType("events/sequencer",i),o.title="Filter Event",o.desc="Blocks events that do not match the filter",o.prototype.onAction=function(t,e){if(null!=e&&(!this.properties.equal_to||this.properties.equal_to==e)){if(this.properties.has_property){var n=e[this.properties.has_property];if(null==n)return;if(this.properties.property_equal_to&&this.properties.property_equal_to!=n)return}this.triggerSlot(0,e)}},e.registerNodeType("events/filter",o),s.title="Counter",s.desc="Counts events",s.prototype.getTitle=function(){return this.flags.collapsed?String(this.num):this.title},s.prototype.onAction=function(t,e){var n=this.num;"inc"==t?this.num+=1:"dec"==t?this.num-=1:"reset"==t&&(this.num=0),this.num!=n&&this.trigger("change",this.num)},s.prototype.onDrawBackground=function(t){this.flags.collapsed||(t.fillStyle="#AAA",t.font="20px Arial",t.textAlign="center",t.fillText(this.num,.5*this.size[0],.5*this.size[1]))},s.prototype.onExecute=function(){this.setOutputData(1,this.num)},e.registerNodeType("events/counter",s),a.title="Delay",a.desc="Delays one event",a.prototype.onAction=function(t,e){var n=this.properties.time_in_ms;n<=0?this.trigger(null,e):this._pending.push([n,e])},a.prototype.onExecute=function(){var t=1e3*this.graph.elapsed_time;this.isInputConnected(1)&&(this.properties.time_in_ms=this.getInputData(1));for(var e=0;e<this._pending.length;++e){var n=this._pending[e];n[0]-=t,n[0]>0||(this._pending.splice(e,1),--e,this.trigger(null,n[1]))}},a.prototype.onGetInputs=function(){return[["event",e.ACTION],["time_in_ms","number"]]},e.registerNodeType("events/delay",a),u.title="Timer",u.desc="Sends an event every N milliseconds",u.prototype.onStart=function(){this.time=0},u.prototype.getTitle=function(){return"Timer: "+this.last_interval.toString()+"ms"},u.on_color="#AAA",u.off_color="#222",u.prototype.onDrawBackground=function(){this.boxcolor=this.triggered?u.on_color:u.off_color,this.triggered=!1},u.prototype.onExecute=function(){var t=1e3*this.graph.elapsed_time,e=0==this.time;this.time+=t,this.last_interval=Math.max(1,0|this.getInputOrProperty("interval")),e||!(this.time<this.last_interval||isNaN(this.last_interval))?(this.triggered=!0,this.time=this.time%this.last_interval,this.trigger("on_tick",this.properties.event),this.inputs&&this.inputs.length>1&&this.inputs[1]&&this.setOutputData(1,!0)):this.inputs&&this.inputs.length>1&&this.inputs[1]&&this.setOutputData(1,!1)},u.prototype.onGetInputs=function(){return[["interval","number"]]},u.prototype.onGetOutputs=function(){return[["tick","boolean"]]},e.registerNodeType("events/timer",u),l.title="Data Store",l.desc="Stores data and only changes when event is received",l.prototype.onExecute=function(){this._last_value=this.getInputData(0),this.setOutputData(0,this.properties.data)},l.prototype.onAction=function(t,e){this.properties.data=this._last_value},l.prototype.onSerialize=function(t){null!=t.data&&(0==this.properties.serialize||t.data.constructor!==String&&t.data.constructor!==Number&&t.data.constructor!==Boolean&&t.data.constructor!==Array&&t.data.constructor!==Object)&&(t.data=null)},e.registerNodeType("basic/data_store",l)}(this),function(t){var e=t.LiteGraph;function n(){this.addOutput("",e.EVENT),this.addOutput("","boolean"),this.addProperty("text","click me"),this.addProperty("font_size",30),this.addProperty("message",""),this.size=[164,84],this.clicked=!1}function r(){this.addInput("","boolean"),this.addInput("e",e.ACTION),this.addOutput("v","boolean"),this.addOutput("e",e.EVENT),this.properties={font:"",value:!1},this.size=[160,44]}function i(){this.addOutput("","number"),this.size=[80,60],this.properties={min:-1e3,max:1e3,value:1,step:1},this.old_y=-1,this._remainder=0,this._precision=0,this.mouse_captured=!1}function o(){this.addOutput("","string"),this.addOutput("change",e.EVENT),this.size=[80,60],this.properties={value:"A",values:"A;B;C"},this.old_y=-1,this.mouse_captured=!1,this._values=this.properties.values.split(";");var t=this;this.widgets_up=!0,this.widget=this.addWidget("combo","",this.properties.value,function(e){t.properties.value=e,t.triggerSlot(1,e)},{property:"value",values:this._values})}function s(){this.addOutput("","number"),this.size=[64,84],this.properties={min:0,max:1,value:.5,color:"#7AF",precision:2},this.value=-1}function a(){this.addOutput("","number"),this.properties={value:.5,min:0,max:1,text:"V"};var t=this;this.size=[140,40],this.slider=this.addWidget("slider","V",this.properties.value,function(e){t.properties.value=e},this.properties),this.widgets_up=!0}function u(){this.size=[160,26],this.addOutput("","number"),this.properties={color:"#7AF",min:0,max:1,value:.5},this.value=-1}function l(){this.size=[160,26],this.addInput("","number"),this.properties={min:0,max:1,value:0,color:"#AAF"}}function c(){this.addInputs("",0),this.properties={value:"...",font:"Arial",fontsize:18,color:"#AAA",align:"left",glowSize:0,decimals:1}}function p(){this.size=[200,100],this.properties={borderColor:"#ffffff",bgcolorTop:"#f0f0f0",bgcolorBottom:"#e0e0e0",shadowSize:2,borderRadius:3}}n.title="Button",n.desc="Triggers an event",n.font="Arial",n.prototype.onDrawForeground=function(t){if(!this.flags.collapsed){if(t.fillStyle="black",t.fillRect(11,11,this.size[0]-20,this.size[1]-20),t.fillStyle="#AAF",t.fillRect(9,9,this.size[0]-20,this.size[1]-20),t.fillStyle=this.clicked?"white":this.mouseOver?"#668":"#334",t.fillRect(10,10,this.size[0]-20,this.size[1]-20),this.properties.text||0===this.properties.text){var e=this.properties.font_size||30;t.textAlign="center",t.fillStyle=this.clicked?"black":"white",t.font=e+"px "+n.font,t.fillText(this.properties.text,.5*this.size[0],.5*this.size[1]+.3*e),t.textAlign="left"}}},n.prototype.onMouseDown=function(t,e){if(e[0]>1&&e[1]>1&&e[0]<this.size[0]-2&&e[1]<this.size[1]-2)return this.clicked=!0,this.triggerSlot(0,this.properties.message),!0},n.prototype.onExecute=function(){this.setOutputData(1,this.clicked)},n.prototype.onMouseUp=function(t){this.clicked=!1},e.registerNodeType("widget/button",n),r.title="Toggle",r.desc="Toggles between true or false",r.prototype.onDrawForeground=function(t){if(!this.flags.collapsed){var e=.5*this.size[1],n=.8*this.size[1];t.font=this.properties.font||(.8*e).toFixed(0)+"px Arial";var r=t.measureText(this.title).width,i=.5*(this.size[0]-(r+e));t.fillStyle="#AAA",t.fillRect(i,n-e,e,e),t.fillStyle=this.properties.value?"#AEF":"#000",t.fillRect(i+.25*e,n-e+.25*e,.5*e,.5*e),t.textAlign="left",t.fillStyle="#AAA",t.fillText(this.title,1.2*e+i,.85*n),t.textAlign="left"}},r.prototype.onAction=function(t){this.properties.value=!this.properties.value,this.trigger("e",this.properties.value)},r.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&(this.properties.value=t),this.setOutputData(0,this.properties.value)},r.prototype.onMouseDown=function(t,e){if(e[0]>1&&e[1]>1&&e[0]<this.size[0]-2&&e[1]<this.size[1]-2)return this.properties.value=!this.properties.value,this.graph._version++,this.trigger("e",this.properties.value),!0},e.registerNodeType("widget/toggle",r),i.title="Number",i.desc="Widget to select number value",i.pixels_threshold=10,i.markers_color="#666",i.prototype.onDrawForeground=function(t){var e=.5*this.size[0],n=this.size[1];n>30?(t.fillStyle=i.markers_color,t.beginPath(),t.moveTo(e,.1*n),t.lineTo(e+.1*n,.2*n),t.lineTo(e+-.1*n,.2*n),t.fill(),t.beginPath(),t.moveTo(e,.9*n),t.lineTo(e+.1*n,.8*n),t.lineTo(e+-.1*n,.8*n),t.fill(),t.font=(.7*n).toFixed(1)+"px Arial"):t.font=(.8*n).toFixed(1)+"px Arial",t.textAlign="center",t.font=(.7*n).toFixed(1)+"px Arial",t.fillStyle="#EEE",t.fillText(this.properties.value.toFixed(this._precision),e,.75*n)},i.prototype.onExecute=function(){this.setOutputData(0,this.properties.value)},i.prototype.onPropertyChanged=function(t,e){var n=(this.properties.step+"").split(".");this._precision=n.length>1?n[1].length:0},i.prototype.onMouseDown=function(t,e){if(!(e[1]<0))return this.old_y=t.canvasY,this.captureInput(!0),this.mouse_captured=!0,!0},i.prototype.onMouseMove=function(t){if(this.mouse_captured){var e=this.old_y-t.canvasY;t.shiftKey&&(e*=10),(t.metaKey||t.altKey)&&(e*=.1),this.old_y=t.canvasY;var n=this._remainder+e/i.pixels_threshold;this._remainder=n%1,n|=0;var r=Math.clamp(this.properties.value+n*this.properties.step,this.properties.min,this.properties.max);this.properties.value=r,this.graph._version++,this.setDirtyCanvas(!0)}},i.prototype.onMouseUp=function(t,e){if(t.click_time<200){var n=e[1]>.5*this.size[1]?-1:1;this.properties.value=Math.clamp(this.properties.value+n*this.properties.step,this.properties.min,this.properties.max),this.graph._version++,this.setDirtyCanvas(!0)}this.mouse_captured&&(this.mouse_captured=!1,this.captureInput(!1))},e.registerNodeType("widget/number",i),o.title="Combo",o.desc="Widget to select from a list",o.prototype.onExecute=function(){this.setOutputData(0,this.properties.value)},o.prototype.onPropertyChanged=function(t,e){"values"==t?(this._values=e.split(";"),this.widget.options.values=this._values):"value"==t&&(this.widget.value=e)},e.registerNodeType("widget/combo",o),s.title="Knob",s.desc="Circular controller",s.size=[80,100],s.prototype.onDrawForeground=function(t){if(!this.flags.collapsed){-1==this.value&&(this.value=(this.properties.value-this.properties.min)/(this.properties.max-this.properties.min));var e=.5*this.size[0],n=.5*this.size[1],r=.5*Math.min(this.size[0],this.size[1])-5;Math.floor(.05*r);t.globalAlpha=1,t.save(),t.translate(e,n),t.rotate(.75*Math.PI),t.fillStyle="rgba(0,0,0,0.5)",t.beginPath(),t.moveTo(0,0),t.arc(0,0,r,0,1.5*Math.PI),t.fill(),t.strokeStyle="black",t.fillStyle=this.properties.color,t.lineWidth=2,t.beginPath(),t.moveTo(0,0),t.arc(0,0,r-4,0,1.5*Math.PI*Math.max(.01,this.value)),t.closePath(),t.fill(),t.lineWidth=1,t.globalAlpha=1,t.restore(),t.fillStyle="black",t.beginPath(),t.arc(e,n,.75*r,0,2*Math.PI,!0),t.fill(),t.fillStyle=this.mouseOver?"white":this.properties.color,t.beginPath();var i=this.value*Math.PI*1.5+.75*Math.PI;t.arc(e+Math.cos(i)*r*.65,n+Math.sin(i)*r*.65,.05*r,0,2*Math.PI,!0),t.fill(),t.fillStyle=this.mouseOver?"white":"#AAA",t.font=Math.floor(.5*r)+"px Arial",t.textAlign="center",t.fillText(this.properties.value.toFixed(this.properties.precision),e,n+.15*r)}},s.prototype.onExecute=function(){this.setOutputData(0,this.properties.value),this.boxcolor=e.colorToString([this.value,this.value,this.value])},s.prototype.onMouseDown=function(t){return this.center=[.5*this.size[0],.5*this.size[1]+20],this.radius=.5*this.size[0],!(t.canvasY-this.pos[1]<20||e.distance([t.canvasX,t.canvasY],[this.pos[0]+this.center[0],this.pos[1]+this.center[1]])>this.radius)&&(this.oldmouse=[t.canvasX-this.pos[0],t.canvasY-this.pos[1]],this.captureInput(!0),!0)},s.prototype.onMouseMove=function(t){if(this.oldmouse){var e=[t.canvasX-this.pos[0],t.canvasY-this.pos[1]],n=this.value;(n-=.01*(e[1]-this.oldmouse[1]))>1?n=1:n<0&&(n=0),this.value=n,this.properties.value=this.properties.min+(this.properties.max-this.properties.min)*this.value,this.oldmouse=e,this.setDirtyCanvas(!0)}},s.prototype.onMouseUp=function(t){this.oldmouse&&(this.oldmouse=null,this.captureInput(!1))},s.prototype.onPropertyChanged=function(t,e){if("min"==t||"max"==t||"value"==t)return this.properties[t]=parseFloat(e),!0},e.registerNodeType("widget/knob",s),a.title="Inner Slider",a.prototype.onPropertyChanged=function(t,e){"value"==t&&(this.slider.value=e)},a.prototype.onExecute=function(){this.setOutputData(0,this.properties.value)},e.registerNodeType("widget/internal_slider",a),u.title="H.Slider",u.desc="Linear slider controller",u.prototype.onDrawForeground=function(t){-1==this.value&&(this.value=(this.properties.value-this.properties.min)/(this.properties.max-this.properties.min)),t.globalAlpha=1,t.lineWidth=1,t.fillStyle="#000",t.fillRect(2,2,this.size[0]-4,this.size[1]-4),t.fillStyle=this.properties.color,t.beginPath(),t.rect(4,4,(this.size[0]-8)*this.value,this.size[1]-8),t.fill()},u.prototype.onExecute=function(){this.properties.value=this.properties.min+(this.properties.max-this.properties.min)*this.value,this.setOutputData(0,this.properties.value),this.boxcolor=e.colorToString([this.value,this.value,this.value])},u.prototype.onMouseDown=function(t){return!(t.canvasY-this.pos[1]<0)&&(this.oldmouse=[t.canvasX-this.pos[0],t.canvasY-this.pos[1]],this.captureInput(!0),!0)},u.prototype.onMouseMove=function(t){if(this.oldmouse){var e=[t.canvasX-this.pos[0],t.canvasY-this.pos[1]],n=this.value;(n+=(e[0]-this.oldmouse[0])/this.size[0])>1?n=1:n<0&&(n=0),this.value=n,this.oldmouse=e,this.setDirtyCanvas(!0)}},u.prototype.onMouseUp=function(t){this.oldmouse=null,this.captureInput(!1)},u.prototype.onMouseLeave=function(t){},e.registerNodeType("widget/hslider",u),l.title="Progress",l.desc="Shows data in linear progress",l.prototype.onExecute=function(){var t=this.getInputData(0);void 0!=t&&(this.properties.value=t)},l.prototype.onDrawForeground=function(t){t.lineWidth=1,t.fillStyle=this.properties.color;var e=(this.properties.value-this.properties.min)/(this.properties.max-this.properties.min);e=Math.min(1,e),e=Math.max(0,e),t.fillRect(2,2,(this.size[0]-4)*e,this.size[1]-4)},e.registerNodeType("widget/progress",l),c.title="Text",c.desc="Shows the input value",c.widgets=[{name:"resize",text:"Resize box",type:"button"},{name:"led_text",text:"LED",type:"minibutton"},{name:"normal_text",text:"Normal",type:"minibutton"}],c.prototype.onDrawForeground=function(t){t.fillStyle=this.properties.color;var e=this.properties.value;this.properties.glowSize?(t.shadowColor=this.properties.color,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=this.properties.glowSize):t.shadowColor="transparent";var n=this.properties.fontsize;if(t.textAlign=this.properties.align,t.font=n.toString()+"px "+this.properties.font,this.str="number"==typeof e?e.toFixed(this.properties.decimals):e,"string"==typeof this.str){var r=this.str.split("\\n");for(var i in r)t.fillText(r[i],"left"==this.properties.align?15:this.size[0]-15,-.15*n+n*(parseInt(i)+1))}t.shadowColor="transparent",this.last_ctx=t,t.textAlign="left"},c.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&(this.properties.value=t)},c.prototype.resize=function(){if(this.last_ctx){var t=this.str.split("\\n");this.last_ctx.font=this.properties.fontsize+"px "+this.properties.font;var e=0;for(var n in t){var r=this.last_ctx.measureText(t[n]).width;e<r&&(e=r)}this.size[0]=e+20,this.size[1]=4+t.length*this.properties.fontsize,this.setDirtyCanvas(!0)}},c.prototype.onPropertyChanged=function(t,e){return this.properties[t]=e,this.str="number"==typeof e?e.toFixed(3):e,!0},e.registerNodeType("widget/text",c),p.title="Panel",p.desc="Non interactive panel",p.widgets=[{name:"update",text:"Update",type:"button"}],p.prototype.createGradient=function(t){""!=this.properties.bgcolorTop&&""!=this.properties.bgcolorBottom?(this.lineargradient=t.createLinearGradient(0,0,0,this.size[1]),this.lineargradient.addColorStop(0,this.properties.bgcolorTop),this.lineargradient.addColorStop(1,this.properties.bgcolorBottom)):this.lineargradient=0},p.prototype.onDrawForeground=function(t){this.flags.collapsed||(null==this.lineargradient&&this.createGradient(t),this.lineargradient&&(t.lineWidth=1,t.strokeStyle=this.properties.borderColor,t.fillStyle=this.lineargradient,this.properties.shadowSize?(t.shadowColor="#000",t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=this.properties.shadowSize):t.shadowColor="transparent",t.roundRect(0,0,this.size[0]-1,this.size[1]-1,this.properties.shadowSize),t.fill(),t.shadowColor="transparent",t.stroke()))},e.registerNodeType("widget/panel",p)}(this),function(t){var e=t.LiteGraph;function n(){this.addOutput("left_x_axis","number"),this.addOutput("left_y_axis","number"),this.addOutput("button_pressed",e.EVENT),this.properties={gamepad_index:0,threshold:.1},this._left_axis=new Float32Array(2),this._right_axis=new Float32Array(2),this._triggers=new Float32Array(2),this._previous_buttons=new Uint8Array(17),this._current_buttons=new Uint8Array(17)}n.title="Gamepad",n.desc="gets the input of the gamepad",n.CENTER=0,n.LEFT=1,n.RIGHT=2,n.UP=4,n.DOWN=8,n.zero=new Float32Array(2),n.buttons=["a","b","x","y","lb","rb","lt","rt","back","start","ls","rs","home"],n.prototype.onExecute=function(){var t=this.getGamepad(),e=this.properties.threshold||0;if(t&&(this._left_axis[0]=Math.abs(t.xbox.axes.lx)>e?t.xbox.axes.lx:0,this._left_axis[1]=Math.abs(t.xbox.axes.ly)>e?t.xbox.axes.ly:0,this._right_axis[0]=Math.abs(t.xbox.axes.rx)>e?t.xbox.axes.rx:0,this._right_axis[1]=Math.abs(t.xbox.axes.ry)>e?t.xbox.axes.ry:0,this._triggers[0]=Math.abs(t.xbox.axes.ltrigger)>e?t.xbox.axes.ltrigger:0,this._triggers[1]=Math.abs(t.xbox.axes.rtrigger)>e?t.xbox.axes.rtrigger:0),this.outputs)for(var r=0;r<this.outputs.length;r++){var i=this.outputs[r];if(i.links&&i.links.length){var o=null;if(t)switch(i.name){case"left_axis":o=this._left_axis;break;case"right_axis":o=this._right_axis;break;case"left_x_axis":o=this._left_axis[0];break;case"left_y_axis":o=this._left_axis[1];break;case"right_x_axis":o=this._right_axis[0];break;case"right_y_axis":o=this._right_axis[1];break;case"trigger_left":o=this._triggers[0];break;case"trigger_right":o=this._triggers[1];break;case"a_button":o=t.xbox.buttons.a?1:0;break;case"b_button":o=t.xbox.buttons.b?1:0;break;case"x_button":o=t.xbox.buttons.x?1:0;break;case"y_button":o=t.xbox.buttons.y?1:0;break;case"lb_button":o=t.xbox.buttons.lb?1:0;break;case"rb_button":o=t.xbox.buttons.rb?1:0;break;case"ls_button":o=t.xbox.buttons.ls?1:0;break;case"rs_button":o=t.xbox.buttons.rs?1:0;break;case"hat_left":o=t.xbox.hatmap&n.LEFT;break;case"hat_right":o=t.xbox.hatmap&n.RIGHT;break;case"hat_up":o=t.xbox.hatmap&n.UP;break;case"hat_down":o=t.xbox.hatmap&n.DOWN;break;case"hat":o=t.xbox.hatmap;break;case"start_button":o=t.xbox.buttons.start?1:0;break;case"back_button":o=t.xbox.buttons.back?1:0;break;case"button_pressed":for(var s=0;s<this._current_buttons.length;++s)this._current_buttons[s]&&!this._previous_buttons[s]&&this.triggerSlot(r,n.buttons[s])}else switch(i.name){case"button_pressed":break;case"left_axis":case"right_axis":o=n.zero;break;default:o=0}this.setOutputData(r,o)}}},n.mapping={a:0,b:1,x:2,y:3,lb:4,rb:5,lt:6,rt:7,back:8,start:9,ls:10,rs:11},n.mapping_array=["a","b","x","y","lb","rb","lt","rt","back","start","ls","rs"],n.prototype.getGamepad=function(){var t=navigator.getGamepads||navigator.webkitGetGamepads||navigator.mozGetGamepads;if(!t)return null;var e=t.call(navigator),r=null;this._previous_buttons.set(this._current_buttons);for(var i=this.properties.gamepad_index;i<4;i++)if(e[i]){r=e[i];var o=this.xbox_mapping;o||(o=this.xbox_mapping={axes:[],buttons:{},hat:"",hatmap:n.CENTER}),o.axes.lx=r.axes[0],o.axes.ly=r.axes[1],o.axes.rx=r.axes[2],o.axes.ry=r.axes[3],o.axes.ltrigger=r.buttons[6].value,o.axes.rtrigger=r.buttons[7].value,o.hat="",o.hatmap=n.CENTER;for(var s=0;s<r.buttons.length;s++)if(this._current_buttons[s]=r.buttons[s].pressed,s<12)o.buttons[n.mapping_array[s]]=r.buttons[s].pressed,r.buttons[s].was_pressed&&this.trigger(n.mapping_array[s]+"_button_event");else switch(s){case 12:r.buttons[s].pressed&&(o.hat+="up",o.hatmap|=n.UP);break;case 13:r.buttons[s].pressed&&(o.hat+="down",o.hatmap|=n.DOWN);break;case 14:r.buttons[s].pressed&&(o.hat+="left",o.hatmap|=n.LEFT);break;case 15:r.buttons[s].pressed&&(o.hat+="right",o.hatmap|=n.RIGHT);break;case 16:o.buttons.home=r.buttons[s].pressed}return r.xbox=o,r}},n.prototype.onDrawBackground=function(t){if(!this.flags.collapsed){var e=this._left_axis,n=this._right_axis;t.strokeStyle="#88A",t.strokeRect(.5*(e[0]+1)*this.size[0]-4,.5*(e[1]+1)*this.size[1]-4,8,8),t.strokeStyle="#8A8",t.strokeRect(.5*(n[0]+1)*this.size[0]-4,.5*(n[1]+1)*this.size[1]-4,8,8);var r=this.size[1]/this._current_buttons.length;t.fillStyle="#AEB";for(var i=0;i<this._current_buttons.length;++i)this._current_buttons[i]&&t.fillRect(0,r*i,6,r)}},n.prototype.onGetOutputs=function(){return[["left_axis","vec2"],["right_axis","vec2"],["left_x_axis","number"],["left_y_axis","number"],["right_x_axis","number"],["right_y_axis","number"],["trigger_left","number"],["trigger_right","number"],["a_button","number"],["b_button","number"],["x_button","number"],["y_button","number"],["lb_button","number"],["rb_button","number"],["ls_button","number"],["rs_button","number"],["start_button","number"],["back_button","number"],["a_button_event",e.EVENT],["b_button_event",e.EVENT],["x_button_event",e.EVENT],["y_button_event",e.EVENT],["lb_button_event",e.EVENT],["rb_button_event",e.EVENT],["ls_button_event",e.EVENT],["rs_button_event",e.EVENT],["start_button_event",e.EVENT],["back_button_event",e.EVENT],["hat_left","number"],["hat_right","number"],["hat_up","number"],["hat_down","number"],["hat","number"],["button_pressed",e.EVENT]]},e.registerNodeType("input/gamepad",n)}(this),function(t){var e=t.LiteGraph;function n(){this.addInput("in","*"),this.size=[80,30]}function r(){this.addInput("in"),this.addOutput("out"),this.size=[80,30]}function i(){this.addInput("in"),this.addOutput("out")}function o(){this.addInput("in","number",{locked:!0}),this.addOutput("out","number",{locked:!0}),this.addProperty("in",0),this.addProperty("in_min",0),this.addProperty("in_max",1),this.addProperty("out_min",0),this.addProperty("out_max",1),this.size=[80,30]}function s(){this.addOutput("value","number"),this.addProperty("min",0),this.addProperty("max",1),this.size=[80,30]}function a(){this.addInput("in","number"),this.addOutput("out","number"),this.addProperty("min",0),this.addProperty("max",1),this.addProperty("smooth",!0),this.size=[90,30]}function u(){this.addOutput("out","number"),this.addProperty("min_time",1),this.addProperty("max_time",2),this.addProperty("duration",.2),this.size=[90,30],this._remaining_time=0,this._blink_time=0}function l(){this.addInput("in","number"),this.addOutput("out","number"),this.size=[80,30],this.addProperty("min",0),this.addProperty("max",1)}function c(){this.properties={f:.5},this.addInput("A","number"),this.addInput("B","number"),this.addOutput("out","number")}function p(){this.addInput("in","number"),this.addOutput("out","number"),this.size=[80,30]}function h(){this.addInput("in","number"),this.addOutput("out","number"),this.size=[80,30]}function d(){this.addInput("in","number"),this.addOutput("out","number"),this.size=[80,30]}function f(){this.addInput("in","number"),this.addOutput("out","number"),this.size=[80,30],this.properties={A:0,B:1}}function g(){this.addInput("in","number",{label:""}),this.addOutput("out","number",{label:""}),this.size=[80,30],this.addProperty("factor",1)}function v(){this.addInput("v","boolean"),this.addInput("A"),this.addInput("B"),this.addOutput("out")}function _(){this.addInput("in","number"),this.addOutput("out","number"),this.size=[80,30],this.addProperty("samples",10),this._values=new Float32Array(10),this._current=0}function m(){this.addInput("in","number"),this.addOutput("out","number"),this.addProperty("factor",.1),this.size=[80,30],this._value=null}function y(){this.addInput("A","number"),this.addInput("B","number"),this.addOutput("=","number"),this.addProperty("A",1),this.addProperty("B",1),this.addProperty("OP","+","enum",{values:y.values})}function b(){this.addInput("A","number"),this.addInput("B","number"),this.addOutput("A==B","boolean"),this.addOutput("A!=B","boolean"),this.addProperty("A",0),this.addProperty("B",0)}function x(){this.addInput("A","number"),this.addInput("B","number"),this.addOutput("true","boolean"),this.addOutput("false","boolean"),this.addProperty("A",1),this.addProperty("B",1),this.addProperty("OP",">","enum",{values:x.values}),this.size=[80,60]}function E(){this.addInput("inc","number"),this.addOutput("total","number"),this.addProperty("increment",1),this.addProperty("value",0)}function w(){this.addInput("v","number"),this.addOutput("sin","number"),this.addProperty("amplitude",1),this.addProperty("offset",0),this.bgImageUrl="nodes/imgs/icon-sin.png"}function T(){this.addInput("x","number"),this.addInput("y","number"),this.addOutput("","number"),this.properties={x:1,y:1,formula:"x+y"},this.code_widget=this.addWidget("text","F(x,y)",this.properties.formula,function(t,e,n){n.properties.formula=t}),this.addWidget("toggle","allow",e.allow_scripts,function(t){e.allow_scripts=t}),this._func=null}function O(){this.addInput("vec2","vec2"),this.addOutput("x","number"),this.addOutput("y","number")}function C(){this.addInputs([["x","number"],["y","number"]]),this.addOutput("vec2","vec2"),this.properties={x:0,y:0},this._data=new Float32Array(2)}function S(){this.addInput("vec3","vec3"),this.addOutput("x","number"),this.addOutput("y","number"),this.addOutput("z","number")}function k(){this.addInputs([["x","number"],["y","number"],["z","number"]]),this.addOutput("vec3","vec3"),this.properties={x:0,y:0,z:0},this._data=new Float32Array(3)}function I(){this.addInput("vec4","vec4"),this.addOutput("x","number"),this.addOutput("y","number"),this.addOutput("z","number"),this.addOutput("w","number")}function A(){this.addInputs([["x","number"],["y","number"],["z","number"],["w","number"]]),this.addOutput("vec4","vec4"),this.properties={x:0,y:0,z:0,w:0},this._data=new Float32Array(4)}if(n.title="Converter",n.desc="type A to type B",n.prototype.onExecute=function(){var t=this.getInputData(0);if(null!=t&&this.outputs)for(var e=0;e<this.outputs.length;e++){var n=this.outputs[e];if(n.links&&n.links.length){var r=null;switch(n.name){case"number":r=t.length?t[0]:parseFloat(t);break;case"vec2":case"vec3":case"vec4":r=null;var i=1;switch(n.name){case"vec2":i=2;break;case"vec3":i=3;break;case"vec4":i=4}r=new Float32Array(i);if(t.length)for(var o=0;o<t.length&&o<r.length;o++)r[o]=t[o];else r[0]=parseFloat(t)}this.setOutputData(e,r)}}},n.prototype.onGetOutputs=function(){return[["number","number"],["vec2","vec2"],["vec3","vec3"],["vec4","vec4"]]},e.registerNodeType("math/converter",n),r.title="Bypass",r.desc="removes the type",r.prototype.onExecute=function(){var t=this.getInputData(0);this.setOutputData(0,t)},e.registerNodeType("math/bypass",r),i.title="to Number",i.desc="Cast to number",i.prototype.onExecute=function(){var t=this.getInputData(0);this.setOutputData(0,Number(t))},e.registerNodeType("math/to_number",i),o.title="Range",o.desc="Convert a number from one range to another",o.prototype.getTitle=function(){return this.flags.collapsed?(this._last_v||0).toFixed(2):this.title},o.prototype.onExecute=function(){if(this.inputs)for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];void 0!==(n=this.getInputData(t))&&(this.properties[e.name]=n)}var n;void 0!==(n=this.properties.in)&&null!==n&&n.constructor===Number||(n=0);var r=this.properties.in_min,i=this.properties.in_max,o=this.properties.out_min,s=this.properties.out_max;this._last_v=(n-r)/(i-r)*(s-o)+o,this.setOutputData(0,this._last_v)},o.prototype.onDrawBackground=function(t){this._last_v?this.outputs[0].label=this._last_v.toFixed(3):this.outputs[0].label="?"},o.prototype.onGetInputs=function(){return[["in_min","number"],["in_max","number"],["out_min","number"],["out_max","number"]]},e.registerNodeType("math/range",o),s.title="Rand",s.desc="Random number",s.prototype.onExecute=function(){if(this.inputs)for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t],n=this.getInputData(t);void 0!==n&&(this.properties[e.name]=n)}var r=this.properties.min,i=this.properties.max;this._last_v=Math.random()*(i-r)+r,this.setOutputData(0,this._last_v)},s.prototype.onDrawBackground=function(t){this.outputs[0].label=(this._last_v||0).toFixed(3)},s.prototype.onGetInputs=function(){return[["min","number"],["max","number"]]},e.registerNodeType("math/rand",s),a.title="Noise",a.desc="Random number with temporal continuity",a.data=null,a.getValue=function(t,e){if(!a.data){a.data=new Float32Array(1024);for(var n=0;n<a.data.length;++n)a.data[n]=Math.random()}(t%=1024)<0&&(t+=1024);var r=Math.floor(t);t-=r;return e&&(t=t*t*t*(t*(6*t-15)+10)),a.data[r]*(1-t)+a.data[1023==r?0:r+1]*t},a.prototype.onExecute=function(){var t=this.getInputData(0)||0,e=a.getValue(t,this.properties.smooth),n=this.properties.min,r=this.properties.max;this._last_v=e*(r-n)+n,this.setOutputData(0,this._last_v)},a.prototype.onDrawBackground=function(t){this.outputs[0].label=(this._last_v||0).toFixed(3)},e.registerNodeType("math/noise",a),u.title="Spikes",u.desc="spike every random time",u.prototype.onExecute=function(){var t=this.graph.elapsed_time;this._remaining_time-=t,this._blink_time-=t;var e=0;if(this._blink_time>0){var n=this._blink_time/this.properties.duration;e=1/(Math.pow(8*n-4,4)+1)}this._remaining_time<0?(this._remaining_time=Math.random()*(this.properties.max_time-this.properties.min_time)+this.properties.min_time,this._blink_time=this.properties.duration,this.boxcolor="#FFF"):this.boxcolor="#000",this.setOutputData(0,e)},e.registerNodeType("math/spikes",u),l.title="Clamp",l.desc="Clamp number between min and max",l.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&(t=Math.max(this.properties.min,t),t=Math.min(this.properties.max,t),this.setOutputData(0,t))},l.prototype.getCode=function(t){var e="";return this.isInputConnected(0)&&(e+="clamp({{0}},"+this.properties.min+","+this.properties.max+")"),e},e.registerNodeType("math/clamp",l),c.title="Lerp",c.desc="Linear Interpolation",c.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=0);var e=this.getInputData(1);null==e&&(e=0);var n=this.properties.f,r=this.getInputData(2);void 0!==r&&(n=r),this.setOutputData(0,t*(1-n)+e*n)},c.prototype.onGetInputs=function(){return[["f","number"]]},e.registerNodeType("math/lerp",c),p.title="Abs",p.desc="Absolute",p.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&this.setOutputData(0,Math.abs(t))},e.registerNodeType("math/abs",p),h.title="Floor",h.desc="Floor number to remove fractional part",h.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&this.setOutputData(0,Math.floor(t))},e.registerNodeType("math/floor",h),d.title="Frac",d.desc="Returns fractional part",d.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&this.setOutputData(0,t%1)},e.registerNodeType("math/frac",d),f.title="Smoothstep",f.desc="Smoothstep",f.prototype.onExecute=function(){var t=this.getInputData(0);if(void 0!==t){var e=this.properties.A,n=this.properties.B;t=(t=Math.clamp((t-e)/(n-e),0,1))*t*(3-2*t),this.setOutputData(0,t)}},e.registerNodeType("math/smoothstep",f),g.title="Scale",g.desc="v * factor",g.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&this.setOutputData(0,t*this.properties.factor)},e.registerNodeType("math/scale",g),v.title="Gate",v.desc="if v is true, then outputs A, otherwise B",v.prototype.onExecute=function(){var t=this.getInputData(0);this.setOutputData(0,this.getInputData(t?1:2))},e.registerNodeType("math/gate",v),_.title="Average",_.desc="Average Filter",_.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=0);var e=this._values.length;this._values[this._current%e]=t,this._current+=1,this._current>e&&(this._current=0);for(var n=0,r=0;r<e;++r)n+=this._values[r];this.setOutputData(0,n/e)},_.prototype.onPropertyChanged=function(t,e){e<1&&(e=1),this.properties.samples=Math.round(e);var n=this._values;this._values=new Float32Array(this.properties.samples),n.length<=this._values.length?this._values.set(n):this._values.set(n.subarray(0,this._values.length))},e.registerNodeType("math/average",_),m.title="TendTo",m.desc="moves the output value always closer to the input",m.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=0);var e=this.properties.factor;null==this._value?this._value=t:this._value=this._value*(1-e)+t*e,this.setOutputData(0,this._value)},e.registerNodeType("math/tendTo",m),y.values=["+","-","*","/","%","^","max","min"],y.title="Operation",y.desc="Easy math operators",y["@OP"]={type:"enum",title:"operation",values:y.values},y.size=[100,60],y.prototype.getTitle=function(){return"max"==this.properties.OP||"min"==this.properties.OP?this.properties.OP+"(A,B)":"A "+this.properties.OP+" B"},y.prototype.setValue=function(t){"string"==typeof t&&(t=parseFloat(t)),this.properties.value=t},y.prototype.onExecute=function(){var t=this.getInputData(0),e=this.getInputData(1);null!=t?this.properties.A=t:t=this.properties.A,null!=e?this.properties.B=e:e=this.properties.B;var n=0;switch(this.properties.OP){case"+":n=t+e;break;case"-":n=t-e;break;case"x":case"X":case"*":n=t*e;break;case"/":n=t/e;break;case"%":n=t%e;break;case"^":n=Math.pow(t,e);break;case"max":n=Math.max(t,e);break;case"min":n=Math.min(t,e);break;default:console.warn("Unknown operation: "+this.properties.OP)}this.setOutputData(0,n)},y.prototype.onDrawBackground=function(t){this.flags.collapsed||(t.font="40px Arial",t.fillStyle="#666",t.textAlign="center",t.fillText(this.properties.OP,.5*this.size[0],.5*(this.size[1]+e.NODE_TITLE_HEIGHT)),t.textAlign="left")},e.registerNodeType("math/operation",y),e.registerSearchboxExtra("math/operation","MAX",{properties:{OP:"max"},title:"MAX()"}),e.registerSearchboxExtra("math/operation","MIN",{properties:{OP:"min"},title:"MIN()"}),b.title="Compare",b.desc="compares between two values",b.prototype.onExecute=function(){var t=this.getInputData(0),e=this.getInputData(1);void 0!==t?this.properties.A=t:t=this.properties.A,void 0!==e?this.properties.B=e:e=this.properties.B;for(var n=0,r=this.outputs.length;n<r;++n){var i=this.outputs[n];if(i.links&&i.links.length){var o;switch(i.name){case"A==B":o=t==e;break;case"A!=B":o=t!=e;break;case"A>B":o=t>e;break;case"A<B":o=t<e;break;case"A<=B":o=t<=e;break;case"A>=B":o=t>=e}this.setOutputData(n,o)}}},b.prototype.onGetOutputs=function(){return[["A==B","boolean"],["A!=B","boolean"],["A>B","boolean"],["A<B","boolean"],["A>=B","boolean"],["A<=B","boolean"]]},e.registerNodeType("math/compare",b),e.registerSearchboxExtra("math/compare","==",{outputs:[["A==B","boolean"]],title:"A==B"}),e.registerSearchboxExtra("math/compare","!=",{outputs:[["A!=B","boolean"]],title:"A!=B"}),e.registerSearchboxExtra("math/compare",">",{outputs:[["A>B","boolean"]],title:"A>B"}),e.registerSearchboxExtra("math/compare","<",{outputs:[["A<B","boolean"]],title:"A<B"}),e.registerSearchboxExtra("math/compare",">=",{outputs:[["A>=B","boolean"]],title:"A>=B"}),e.registerSearchboxExtra("math/compare","<=",{outputs:[["A<=B","boolean"]],title:"A<=B"}),x.values=[">","<","==","!=","<=",">=","||","&&"],x["@OP"]={type:"enum",title:"operation",values:x.values},x.title="Condition",x.desc="evaluates condition between A and B",x.prototype.getTitle=function(){return"A "+this.properties.OP+" B"},x.prototype.onExecute=function(){var t=this.getInputData(0);void 0===t?t=this.properties.A:this.properties.A=t;var e=this.getInputData(1);void 0===e?e=this.properties.B:this.properties.B=e;var n=!0;switch(this.properties.OP){case">":n=t>e;break;case"<":n=t<e;break;case"==":n=t==e;break;case"!=":n=t!=e;break;case"<=":n=t<=e;break;case">=":n=t>=e;break;case"||":n=t||e;break;case"&&":n=t&&e}this.setOutputData(0,n),this.setOutputData(1,!n)},e.registerNodeType("math/condition",x),E.title="Accumulate",E.desc="Increments a value every time",E.prototype.onExecute=function(){null===this.properties.value&&(this.properties.value=0);var t=this.getInputData(0);this.properties.value+=null!==t?t:this.properties.increment,this.setOutputData(0,this.properties.value)},e.registerNodeType("math/accumulate",E),w.title="Trigonometry",w.desc="Sin Cos Tan",w.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=0);var e=this.properties.amplitude,n=this.findInputSlot("amplitude");-1!=n&&(e=this.getInputData(n));var r=this.properties.offset;-1!=(n=this.findInputSlot("offset"))&&(r=this.getInputData(n));for(var i=0,o=this.outputs.length;i<o;++i){var s;switch(this.outputs[i].name){case"sin":s=Math.sin(t);break;case"cos":s=Math.cos(t);break;case"tan":s=Math.tan(t);break;case"asin":s=Math.asin(t);break;case"acos":s=Math.acos(t);break;case"atan":s=Math.atan(t)}this.setOutputData(i,e*s+r)}},w.prototype.onGetInputs=function(){return[["v","number"],["amplitude","number"],["offset","number"]]},w.prototype.onGetOutputs=function(){return[["sin","number"],["cos","number"],["tan","number"],["asin","number"],["acos","number"],["atan","number"]]},e.registerNodeType("math/trigonometry",w),e.registerSearchboxExtra("math/trigonometry","SIN()",{outputs:[["sin","number"]],title:"SIN()"}),e.registerSearchboxExtra("math/trigonometry","COS()",{outputs:[["cos","number"]],title:"COS()"}),e.registerSearchboxExtra("math/trigonometry","TAN()",{outputs:[["tan","number"]],title:"TAN()"}),T.title="Formula",T.desc="Compute formula",T.size=[160,100],_.prototype.onPropertyChanged=function(t,e){"formula"==t&&(this.code_widget.value=e)},T.prototype.onExecute=function(){if(e.allow_scripts){var t=this.getInputData(0),n=this.getInputData(1);null!=t?this.properties.x=t:t=this.properties.x,null!=n?this.properties.y=n:n=this.properties.y;var r;this.properties.formula;try{this._func&&this._func_code==this.properties.formula||(this._func=new Function("x","y","TIME","return "+this.properties.formula),this._func_code=this.properties.formula),r=this._func(t,n,this.graph.globaltime),this.boxcolor=null}catch(i){this.boxcolor="red"}this.setOutputData(0,r)}},T.prototype.getTitle=function(){return this._func_code||"Formula"},T.prototype.onDrawBackground=function(){var t=this.properties.formula;this.outputs&&this.outputs.length&&(this.outputs[0].label=t)},e.registerNodeType("math/formula",T),O.title="Vec2->XY",O.desc="vector 2 to components",O.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&(this.setOutputData(0,t[0]),this.setOutputData(1,t[1]))},e.registerNodeType("math3d/vec2-to-xy",O),C.title="XY->Vec2",C.desc="components to vector2",C.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=this.properties.x);var e=this.getInputData(1);null==e&&(e=this.properties.y);var n=this._data;n[0]=t,n[1]=e,this.setOutputData(0,n)},e.registerNodeType("math3d/xy-to-vec2",C),S.title="Vec3->XYZ",S.desc="vector 3 to components",S.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&(this.setOutputData(0,t[0]),this.setOutputData(1,t[1]),this.setOutputData(2,t[2]))},e.registerNodeType("math3d/vec3-to-xyz",S),k.title="XYZ->Vec3",k.desc="components to vector3",k.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=this.properties.x);var e=this.getInputData(1);null==e&&(e=this.properties.y);var n=this.getInputData(2);null==n&&(n=this.properties.z);var r=this._data;r[0]=t,r[1]=e,r[2]=n,this.setOutputData(0,r)},e.registerNodeType("math3d/xyz-to-vec3",k),I.title="Vec4->XYZW",I.desc="vector 4 to components",I.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&(this.setOutputData(0,t[0]),this.setOutputData(1,t[1]),this.setOutputData(2,t[2]),this.setOutputData(3,t[3]))},e.registerNodeType("math3d/vec4-to-xyzw",I),A.title="XYZW->Vec4",A.desc="components to vector4",A.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=this.properties.x);var e=this.getInputData(1);null==e&&(e=this.properties.y);var n=this.getInputData(2);null==n&&(n=this.properties.z);var r=this.getInputData(3);null==r&&(r=this.properties.w);var i=this._data;i[0]=t,i[1]=e,i[2]=n,i[3]=r,this.setOutputData(0,i)},e.registerNodeType("math3d/xyzw-to-vec4",A),t.glMatrix){var N=function(){this.addOutput("quat","quat"),this.properties={x:0,y:0,z:0,w:1},this._value=quat.create()},D=function(){this.addInputs([["degrees","number"],["axis","vec3"]]),this.addOutput("quat","quat"),this.properties={angle:90,axis:vec3.fromValues(0,1,0)},this._value=quat.create()},R=function(){this.addInputs([["vec3","vec3"],["quat","quat"]]),this.addOutput("result","vec3"),this.properties={vec:[0,0,1]}},P=function(){this.addInputs([["A","quat"],["B","quat"]]),this.addOutput("A*B","quat"),this._value=quat.create()},L=function(){this.addInputs([["A","quat"],["B","quat"],["factor","number"]]),this.addOutput("slerp","quat"),this.addProperty("factor",.5),this._value=quat.create()};N.title="Quaternion",N.desc="quaternion",N.prototype.onExecute=function(){this._value[0]=this.properties.x,this._value[1]=this.properties.y,this._value[2]=this.properties.z,this._value[3]=this.properties.w,this.setOutputData(0,this._value)},e.registerNodeType("math3d/quaternion",N),D.title="Rotation",D.desc="quaternion rotation",D.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=this.properties.angle);var e=this.getInputData(1);null==e&&(e=this.properties.axis);var n=quat.setAxisAngle(this._value,e,.0174532925*t);this.setOutputData(0,n)},e.registerNodeType("math3d/rotation",D),R.title="Rot. Vec3",R.desc="rotate a point",R.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=this.properties.vec);var e=this.getInputData(1);null==e?this.setOutputData(t):this.setOutputData(0,vec3.transformQuat(vec3.create(),t,e))},e.registerNodeType("math3d/rotate_vec3",R),P.title="Mult. Quat",P.desc="rotate quaternion",P.prototype.onExecute=function(){var t=this.getInputData(0);if(null!=t){var e=this.getInputData(1);if(null!=e){var n=quat.multiply(this._value,t,e);this.setOutputData(0,n)}}},e.registerNodeType("math3d/mult-quat",P),L.title="Quat Slerp",L.desc="quaternion spherical interpolation",L.prototype.onExecute=function(){var t=this.getInputData(0);if(null!=t){var e=this.getInputData(1);if(null!=e){var n=this.properties.factor;null!=this.getInputData(2)&&(n=this.getInputData(2));var r=quat.slerp(this._value,t,e,n);this.setOutputData(0,r)}}},e.registerNodeType("math3d/quat-slerp",L)}}(this),function(t){var e=t.LiteGraph;function n(){this.addInput("T","vec3"),this.addInput("R","vec3"),this.addInput("S","vec3"),this.addOutput("mat4","mat4"),this.properties={T:[0,0,0],R:[0,0,0],S:[1,1,1],R_in_degrees:!0},this._result=mat4.create(),this._must_update=!0}function r(){this.addInput("A","number,vec3"),this.addInput("B","number,vec3"),this.addOutput("=","vec3"),this.addProperty("OP","+","enum",{values:r.values}),this._result=vec3.create()}function i(){this.addInput("in","vec3"),this.addInput("f","number"),this.addOutput("out","vec3"),this.properties={f:1},this._data=new Float32Array(3)}function o(){this.addInput("in","vec3"),this.addOutput("out","number")}function s(){this.addInput("in","vec3"),this.addOutput("out","vec3"),this._data=new Float32Array(3)}function a(){this.addInput("A","vec3"),this.addInput("B","vec3"),this.addInput("f","vec3"),this.addOutput("out","vec3"),this.properties={f:.5},this._data=new Float32Array(3)}function u(){this.addInput("A","vec3"),this.addInput("B","vec3"),this.addOutput("out","number")}if(n.title="mat4",n.temp_quat=new Float32Array([0,0,0,1]),n.temp_mat4=new Float32Array(16),n.temp_vec3=new Float32Array(3),n.prototype.onPropertyChanged=function(t,e){this._must_update=!0},n.prototype.onExecute=function(){var t=this._result,e=n.temp_quat,r=n.temp_mat4,i=n.temp_vec3,o=this.getInputData(0),s=this.getInputData(1),a=this.getInputData(2);(this._must_update||o||s||a)&&(o=o||this.properties.T,s=s||this.properties.R,a=a||this.properties.S,mat4.identity(t),mat4.translate(t,t,o),this.properties.R_in_degrees?(i.set(s),vec3.scale(i,i,DEG2RAD),quat.fromEuler(e,i)):quat.fromEuler(e,s),mat4.fromQuat(r,e),mat4.multiply(t,t,r),mat4.scale(t,t,a)),this.setOutputData(0,t)},e.registerNodeType("math3d/mat4",n),r.values=["+","-","*","/","%","^","max","min"],r.title="Operation",r.desc="Easy math 3D operators",r["@OP"]={type:"enum",title:"operation",values:r.values},r.size=[100,60],r.prototype.getTitle=function(){return"max"==this.properties.OP||"min"==this.properties.OP?this.properties.OP+"(A,B)":"A "+this.properties.OP+" B"},r.prototype.onExecute=function(){var t=this.getInputData(0),e=this.getInputData(1);if(null!=t&&null!=e){t.constructor===Number&&(t=[t,t,t]),e.constructor===Number&&(e=[e,e,e]);var n=this._result;switch(this.properties.OP){case"+":n=vec3.add(n,t,e);break;case"-":n=vec3.sub(n,t,e);break;case"x":case"X":case"*":n=vec3.mul(n,t,e);break;case"/":n=vec3.div(n,t,e);break;case"%":n[0]=t[0]%e[0],n[1]=t[1]%e[1],n[2]=t[2]%e[2];break;case"^":n[0]=Math.pow(t[0],e[0]),n[1]=Math.pow(t[1],e[1]),n[2]=Math.pow(t[2],e[2]);break;case"max":n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n[2]=Math.max(t[2],e[2]);break;case"min":n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.min(t[2],e[2]);break;default:console.warn("Unknown operation: "+this.properties.OP)}this.setOutputData(0,n)}},r.prototype.onDrawBackground=function(t){this.flags.collapsed||(t.font="40px Arial",t.fillStyle="#666",t.textAlign="center",t.fillText(this.properties.OP,.5*this.size[0],.5*(this.size[1]+e.NODE_TITLE_HEIGHT)),t.textAlign="left")},e.registerNodeType("math3d/operation",r),i.title="vec3_scale",i.desc="scales the components of a vec3",i.prototype.onExecute=function(){var t=this.getInputData(0);if(null!=t){var e=this.getInputData(1);null==e&&(e=this.properties.f);var n=this._data;n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e,this.setOutputData(0,n)}},e.registerNodeType("math3d/vec3-scale",i),o.title="vec3_length",o.desc="returns the module of a vector",o.prototype.onExecute=function(){var t=this.getInputData(0);if(null!=t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);this.setOutputData(0,e)}},e.registerNodeType("math3d/vec3-length",o),s.title="vec3_normalize",s.desc="returns the vector normalized",s.prototype.onExecute=function(){var t=this.getInputData(0);if(null!=t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),n=this._data;n[0]=t[0]/e,n[1]=t[1]/e,n[2]=t[2]/e,this.setOutputData(0,n)}},e.registerNodeType("math3d/vec3-normalize",s),a.title="vec3_lerp",a.desc="returns the interpolated vector",a.prototype.onExecute=function(){var t=this.getInputData(0);if(null!=t){var e=this.getInputData(1);if(null!=e){var n=this.getInputOrProperty("f"),r=this._data;r[0]=t[0]*(1-n)+e[0]*n,r[1]=t[1]*(1-n)+e[1]*n,r[2]=t[2]*(1-n)+e[2]*n,this.setOutputData(0,r)}}},e.registerNodeType("math3d/vec3-lerp",a),u.title="vec3_dot",u.desc="returns the dot product",u.prototype.onExecute=function(){var t=this.getInputData(0);if(null!=t){var e=this.getInputData(1);if(null!=e){var n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2];this.setOutputData(0,n)}}},e.registerNodeType("math3d/vec3-dot",u),t.glMatrix){var l=function(){this.addOutput("quat","quat"),this.properties={x:0,y:0,z:0,w:1,normalize:!1},this._value=quat.create()},c=function(){this.addInputs([["degrees","number"],["axis","vec3"]]),this.addOutput("quat","quat"),this.properties={angle:90,axis:vec3.fromValues(0,1,0)},this._value=quat.create()},p=function(){this.addInputs([["vec3","vec3"],["quat","quat"]]),this.addOutput("result","vec3"),this.properties={vec:[0,0,1]}},h=function(){this.addInputs([["A","quat"],["B","quat"]]),this.addOutput("A*B","quat"),this._value=quat.create()},d=function(){this.addInputs([["A","quat"],["B","quat"],["factor","number"]]),this.addOutput("slerp","quat"),this.addProperty("factor",.5),this._value=quat.create()},f=function(){this.addInput("vec3","vec3"),this.addOutput("remap","vec3"),this.addOutput("clamped","vec3"),this.properties={clamp:!0,range_min:[-1,-1,0],range_max:[1,1,0],target_min:[-1,-1,0],target_max:[1,1,0]},this._value=vec3.create(),this._clamped=vec3.create()};l.title="Quaternion",l.desc="quaternion",l.prototype.onExecute=function(){this._value[0]=this.getInputOrProperty("x"),this._value[1]=this.getInputOrProperty("y"),this._value[2]=this.getInputOrProperty("z"),this._value[3]=this.getInputOrProperty("w"),this.properties.normalize&&quat.normalize(this._value,this._value),this.setOutputData(0,this._value)},l.prototype.onGetInputs=function(){return[["x","number"],["y","number"],["z","number"],["w","number"]]},e.registerNodeType("math3d/quaternion",l),c.title="Rotation",c.desc="quaternion rotation",c.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=this.properties.angle);var e=this.getInputData(1);null==e&&(e=this.properties.axis);var n=quat.setAxisAngle(this._value,e,.0174532925*t);this.setOutputData(0,n)},e.registerNodeType("math3d/rotation",c),p.title="Rot. Vec3",p.desc="rotate a point",p.prototype.onExecute=function(){var t=this.getInputData(0);null==t&&(t=this.properties.vec);var e=this.getInputData(1);null==e?this.setOutputData(t):this.setOutputData(0,vec3.transformQuat(vec3.create(),t,e))},e.registerNodeType("math3d/rotate_vec3",p),h.title="Mult. Quat",h.desc="rotate quaternion",h.prototype.onExecute=function(){var t=this.getInputData(0);if(null!=t){var e=this.getInputData(1);if(null!=e){var n=quat.multiply(this._value,t,e);this.setOutputData(0,n)}}},e.registerNodeType("math3d/mult-quat",h),d.title="Quat Slerp",d.desc="quaternion spherical interpolation",d.prototype.onExecute=function(){var t=this.getInputData(0);if(null!=t){var e=this.getInputData(1);if(null!=e){var n=this.properties.factor;null!=this.getInputData(2)&&(n=this.getInputData(2));var r=quat.slerp(this._value,t,e,n);this.setOutputData(0,r)}}},e.registerNodeType("math3d/quat-slerp",d),f.title="Remap Range",f.desc="remap a 3D range",f.prototype.onExecute=function(){var t=this.getInputData(0);t&&this._value.set(t);for(var e=this.properties.range_min,n=this.properties.range_max,r=this.properties.target_min,i=this.properties.target_max,o=0;o<3;++o){var s=n[o]-e[o];if(this._clamped[o]=Math.clamp(this._value[o],e[o],n[o]),0!=s){var a=(this._value[o]-e[o])/s;this.properties.clamp&&(a=Math.clamp(a,0,1));var u=i[o]-r[o];this._value[o]=r[o]+a*u}else this._value[o]=.5*(r[o]+i[o])}this.setOutputData(0,this._value),this.setOutputData(1,this._clamped)},e.registerNodeType("math3d/remap_range",f)}else console.warn("No glmatrix found, some Math3D nodes may not work")}(this),function(t){var e=t.LiteGraph;function n(t,e){return t==e}function r(t){return null!=t&&t.constructor===String?t.toUpperCase():t}e.wrapFunctionAsNode("string/toString",n,["*"],"String"),e.wrapFunctionAsNode("string/compare",n,["String","String"],"Boolean"),e.wrapFunctionAsNode("string/concatenate",function(t,e){return void 0===t?e:void 0===e?t:t+e},["String","String"],"String"),e.wrapFunctionAsNode("string/contains",function(t,e){return void 0!==t&&void 0!==e&&-1!=t.indexOf(e)},["String","String"],"Boolean"),e.wrapFunctionAsNode("string/toUpperCase",r,["String"],"String"),e.wrapFunctionAsNode("string/split",r,["String","String"],"Array"),e.wrapFunctionAsNode("string/toFixed",function(t){return null!=t&&t.constructor===Number?t.toFixed(this.properties.precision):t},["Number"],"String",{precision:0})}(this),function(t){var e=t.LiteGraph;function n(){this.addInput("sel","number"),this.addInput("A"),this.addInput("B"),this.addInput("C"),this.addInput("D"),this.addOutput("out"),this.selected=0}function r(){this.properties={sequence:"A,B,C"},this.addInput("index","number"),this.addInput("seq"),this.addOutput("out"),this.index=0,this.values=this.properties.sequence.split(",")}n.title="Selector",n.desc="selects an output",n.prototype.onDrawBackground=function(t){if(!this.flags.collapsed){t.fillStyle="#AFB";var n=(this.selected+1)*e.NODE_SLOT_HEIGHT+6;t.beginPath(),t.moveTo(50,n),t.lineTo(50,n+e.NODE_SLOT_HEIGHT),t.lineTo(34,n+.5*e.NODE_SLOT_HEIGHT),t.fill()}},n.prototype.onExecute=function(){var t=this.getInputData(0);null!=t&&t.constructor===Number||(t=0),this.selected=t=Math.round(t)%(this.inputs.length-1);var e=this.getInputData(t+1);void 0!==e&&this.setOutputData(0,e)},n.prototype.onGetInputs=function(){return[["E",0],["F",0],["G",0],["H",0]]},e.registerNodeType("logic/selector",n),r.title="Sequence",r.desc="select one element from a sequence from a string",r.prototype.onPropertyChanged=function(t,e){"sequence"==t&&(this.values=e.split(","))},r.prototype.onExecute=function(){var t=this.getInputData(1);t&&t!=this.current_sequence&&(this.values=t.split(","),this.current_sequence=t);var e=this.getInputData(0);null==e&&(e=0),this.index=e=Math.round(e)%this.values.length,this.setOutputData(0,this.values[e])},e.registerNodeType("logic/sequence",r)}(this),function(t){var e=t.LiteGraph;function n(){this.addInput("A","Number"),this.addInput("B","Number"),this.addInput("C","Number"),this.addInput("D","Number"),this.values=[[],[],[],[]],this.properties={scale:2}}function r(){this.addOutput("frame","image"),this.properties={url:""}}function i(){this.addInput("f","number"),this.addOutput("Color","color"),this.properties={colorA:"#444444",colorB:"#44AAFF",colorC:"#44FFAA",colorD:"#FFFFFF"}}function o(){this.addInput("","image,canvas"),this.size=[200,200]}function s(){this.addInputs([["img1","image"],["img2","image"],["fade","number"]]),this.addOutput("","image"),this.properties={fade:.5,width:512,height:512}}function a(){this.addInput("","image"),this.addOutput("","image"),this.properties={width:256,height:256,x:0,y:0,scale:1},this.size=[50,20]}function u(){this.addInput("clear",e.ACTION),this.addOutput("","canvas"),this.properties={width:512,height:512,autoclear:!0},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}function l(){this.addInput("canvas","canvas"),this.addInput("img","image,canvas"),this.addInput("x","number"),this.addInput("y","number"),this.properties={x:0,y:0,opacity:1}}function c(){this.addInput("canvas","canvas"),this.addInput("x","number"),this.addInput("y","number"),this.addInput("w","number"),this.addInput("h","number"),this.properties={x:0,y:0,w:10,h:10,color:"white",opacity:1}}function p(){this.addInput("t","number"),this.addOutputs([["frame","image"],["t","number"],["d","number"]]),this.properties={url:"",use_proxy:!0}}function h(){this.addOutput("Webcam","image"),this.properties={facingMode:"user"},this.boxcolor="black",this.frame=0}n.title="Plot",n.desc="Plots data over time",n.colors=["#FFF","#F99","#9F9","#99F"],n.prototype.onExecute=function(t){if(!this.flags.collapsed)for(var e=this.size,n=0;n<4;++n){var r=this.getInputData(n);if(null!=r){var i=this.values[n];i.push(r),i.length>e[0]&&i.shift()}}},n.prototype.onDrawBackground=function(t){if(!this.flags.collapsed){var e=this.size,r=.5*e[1]/this.properties.scale,i=n.colors,o=.5*e[1];if(t.fillStyle="#000",t.fillRect(0,0,e[0],e[1]),t.strokeStyle="#555",t.beginPath(),t.moveTo(0,o),t.lineTo(e[0],o),t.stroke(),this.inputs)for(var s=0;s<4;++s){var a=this.values[s];if(this.inputs[s]&&this.inputs[s].link){t.strokeStyle=i[s],t.beginPath();var u=a[0]*r*-1+o;t.moveTo(0,Math.clamp(u,0,e[1]));for(var l=1;l<a.length&&l<e[0];++l){u=a[l]*r*-1+o;t.lineTo(l,Math.clamp(u,0,e[1]))}t.stroke()}}}},e.registerNodeType("graphics/plot",n),r.title="Image",r.desc="Image loader",r.widgets=[{name:"load",text:"Load",type:"button"}],r.supported_extensions=["jpg","jpeg","png","gif"],r.prototype.onAdded=function(){""!=this.properties.url&&null==this.img&&this.loadImage(this.properties.url)},r.prototype.onDrawBackground=function(t){this.flags.collapsed||this.img&&this.size[0]>5&&this.size[1]>5&&this.img.width&&t.drawImage(this.img,0,0,this.size[0],this.size[1])},r.prototype.onExecute=function(){this.img||(this.boxcolor="#000"),this.img&&this.img.width?this.setOutputData(0,this.img):this.setOutputData(0,null),this.img&&this.img.dirty&&(this.img.dirty=!1)},r.prototype.onPropertyChanged=function(t,e){return this.properties[t]=e,"url"==t&&""!=e&&this.loadImage(e),!0},r.prototype.loadImage=function(t,n){if(""!=t){this.img=document.createElement("img"),"http"==t.substr(0,4)&&e.proxy&&(t=e.proxy+t.substr(t.indexOf(":")+3)),this.img.src=t,this.boxcolor="#F95";var r=this;this.img.onload=function(){n&&n(this),r.trace("Image loaded, size: "+r.img.width+"x"+r.img.height),this.dirty=!0,r.boxcolor="#9F9",r.setDirtyCanvas(!0)},this.img.onerror=function(){console.log("error loading the image:"+t)}}else this.img=null},r.prototype.onWidget=function(t,e){"load"==e.name&&this.loadImage(this.properties.url)},r.prototype.onDropFile=function(t){var e=this;this._url&&URL.revokeObjectURL(this._url),this._url=URL.createObjectURL(t),this.properties.url=this._url,this.loadImage(this._url,function(t){e.size[1]=t.height/t.width*e.size[0]})},e.registerNodeType("graphics/image",r),i.title="Palette",i.desc="Generates a color",i.prototype.onExecute=function(){var t=[];null!=this.properties.colorA&&t.push(hex2num(this.properties.colorA)),null!=this.properties.colorB&&t.push(hex2num(this.properties.colorB)),null!=this.properties.colorC&&t.push(hex2num(this.properties.colorC)),null!=this.properties.colorD&&t.push(hex2num(this.properties.colorD));var e=this.getInputData(0);if(null==e&&(e=.5),e>1?e=1:e<0&&(e=0),0!=t.length){var n=[0,0,0];if(0==e)n=t[0];else if(1==e)n=t[t.length-1];else{var r=(t.length-1)*e,i=t[Math.floor(r)],o=t[Math.floor(r)+1],s=r-Math.floor(r);n[0]=i[0]*(1-s)+o[0]*s,n[1]=i[1]*(1-s)+o[1]*s,n[2]=i[2]*(1-s)+o[2]*s}for(var a in n)n[a]/=255;this.boxcolor=colorToString(n),this.setOutputData(0,n)}},e.registerNodeType("color/palette",i),o.title="Frame",o.desc="Frame viewerew",o.widgets=[{name:"resize",text:"Resize box",type:"button"},{name:"view",text:"View Image",type:"button"}],o.prototype.onDrawBackground=function(t){this.frame&&!this.flags.collapsed&&t.drawImage(this.frame,0,0,this.size[0],this.size[1])},o.prototype.onExecute=function(){this.frame=this.getInputData(0),this.setDirtyCanvas(!0)},o.prototype.onWidget=function(t,e){if("resize"==e.name&&this.frame){var n=this.frame.width,r=this.frame.height;n||null==this.frame.videoWidth||(n=this.frame.videoWidth,r=this.frame.videoHeight),n&&r&&(this.size=[n,r]),this.setDirtyCanvas(!0,!0)}else"view"==e.name&&this.show()},o.prototype.show=function(){showElement&&this.frame&&showElement(this.frame)},e.registerNodeType("graphics/frame",o),s.title="Image fade",s.desc="Fades between images",s.widgets=[{name:"resizeA",text:"Resize to A",type:"button"},{name:"resizeB",text:"Resize to B",type:"button"}],s.prototype.onAdded=function(){this.createCanvas();var t=this.canvas.getContext("2d");t.fillStyle="#000",t.fillRect(0,0,this.properties.width,this.properties.height)},s.prototype.createCanvas=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.properties.width,this.canvas.height=this.properties.height},s.prototype.onExecute=function(){var t=this.canvas.getContext("2d");this.canvas.width=this.canvas.width;var e=this.getInputData(0);null!=e&&t.drawImage(e,0,0,this.canvas.width,this.canvas.height);var n=this.getInputData(2);null==n?n=this.properties.fade:this.properties.fade=n,t.globalAlpha=n;var r=this.getInputData(1);null!=r&&t.drawImage(r,0,0,this.canvas.width,this.canvas.height),t.globalAlpha=1,this.setOutputData(0,this.canvas),this.setDirtyCanvas(!0)},e.registerNodeType("graphics/imagefade",s),a.title="Crop",a.desc="Crop Image",a.prototype.onAdded=function(){this.createCanvas()},a.prototype.createCanvas=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.properties.width,this.canvas.height=this.properties.height},a.prototype.onExecute=function(){var t=this.getInputData(0);t&&(t.width?(this.canvas.getContext("2d").drawImage(t,-this.properties.x,-this.properties.y,t.width*this.properties.scale,t.height*this.properties.scale),this.setOutputData(0,this.canvas)):this.setOutputData(0,null))},a.prototype.onDrawBackground=function(t){this.flags.collapsed||this.canvas&&t.drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,this.size[0],this.size[1])},a.prototype.onPropertyChanged=function(t,e){return this.properties[t]=e,"scale"==t?(this.properties[t]=parseFloat(e),0==this.properties[t]&&(this.trace("Error in scale"),this.properties[t]=1)):this.properties[t]=parseInt(e),this.createCanvas(),!0},e.registerNodeType("graphics/cropImage",a),u.title="Canvas",u.desc="Canvas to render stuff",u.prototype.onExecute=function(){var t=this.canvas,e=0|this.properties.width,n=0|this.properties.height;t.width!=e&&(t.width=e),t.height!=n&&(t.height=n),this.properties.autoclear&&this.ctx.clearRect(0,0,t.width,t.height),this.setOutputData(0,t)},u.prototype.onAction=function(t,e){"clear"==t&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},e.registerNodeType("graphics/canvas",u),l.title="DrawImage",l.desc="Draws image into a canvas",l.prototype.onExecute=function(){var t=this.getInputData(0);if(t){var e=this.getInputOrProperty("img");if(e){var n=this.getInputOrProperty("x"),r=this.getInputOrProperty("y");t.getContext("2d").drawImage(e,n,r)}}},e.registerNodeType("graphics/drawImage",l),c.title="DrawRectangle",c.desc="Draws rectangle in canvas",c.prototype.onExecute=function(){var t=this.getInputData(0);if(t){var e=this.getInputOrProperty("x"),n=this.getInputOrProperty("y"),r=this.getInputOrProperty("w"),i=this.getInputOrProperty("h");t.getContext("2d").fillRect(e,n,r,i)}},e.registerNodeType("graphics/drawRectangle",c),p.title="Video",p.desc="Video playback",p.widgets=[{name:"play",text:"PLAY",type:"minibutton"},{name:"stop",text:"STOP",type:"minibutton"},{name:"demo",text:"Demo video",type:"button"},{name:"mute",text:"Mute video",type:"button"}],p.prototype.onExecute=function(){if(this.properties.url&&(this.properties.url!=this._video_url&&this.loadVideo(this.properties.url),this._video&&0!=this._video.width)){var t=this.getInputData(0);t&&t>=0&&t<=1&&(this._video.currentTime=t*this._video.duration,this._video.pause()),this._video.dirty=!0,this.setOutputData(0,this._video),this.setOutputData(1,this._video.currentTime),this.setOutputData(2,this._video.duration),this.setDirtyCanvas(!0)}},p.prototype.onStart=function(){this.play()},p.prototype.onStop=function(){this.stop()},p.prototype.loadVideo=function(t){this._video_url=t,this.properties.use_proxy&&"http"==t.substr(0,4)&&e.proxy&&(t=e.proxy+t.substr(t.indexOf(":")+3)),this._video=document.createElement("video"),this._video.src=t,this._video.type="type=video/mp4",this._video.muted=!0,this._video.autoplay=!0;var n=this;this._video.addEventListener("loadedmetadata",function(t){n.trace("Duration: "+this.duration+" seconds"),n.trace("Size: "+this.videoWidth+","+this.videoHeight),n.setDirtyCanvas(!0),this.width=this.videoWidth,this.height=this.videoHeight}),this._video.addEventListener("progress",function(t){}),this._video.addEventListener("error",function(t){if(console.log("Error loading video: "+this.src),n.trace("Error loading video: "+this.src),this.error)switch(this.error.code){case this.error.MEDIA_ERR_ABORTED:n.trace("You stopped the video.");break;case this.error.MEDIA_ERR_NETWORK:n.trace("Network error - please try again later.");break;case this.error.MEDIA_ERR_DECODE:n.trace("Video is broken..");break;case this.error.MEDIA_ERR_SRC_NOT_SUPPORTED:n.trace("Sorry, your browser can't play this video.")}}),this._video.addEventListener("ended",function(t){n.trace("Ended."),this.play()})},p.prototype.onPropertyChanged=function(t,e){return this.properties[t]=e,"url"==t&&""!=e&&this.loadVideo(e),!0},p.prototype.play=function(){this._video&&this._video.play()},p.prototype.playPause=function(){this._video&&(this._video.paused?this.play():this.pause())},p.prototype.stop=function(){this._video&&(this._video.pause(),this._video.currentTime=0)},p.prototype.pause=function(){this._video&&(this.trace("Video paused"),this._video.pause())},p.prototype.onWidget=function(t,e){},e.registerNodeType("graphics/video",p),h.title="Webcam",h.desc="Webcam image",h.is_webcam_open=!1,h.prototype.openStream=function(){if(navigator.getUserMedia){this._waiting_confirmation=!0;var t={audio:!1,video:{facingMode:this.properties.facingMode}};navigator.mediaDevices.getUserMedia(t).then(this.streamReady.bind(this)).catch(function(t){console.log("Webcam rejected",t),e._webcam_stream=!1,h.is_webcam_open=!1,e.boxcolor="red",e.trigger("stream_error")});var e=this}},h.prototype.closeStream=function(){if(this._webcam_stream){var t=this._webcam_stream.getTracks();if(t.length)for(var e=0;e<t.length;++e)t[e].stop();h.is_webcam_open=!1,this._webcam_stream=null,this._video=null,this.boxcolor="black",this.trigger("stream_closed")}},h.prototype.onPropertyChanged=function(t,e){"facingMode"==t&&(this.properties.facingMode=e,this.closeStream(),this.openStream())},h.prototype.onRemoved=function(){this.closeStream()},h.prototype.streamReady=function(t){this._webcam_stream=t,this.boxcolor="green";var e=this._video;e||((e=document.createElement("video")).autoplay=!0,e.srcObject=t,this._video=e,e.onloadedmetadata=function(t){console.log(t),h.is_webcam_open=!0}),this.trigger("stream_ready",e)},h.prototype.onExecute=function(){if(null!=this._webcam_stream||this._waiting_confirmation||this.openStream(),this._video&&this._video.videoWidth){this._video.frame=++this.frame,this._video.width=this._video.videoWidth,this._video.height=this._video.videoHeight,this.setOutputData(0,this._video);for(var t=1;t<this.outputs.length;++t)if(this.outputs[t])switch(this.outputs[t].name){case"width":this.setOutputData(t,this._video.videoWidth);break;case"height":this.setOutputData(t,this._video.videoHeight)}}},h.prototype.getExtraMenuOptions=function(t){var e=this;return[{content:e.properties.show?"Hide Frame":"Show Frame",callback:function(){e.properties.show=!e.properties.show}}]},h.prototype.onDrawBackground=function(t){this.flags.collapsed||this.size[1]<=20||!this.properties.show||this._video&&(t.save(),t.drawImage(this._video,0,0,this.size[0],this.size[1]),t.restore())},h.prototype.onGetOutputs=function(){return[["width","number"],["height","number"],["stream_ready",e.EVENT],["stream_closed",e.EVENT],["stream_error",e.EVENT]]},e.registerNodeType("graphics/webcam",h)}(this),function(t){var e=t.LiteGraph;function n(){this.addOutput("tex","Texture"),this.addOutput("name","string"),this.properties={name:"",filter:!0},this.size=[n.image_preview_size,n.image_preview_size]}function r(){this.addInput("Texture","Texture"),this.properties={flipY:!1},this.size=[n.image_preview_size,n.image_preview_size]}function i(){this.addInput("Texture","Texture"),this.addOutput("tex","Texture"),this.addOutput("name","string"),this.properties={name:"",generate_mipmaps:!1}}function o(){this.addInput("Texture","Texture"),this.addInput("TextureB","Texture"),this.addInput("value","number"),this.addOutput("Texture","Texture"),this.help="<p>pixelcode must be vec3, uvcode must be vec2, is optional</p>\t\t<p><strong>uv:</strong> tex. coords</p><p><strong>color:</strong> texture <strong>colorB:</strong> textureB</p><p><strong>time:</strong> scene time <strong>value:</strong> input value</p><p>For multiline you must type: result = ...</p>",this.properties={value:1,pixelcode:"color + colorB * value",uvcode:"",precision:n.DEFAULT},this.has_error=!1}function s(){this.addOutput("out","Texture"),this.properties={code:"",u_value:1,u_color:[1,1,1,1],width:512,height:512,precision:n.DEFAULT},this.properties.code="//time: time in seconds\n//texSize: vec2 with res\nuniform float u_value;\nuniform vec4 u_color;\n\nvoid main() {\n  vec2 uv = v_coord;\n  vec3 color = vec3(0.0);\n\t//your code here\n\tcolor.xy=uv;\n\ngl_FragColor = vec4(color, 1.0);\n}\n",this._uniforms={u_value:1,u_color:vec4.create(),in_texture:0,texSize:vec2.create(),time:0}}function a(){this.addInput("in","Texture"),this.addInput("scale","vec2"),this.addInput("offset","vec2"),this.addOutput("out","Texture"),this.properties={offset:vec2.fromValues(0,0),scale:vec2.fromValues(1,1),precision:n.DEFAULT}}function u(){this.addInput("in","Texture"),this.addInput("warp","Texture"),this.addInput("factor","number"),this.addOutput("out","Texture"),this.properties={factor:.01,scale:[1,1],offset:[0,0],precision:n.DEFAULT},this._uniforms={u_texture:0,u_textureB:1,u_factor:1,u_scale:vec2.create(),u_offset:vec2.create()}}function l(){this.addInput("Texture","Texture"),this.properties={additive:!1,antialiasing:!1,filter:!0,disable_alpha:!1,gamma:1,viewport:[0,0,1,1]},this.size[0]=130}function c(){this.addInput("Texture","Texture"),this.addOutput("","Texture"),this.properties={size:0,generate_mipmaps:!1,precision:n.DEFAULT}}function p(){this.addInput("Texture","Texture"),this.addOutput("","Texture"),this.properties={iterations:1,generate_mipmaps:!1,precision:n.DEFAULT}}function h(){this.addInput("Texture","Texture"),this.addOutput("tex","Texture"),this.addOutput("avg","vec4"),this.addOutput("lum","number"),this.properties={use_previous_frame:!0,high_quality:!1},this._uniforms={u_texture:0,u_mipmap_offset:0},this._luminance=new Float32Array(4)}function d(){this.addInput("Texture","Texture"),this.addOutput("min_t","Texture"),this.addOutput("max_t","Texture"),this.addOutput("min","vec4"),this.addOutput("max","vec4"),this.properties={mode:"max",use_previous_frame:!0},this._uniforms={u_texture:0},this._max=new Float32Array(4),this._min=new Float32Array(4),this._textures_chain=[]}function f(){this.addInput("in","Texture"),this.addInput("factor","Number"),this.addOutput("out","Texture"),this.properties={factor:.5},this._uniforms={u_texture:0,u_textureB:1,u_factor:this.properties.factor}}function g(){this.addInput("in","Texture"),this.addOutput("avg","Texture"),this.addOutput("array","Texture"),this.properties={samples:64,frames_interval:1},this._uniforms={u_texture:0,u_textureB:1,u_samples:this.properties.samples,u_isamples:1/this.properties.samples},this.frame=0}function v(){this.addInput("Image","image"),this.addOutput("","Texture"),this.properties={}}function _(){this.addInput("Texture","Texture"),this.addInput("LUT","Texture"),this.addInput("Intensity","number"),this.addOutput("","Texture"),this.properties={enabled:!0,intensity:1,precision:n.DEFAULT,texture:null},_._shader||(_._shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,_.pixel_shader))}function m(){this.addInput("Texture","Texture"),this.addOutput("R","Texture"),this.addOutput("G","Texture"),this.addOutput("B","Texture"),this.addOutput("A","Texture"),m._shader||(m._shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,m.pixel_shader))}function y(){this.addInput("R","Texture"),this.addInput("G","Texture"),this.addInput("B","Texture"),this.addInput("A","Texture"),this.addOutput("Texture","Texture"),this.properties={precision:n.DEFAULT,R:1,G:1,B:1,A:1},this._color=vec4.create(),this._uniforms={u_textureR:0,u_textureG:1,u_textureB:2,u_textureA:3,u_color:this._color}}function b(){this.addOutput("Texture","Texture"),this._tex_color=vec4.create(),this.properties={color:vec4.create(),precision:n.DEFAULT}}function x(){this.addInput("A","color"),this.addInput("B","color"),this.addOutput("Texture","Texture"),this.properties={angle:0,scale:1,A:[0,0,0],B:[1,1,1],texture_size:32},x._shader||(x._shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,x.pixel_shader)),this._uniforms={u_angle:0,u_colorA:vec3.create(),u_colorB:vec3.create()}}function E(){this.addInput("A","Texture"),this.addInput("B","Texture"),this.addInput("Mixer","Texture"),this.addOutput("Texture","Texture"),this.properties={factor:.5,size_from_biggest:!0,invert:!1,precision:n.DEFAULT},this._uniforms={u_textureA:0,u_textureB:1,u_textureMix:2,u_mix:vec4.create()}}function w(){this.addInput("Tex.","Texture"),this.addOutput("Edges","Texture"),this.properties={invert:!0,threshold:!1,factor:1,precision:n.DEFAULT},w._shader||(w._shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,w.pixel_shader))}function T(){this.addInput("Texture","Texture"),this.addInput("Distance","number"),this.addInput("Range","number"),this.addOutput("Texture","Texture"),this.properties={distance:100,range:50,only_depth:!1,high_precision:!1},this._uniforms={u_texture:0,u_distance:100,u_range:50,u_camera_planes:null}}function O(){this.addInput("Texture","Texture"),this.addOutput("Texture","Texture"),this.properties={precision:n.DEFAULT,invert:!1},this._uniforms={u_texture:0,u_near:.1,u_far:1e4}}function C(){this.addInput("Texture","Texture"),this.addInput("Iterations","number"),this.addInput("Intensity","number"),this.addOutput("Blurred","Texture"),this.properties={intensity:1,iterations:1,preserve_aspect:!1,scale:[1,1],precision:n.DEFAULT}}function S(){this.addInput("in","Texture"),this.addInput("dirt","Texture"),this.addOutput("out","Texture"),this.addOutput("glow","Texture"),this.properties={enabled:!0,intensity:1,persistence:.99,iterations:16,threshold:0,scale:1,dirt_factor:.5,precision:n.DEFAULT},this._textures=[],this._uniforms={u_intensity:1,u_texture:0,u_glow_texture:1,u_threshold:0,u_texel_size:vec2.create()}}function k(){this.addInput("Texture","Texture"),this.addOutput("Filtered","Texture"),this.properties={intensity:1,radius:5}}function I(){this.addInput("Texture","Texture"),this.addOutput("Filtered","Texture"),this.properties={sigma:1.4,k:1.6,p:21.7,epsilon:79,phi:.017}}function A(){this.addOutput("Webcam","Texture"),this.properties={texture_name:"",facingMode:"user"},this.boxcolor="black",this.version=0}function N(){this.addInput("in","Texture"),this.addInput("f","number"),this.addOutput("out","Texture"),this.properties={enabled:!0,factor:1,precision:n.LOW},this._uniforms={u_texture:0,u_factor:1}}function D(){this.addInput("in","Texture"),this.addOutput("out","Texture"),this.properties={precision:n.LOW,split_channels:!1},this._values=new Uint8Array(1024),this._values.fill(255),this._curve_texture=null,this._uniforms={u_texture:0,u_curve:1,u_range:1},this._must_update=!0,this._points={RGB:[[0,0],[1,1]],R:[[0,0],[1,1]],G:[[0,0],[1,1]],B:[[0,0],[1,1]]},this.curve_editor=null,this.addWidget("toggle","Split Channels",!1,"split_channels"),this.addWidget("combo","Channel","RGB",{values:["RGB","R","G","B"]}),this.curve_offset=68,this.size=[240,160]}function R(){this.addInput("in","Texture"),this.addInput("exp","number"),this.addOutput("out","Texture"),this.properties={exposition:1,precision:n.LOW},this._uniforms={u_texture:0,u_exposition:1}}function P(){this.addInput("in","Texture"),this.addInput("avg","number,Texture"),this.addOutput("out","Texture"),this.properties={enabled:!0,scale:1,gamma:1,average_lum:1,lum_white:1,precision:n.LOW},this._uniforms={u_texture:0,u_lumwhite2:1,u_igamma:1,u_scale:1,u_average_lum:1}}function L(){this.addOutput("out","Texture"),this.properties={width:512,height:512,seed:0,persistence:.1,octaves:8,scale:1,offset:[0,0],amplitude:1,precision:n.DEFAULT},this._key=0,this._texture=null,this._uniforms={u_persistence:.1,u_seed:0,u_offset:vec2.create(),u_scale:1,u_viewport:vec2.create()}}function M(){this.addInput("v"),this.addOutput("out","Texture"),this.properties={code:"",width:512,height:512,clear:!0,precision:n.DEFAULT,use_html_canvas:!1},this._func=null,this._temp_texture=null}function F(){this.addInput("in","Texture"),this.addOutput("out","Texture"),this.properties={key_color:vec3.fromValues(0,1,0),threshold:.8,slope:.2,precision:n.DEFAULT}}function j(){this.addInput("in","texture"),this.addInput("yaw","number"),this.addOutput("out","texture"),this.properties={yaw:0}}t.LGraphTexture=null,"undefined"!=typeof GL&&(LGraphCanvas.link_type_colors.Texture="#987",t.LGraphTexture=n,n.title="Texture",n.desc="Texture",n.widgets_info={name:{widget:"texture"},filter:{widget:"checkbox"}},n.loadTextureCallback=null,n.image_preview_size=256,n.PASS_THROUGH=1,n.COPY=2,n.LOW=3,n.HIGH=4,n.REUSE=5,n.DEFAULT=2,n.MODE_VALUES={"pass through":n.PASS_THROUGH,copy:n.COPY,low:n.LOW,high:n.HIGH,reuse:n.REUSE,default:n.DEFAULT},n.getTexturesContainer=function(){return gl.textures},n.loadTexture=function(t,r){r=r||{};var i=t;return"http://"==i.substr(0,7)&&e.proxy&&(i=e.proxy+i.substr(7)),n.getTexturesContainer()[t]=GL.Texture.fromURL(i,r)},n.getTexture=function(t){var e=this.getTexturesContainer();if(!e)throw"Cannot load texture, container of textures not found";var n=e[t];return!n&&t&&":"!=t[0]?this.loadTexture(t):n},n.getTargetTexture=function(t,e,r){if(!t)throw"LGraphTexture.getTargetTexture expects a reference texture";var i=null;switch(r){case n.LOW:i=gl.UNSIGNED_BYTE;break;case n.HIGH:i=gl.HIGH_PRECISION_FORMAT;break;case n.REUSE:return t;case n.COPY:default:i=t?t.type:gl.UNSIGNED_BYTE}return e&&e.width==t.width&&e.height==t.height&&e.type==i||(e=new GL.Texture(t.width,t.height,{type:i,format:gl.RGBA,filter:gl.LINEAR})),e},n.getTextureType=function(t,e){var r=e?e.type:gl.UNSIGNED_BYTE;switch(t){case n.HIGH:r=gl.HIGH_PRECISION_FORMAT;break;case n.LOW:r=gl.UNSIGNED_BYTE}return r},n.getWhiteTexture=function(){return this._white_texture?this._white_texture:this._white_texture=GL.Texture.fromMemory(1,1,[255,255,255,255],{format:gl.RGBA,wrap:gl.REPEAT,filter:gl.NEAREST})},n.getNoiseTexture=function(){if(this._noise_texture)return this._noise_texture;for(var t=new Uint8Array(1048576),e=0;e<1048576;++e)t[e]=255*Math.random();var n=GL.Texture.fromMemory(512,512,t,{format:gl.RGBA,wrap:gl.REPEAT,filter:gl.NEAREST});return this._noise_texture=n,n},n.prototype.onDropFile=function(t,e,n){if(t){var r=null;if("string"==typeof t)r=GL.Texture.fromURL(t);else if(-1!=e.toLowerCase().indexOf(".dds"))r=GL.Texture.fromDDSInMemory(t);else{var i=new Blob([n]),o=URL.createObjectURL(i);r=GL.Texture.fromURL(o)}this._drop_texture=r,this.properties.name=e}else this._drop_texture=null,this.properties.name=""},n.prototype.getExtraMenuOptions=function(t){var e=this;if(this._drop_texture)return[{content:"Clear",callback:function(){e._drop_texture=null,e.properties.name=""}}]},n.prototype.onExecute=function(){var t=null;if(this.isOutputConnected(1)&&(t=this.getInputData(0)),!t&&this._drop_texture&&(t=this._drop_texture),!t&&this.properties.name&&(t=n.getTexture(this.properties.name)),!t)return this.setOutputData(0,null),void this.setOutputData(1,"");this._last_tex=t,!1===this.properties.filter?t.setParameter(gl.TEXTURE_MAG_FILTER,gl.NEAREST):t.setParameter(gl.TEXTURE_MAG_FILTER,gl.LINEAR),this.setOutputData(0,t),this.setOutputData(1,t.fullpath||t.filename);for(var e=2;e<this.outputs.length;e++){var r=this.outputs[e];if(r){var i=null;"width"==r.name?i=t.width:"height"==r.name?i=t.height:"aspect"==r.name&&(i=t.width/t.height),this.setOutputData(e,i)}}},n.prototype.onResourceRenamed=function(t,e){this.properties.name==t&&(this.properties.name=e)},n.prototype.onDrawBackground=function(t){if(!(this.flags.collapsed||this.size[1]<=20))if(this._drop_texture&&t.webgl)t.drawImage(this._drop_texture,0,0,this.size[0],this.size[1]);else{if(this._last_preview_tex!=this._last_tex)if(t.webgl)this._canvas=this._last_tex;else{var e=n.generateLowResTexturePreview(this._last_tex);if(!e)return;this._last_preview_tex=this._last_tex,this._canvas=cloneCanvas(e)}this._canvas&&(t.save(),t.webgl||(t.translate(0,this.size[1]),t.scale(1,-1)),t.drawImage(this._canvas,0,0,this.size[0],this.size[1]),t.restore())}},n.generateLowResTexturePreview=function(t){if(!t)return null;var e=n.image_preview_size,r=t;if(t.format==gl.DEPTH_COMPONENT)return null;(t.width>e||t.height>e)&&(r=this._preview_temp_tex,this._preview_temp_tex||(r=new GL.Texture(e,e,{minFilter:gl.NEAREST}),this._preview_temp_tex=r),t.copyTo(r),t=r);var i=this._preview_canvas;return i||(i=createCanvas(e,e),this._preview_canvas=i),r&&r.toCanvas(i),i},n.prototype.getResources=function(t){return this.properties.name&&(t[this.properties.name]=GL.Texture),t},n.prototype.onGetInputs=function(){return[["in","Texture"]]},n.prototype.onGetOutputs=function(){return[["width","number"],["height","number"],["aspect","number"]]},n.replaceCode=function(t,e){return t.replace(/\{\{[a-zA-Z0-9_]*\}\}/g,function(t){return t=t.replace(/[\{\}]/g,""),e[t]||""})},e.registerNodeType("texture/texture",n),r.title="Preview",r.desc="Show a texture in the graph canvas",r.allow_preview=!1,r.prototype.onDrawBackground=function(t){if(!this.flags.collapsed&&(t.webgl||r.allow_preview)){var e=this.getInputData(0);if(e){var i=null;i=!e.handle&&t.webgl?e:n.generateLowResTexturePreview(e),t.save(),this.properties.flipY&&(t.translate(0,this.size[1]),t.scale(1,-1)),t.drawImage(i,0,0,this.size[0],this.size[1]),t.restore()}}},e.registerNodeType("texture/preview",r),i.title="Save",i.desc="Save a texture in the repository",i.prototype.getPreviewTexture=function(){return this._texture},i.prototype.onExecute=function(){var t=this.getInputData(0);if(t){if(this.properties.generate_mipmaps&&(t.bind(0),t.setParameter(gl.TEXTURE_MIN_FILTER,gl.LINEAR_MIPMAP_LINEAR),gl.generateMipmap(t.texture_type),t.unbind(0)),this.properties.name)if(n.storeTexture)n.storeTexture(this.properties.name,t);else n.getTexturesContainer()[this.properties.name]=t;this._texture=t,this.setOutputData(0,t),this.setOutputData(1,this.properties.name)}},e.registerNodeType("texture/save",i),o.widgets_info={uvcode:{widget:"code"},pixelcode:{widget:"code"},precision:{widget:"combo",values:n.MODE_VALUES}},o.title="Operation",o.desc="Texture shader operation",o.presets={},o.prototype.getExtraMenuOptions=function(t){var e=this;return[{content:e.properties.show?"Hide Texture":"Show Texture",callback:function(){e.properties.show=!e.properties.show}}]},o.prototype.onPropertyChanged=function(){this.has_error=!1},o.prototype.onDrawBackground=function(t){this.flags.collapsed||this.size[1]<=20||!this.properties.show||this._tex&&this._tex.gl==t&&(t.save(),t.drawImage(this._tex,0,0,this.size[0],this.size[1]),t.restore())},o.prototype.onExecute=function(){var t=this.getInputData(0);if(this.isOutputConnected(0))if(this.properties.precision!==n.PASS_THROUGH){var e=this.getInputData(1);if(this.properties.uvcode||this.properties.pixelcode){var r=512,i=512;t?(r=t.width,i=t.height):e&&(r=e.width,i=e.height),e||(e=GL.Texture.getWhiteTexture());var s=n.getTextureType(this.properties.precision,t);t||this._tex?this._tex=n.getTargetTexture(t||this._tex,this._tex,this.properties.precision):this._tex=new GL.Texture(r,i,{type:s,format:gl.RGBA,filter:gl.LINEAR});var a="";this.properties.uvcode&&(a="uv = "+this.properties.uvcode,-1!=this.properties.uvcode.indexOf(";")&&(a=this.properties.uvcode));var u="";this.properties.pixelcode&&(u="result = "+this.properties.pixelcode,-1!=this.properties.pixelcode.indexOf(";")&&(u=this.properties.pixelcode));var l=this._shader;if(!this.has_error&&(!l||this._shader_code!=a+"|"+u)){var c=n.replaceCode(o.pixel_shader,{UV_CODE:a,PIXEL_CODE:u});try{l=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,c),this.boxcolor="#00FF00"}catch(d){return GL.Shader.dumpErrorToConsole(d,Shader.SCREEN_VERTEX_SHADER,c),this.boxcolor="#FF0000",void(this.has_error=!0)}this._shader=l,this._shader_code=a+"|"+u}if(this._shader){var p=this.getInputData(2);null!=p?this.properties.value=p:p=parseFloat(this.properties.value);var h=this.graph.getTime();this._tex.drawTo(function(){gl.disable(gl.DEPTH_TEST),gl.disable(gl.CULL_FACE),gl.disable(gl.BLEND),t&&t.bind(0),e&&e.bind(1);var n=Mesh.getScreenQuad();l.uniforms({u_texture:0,u_textureB:1,value:p,texSize:[r,i],time:h}).draw(n)}),this.setOutputData(0,this._tex)}}}else this.setOutputData(0,t)},o.pixel_shader="precision highp float;\n\t\t\n\t\tuniform sampler2D u_texture;\n\t\tuniform sampler2D u_textureB;\n\t\tvarying vec2 v_coord;\n\t\tuniform vec2 texSize;\n\t\tuniform float time;\n\t\tuniform float value;\n\t\t\n\t\tvoid main() {\n\t\t\tvec2 uv = v_coord;\n\t\t\t{{UV_CODE}};\n\t\t\tvec4 color4 = texture2D(u_texture, uv);\n\t\t\tvec3 color = color4.rgb;\n\t\t\tvec4 color4B = texture2D(u_textureB, uv);\n\t\t\tvec3 colorB = color4B.rgb;\n\t\t\tvec3 result = color;\n\t\t\tfloat alpha = 1.0;\n\t\t\t{{PIXEL_CODE}};\n\t\t\tgl_FragColor = vec4(result, alpha);\n\t\t}\n\t\t",o.registerPreset=function(t,e){o.presets[t]=e},o.registerPreset("",""),o.registerPreset("bypass","color"),o.registerPreset("add","color + colorB * value"),o.registerPreset("substract","(color - colorB) * value"),o.registerPreset("mate","mix( color, colorB, color4B.a * value)"),o.registerPreset("invert","vec3(1.0) - color"),o.registerPreset("multiply","color * colorB * value"),o.registerPreset("divide","(color / colorB) / value"),o.registerPreset("difference","abs(color - colorB) * value"),o.registerPreset("max","max(color, colorB) * value"),o.registerPreset("min","min(color, colorB) * value"),o.registerPreset("displace","texture2D(u_texture, uv + (colorB.xy - vec2(0.5)) * value).xyz"),o.registerPreset("grayscale","vec3(color.x + color.y + color.z) * value / 3.0"),o.registerPreset("saturation","mix( vec3(color.x + color.y + color.z) / 3.0, color, value )"),o.registerPreset("threshold","vec3(color.x > colorB.x * value ? 1.0 : 0.0,color.y > colorB.y * value ? 1.0 : 0.0,color.z > colorB.z * value ? 1.0 : 0.0)"),o.prototype.onInspect=function(t){var e=this;t.addCombo("Presets","",{values:Object.keys(o.presets),callback:function(n){var r=o.presets[n];r&&(e.setProperty("pixelcode",r),e.title=n,t.refresh())}})},e.registerNodeType("texture/operation",o),s.title="Shader",s.desc="Texture shader",s.widgets_info={code:{type:"code"},precision:{widget:"combo",values:n.MODE_VALUES}},s.prototype.onPropertyChanged=function(t,e){if("code"==t){var n=this.getShader();if(n){var r=n.uniformInfo;if(this.inputs)for(var i={},o=0;o<this.inputs.length;++o){(s=this.getInputInfo(o))&&(!r[s.name]||i[s.name]?(this.removeInput(o),o--):i[s.name]=!0)}for(var o in r){var s;if(null!==(s=n.uniformInfo[o]).loc&&"time"!=o){var a="number";if(this._shader.samplers[o])a="texture";else switch(s.size){case 1:a="number";break;case 2:a="vec2";break;case 3:a="vec3";break;case 4:a="vec4";break;case 9:a="mat3";break;case 16:a="mat4";break;default:continue}var u=this.findInputSlot(o);if(-1!=u){var l=this.getInputInfo(u);if(l){if(l.type==a)continue;this.removeInput(u,a),this.addInput(o,a)}else this.addInput(o,a)}else this.addInput(o,a)}}}}},s.prototype.getShader=function(){return this._shader&&this._shader_code==this.properties.code?this._shader:(this._shader_code=this.properties.code,this._shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,s.pixel_shader+this.properties.code),this._shader?(this.boxcolor="green",this._shader):(this.boxcolor="red",null))},s.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=this.getShader();if(t){var e=0,r=null;if(this.inputs)for(var i=0;i<this.inputs.length;++i){var o=this.getInputInfo(i),s=this.getInputData(i);null!=s&&(s.constructor===GL.Texture&&(s.bind(e),r||(r=s),s=e,e++),t.setUniform(o.name,s))}var a=this._uniforms,u=n.getTextureType(this.properties.precision,r),l=0|this.properties.width,c=0|this.properties.height;0==l&&(l=r?r.width:gl.canvas.width),0==c&&(c=r?r.height:gl.canvas.height),a.texSize[0]=l,a.texSize[1]=c,a.time=this.graph.getTime(),a.u_value=this.properties.u_value,a.u_color.set(this.properties.u_color),this._tex&&this._tex.type==u&&this._tex.width==l&&this._tex.height==c||(this._tex=new GL.Texture(l,c,{type:u,format:gl.RGBA,filter:gl.LINEAR})),this._tex.drawTo(function(){t.uniforms(a).draw(GL.Mesh.getScreenQuad())}),this.setOutputData(0,this._tex)}}},s.pixel_shader="precision highp float;\n\t\t\n\t\tvarying vec2 v_coord;\n\t\tuniform float time;\n",e.registerNodeType("texture/shader",s),a.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES}},a.title="Scale/Offset",a.desc="Applies an scaling and offseting",a.prototype.onExecute=function(){var t=this.getInputData(0);if(this.isOutputConnected(0)&&t)if(this.properties.precision!==n.PASS_THROUGH){var e=t.width,r=t.height,i=this.precision===n.LOW?gl.UNSIGNED_BYTE:gl.HIGH_PRECISION_FORMAT;this.precision===n.DEFAULT&&(i=t.type),this._tex&&this._tex.width==e&&this._tex.height==r&&this._tex.type==i||(this._tex=new GL.Texture(e,r,{type:i,format:gl.RGBA,filter:gl.LINEAR}));var o=this._shader;o||(o=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,a.pixel_shader));var s=this.getInputData(1);s?(this.properties.scale[0]=s[0],this.properties.scale[1]=s[1]):s=this.properties.scale;var u=this.getInputData(2);u?(this.properties.offset[0]=u[0],this.properties.offset[1]=u[1]):u=this.properties.offset,this._tex.drawTo(function(){gl.disable(gl.DEPTH_TEST),gl.disable(gl.CULL_FACE),gl.disable(gl.BLEND),t.bind(0);var e=Mesh.getScreenQuad();o.uniforms({u_texture:0,u_scale:s,u_offset:u}).draw(e)}),this.setOutputData(0,this._tex)}else this.setOutputData(0,t)},a.pixel_shader="precision highp float;\n\t\t\n\t\tuniform sampler2D u_texture;\n\t\tuniform sampler2D u_textureB;\n\t\tvarying vec2 v_coord;\n\t\tuniform vec2 u_scale;\n\t\tuniform vec2 u_offset;\n\t\t\n\t\tvoid main() {\n\t\t\tvec2 uv = v_coord;\n\t\t\tuv = uv / u_scale - u_offset;\n\t\t\tgl_FragColor = texture2D(u_texture, uv);\n\t\t}\n\t\t",e.registerNodeType("texture/scaleOffset",a),u.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES}},u.title="Warp",u.desc="Texture warp operation",u.prototype.onExecute=function(){var t=this.getInputData(0);if(this.isOutputConnected(0))if(this.properties.precision!==n.PASS_THROUGH){var e=this.getInputData(1),r=512,i=512;gl.UNSIGNED_BYTE;t?(r=t.width,i=t.height,t.type):e&&(r=e.width,i=e.height,e.type),t||this._tex?this._tex=n.getTargetTexture(t||this._tex,this._tex,this.properties.precision):this._tex=new GL.Texture(r,i,{type:this.precision===n.LOW?gl.UNSIGNED_BYTE:gl.HIGH_PRECISION_FORMAT,format:gl.RGBA,filter:gl.LINEAR});var o=this._shader;o||(o=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,u.pixel_shader));var s=this.getInputData(2);null!=s?this.properties.factor=s:s=parseFloat(this.properties.factor);var a=this._uniforms;a.u_factor=s,a.u_scale.set(this.properties.scale),a.u_offset.set(this.properties.offset),this._tex.drawTo(function(){gl.disable(gl.DEPTH_TEST),gl.disable(gl.CULL_FACE),gl.disable(gl.BLEND),t&&t.bind(0),e&&e.bind(1);var n=Mesh.getScreenQuad();o.uniforms(a).draw(n)}),this.setOutputData(0,this._tex)}else this.setOutputData(0,t)},u.pixel_shader="precision highp float;\n\t\t\n\t\tuniform sampler2D u_texture;\n\t\tuniform sampler2D u_textureB;\n\t\tvarying vec2 v_coord;\n\t\tuniform float u_factor;\n\t\tuniform vec2 u_scale;\n\t\tuniform vec2 u_offset;\n\t\t\n\t\tvoid main() {\n\t\t\tvec2 uv = v_coord;\n\t\t\tuv += ( texture2D(u_textureB, uv).rg - vec2(0.5)) * u_factor * u_scale + u_offset;\n\t\t\tgl_FragColor = texture2D(u_texture, uv);\n\t\t}\n\t\t",e.registerNodeType("texture/warp",u),l.title="to Viewport",l.desc="Texture to viewport",l._prev_viewport=new Float32Array(4),l.prototype.onExecute=function(){var t=this.getInputData(0);if(t){this.properties.disable_alpha?gl.disable(gl.BLEND):(gl.enable(gl.BLEND),this.properties.additive?gl.blendFunc(gl.SRC_ALPHA,gl.ONE):gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA)),gl.disable(gl.DEPTH_TEST);var e=this.properties.gamma||1;this.isInputConnected(1)&&(e=this.getInputData(1)),t.setParameter(gl.TEXTURE_MAG_FILTER,this.properties.filter?gl.LINEAR:gl.NEAREST);var n=l._prev_viewport;n.set(gl.viewport_data);var r=this.properties.viewport;gl.viewport(n[0]+n[2]*r[0],n[1]+n[3]*r[1],n[2]*r[2],n[3]*r[3]);gl.getViewport();if(this.properties.antialiasing){l._shader||(l._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,l.aa_pixel_shader));var i=Mesh.getScreenQuad();t.bind(0),l._shader.uniforms({u_texture:0,uViewportSize:[t.width,t.height],u_igamma:1/e,inverseVP:[1/t.width,1/t.height]}).draw(i)}else 1!=e?(l._gamma_shader||(l._gamma_shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,l.gamma_pixel_shader)),t.toViewport(l._gamma_shader,{u_texture:0,u_igamma:1/e})):t.toViewport();gl.viewport(n[0],n[1],n[2],n[3])}},l.prototype.onGetInputs=function(){return[["gamma","number"]]},l.aa_pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform vec2 uViewportSize;\n\t\tuniform vec2 inverseVP;\n\t\tuniform float u_igamma;\n\t\t#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n\t\t#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n\t\t#define FXAA_SPAN_MAX     8.0\n\t\t\n\t\t/* from mitsuhiko/webgl-meincraft based on the code on geeks3d.com */\n\t\tvec4 applyFXAA(sampler2D tex, vec2 fragCoord)\n\t\t{\n\t\t\tvec4 color = vec4(0.0);\n\t\t\t/*vec2 inverseVP = vec2(1.0 / uViewportSize.x, 1.0 / uViewportSize.y);*/\n\t\t\tvec3 rgbNW = texture2D(tex, (fragCoord + vec2(-1.0, -1.0)) * inverseVP).xyz;\n\t\t\tvec3 rgbNE = texture2D(tex, (fragCoord + vec2(1.0, -1.0)) * inverseVP).xyz;\n\t\t\tvec3 rgbSW = texture2D(tex, (fragCoord + vec2(-1.0, 1.0)) * inverseVP).xyz;\n\t\t\tvec3 rgbSE = texture2D(tex, (fragCoord + vec2(1.0, 1.0)) * inverseVP).xyz;\n\t\t\tvec3 rgbM  = texture2D(tex, fragCoord  * inverseVP).xyz;\n\t\t\tvec3 luma = vec3(0.299, 0.587, 0.114);\n\t\t\tfloat lumaNW = dot(rgbNW, luma);\n\t\t\tfloat lumaNE = dot(rgbNE, luma);\n\t\t\tfloat lumaSW = dot(rgbSW, luma);\n\t\t\tfloat lumaSE = dot(rgbSE, luma);\n\t\t\tfloat lumaM  = dot(rgbM,  luma);\n\t\t\tfloat lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n\t\t\tfloat lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\t\t\t\n\t\t\tvec2 dir;\n\t\t\tdir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n\t\t\tdir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\t\t\t\n\t\t\tfloat dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) * (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\t\t\t\n\t\t\tfloat rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n\t\t\tdir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX), max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX), dir * rcpDirMin)) * inverseVP;\n\t\t\t\n\t\t\tvec3 rgbA = 0.5 * (texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz + \n\t\t\t\ttexture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n\t\t\tvec3 rgbB = rgbA * 0.5 + 0.25 * (texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz + \n\t\t\t\ttexture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\t\t\t\n\t\t\t//return vec4(rgbA,1.0);\n\t\t\tfloat lumaB = dot(rgbB, luma);\n\t\t\tif ((lumaB < lumaMin) || (lumaB > lumaMax))\n\t\t\t\tcolor = vec4(rgbA, 1.0);\n\t\t\telse\n\t\t\t\tcolor = vec4(rgbB, 1.0);\n\t\t\tif(u_igamma != 1.0)\n\t\t\t\tcolor.xyz = pow( color.xyz, vec3(u_igamma) );\n\t\t\treturn color;\n\t\t}\n\t\t\n\t\tvoid main() {\n\t\t   gl_FragColor = applyFXAA( u_texture, v_coord * uViewportSize) ;\n\t\t}\n\t\t",l.gamma_pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform float u_igamma;\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D( u_texture, v_coord);\n\t\t\tcolor.xyz = pow(color.xyz, vec3(u_igamma) );\n\t\t   gl_FragColor = color;\n\t\t}\n\t\t",e.registerNodeType("texture/toviewport",l),c.title="Copy",c.desc="Copy Texture",c.widgets_info={size:{widget:"combo",values:[0,32,64,128,256,512,1024,2048]},precision:{widget:"combo",values:n.MODE_VALUES}},c.prototype.onExecute=function(){var t=this.getInputData(0);if((t||this._temp_texture)&&this.isOutputConnected(0)){if(t){var e=t.width,r=t.height;0!=this.properties.size&&(e=this.properties.size,r=this.properties.size);var i=this._temp_texture,o=t.type;if(this.properties.precision===n.LOW?o=gl.UNSIGNED_BYTE:this.properties.precision===n.HIGH&&(o=gl.HIGH_PRECISION_FORMAT),!i||i.width!=e||i.height!=r||i.type!=o){var s=gl.LINEAR;this.properties.generate_mipmaps&&isPowerOfTwo(e)&&isPowerOfTwo(r)&&(s=gl.LINEAR_MIPMAP_LINEAR),this._temp_texture=new GL.Texture(e,r,{type:o,format:gl.RGBA,minFilter:s,magFilter:gl.LINEAR})}t.copyTo(this._temp_texture),this.properties.generate_mipmaps&&(this._temp_texture.bind(0),gl.generateMipmap(this._temp_texture.texture_type),this._temp_texture.unbind(0))}this.setOutputData(0,this._temp_texture)}},e.registerNodeType("texture/copy",c),p.title="Downsample",p.desc="Downsample Texture",p.widgets_info={iterations:{type:"number",step:1,precision:0,min:0},precision:{widget:"combo",values:n.MODE_VALUES}},p.prototype.onExecute=function(){var t=this.getInputData(0);if((t||this._temp_texture)&&this.isOutputConnected(0)&&t&&t.texture_type===GL.TEXTURE_2D)if(this.properties.iterations<1)this.setOutputData(0,t);else{var e=p._shader;e||(p._shader=e=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,p.pixel_shader));var r=0|t.width,i=0|t.height,o=t.type;this.properties.precision===n.LOW?o=gl.UNSIGNED_BYTE:this.properties.precision===n.HIGH&&(o=gl.HIGH_PRECISION_FORMAT);var s=this.properties.iterations||1,a=t,u=null,l=[],c={type:o,format:t.format},h=vec2.create(),d={u_offset:h};this._texture&&GL.Texture.releaseTemporary(this._texture);for(var f=0;f<s&&(h[0]=1/r,h[1]=1/i,r=r>>1||0,i=i>>1||0,u=GL.Texture.getTemporary(r,i,c),l.push(u),a.setParameter(GL.TEXTURE_MAG_FILTER,GL.NEAREST),a.copyTo(u,e,d),1!=r||1!=i);++f)a=u;this._texture=l.pop();for(f=0;f<l.length;++f)GL.Texture.releaseTemporary(l[f]);this.properties.generate_mipmaps&&(this._texture.bind(0),gl.generateMipmap(this._texture.texture_type),this._texture.unbind(0)),this.setOutputData(0,this._texture)}},p.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tuniform sampler2D u_texture;\n\t\tuniform vec2 u_offset;\n\t\tvarying vec2 v_coord;\n\t\t\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D(u_texture, v_coord );\n\t\t\tcolor += texture2D(u_texture, v_coord + vec2( u_offset.x, 0.0 ) );\n\t\t\tcolor += texture2D(u_texture, v_coord + vec2( 0.0, u_offset.y ) );\n\t\t\tcolor += texture2D(u_texture, v_coord + vec2( u_offset.x, u_offset.y ) );\n\t\t   gl_FragColor = color * 0.25;\n\t\t}\n\t\t",e.registerNodeType("texture/downsample",p),h.title="Average",h.desc="Compute a partial average (32 random samples) of a texture and stores it as a 1x1 pixel texture.\n If high_quality is true, then it generates the mipmaps first and reads from the lower one.",h.prototype.onExecute=function(){this.properties.use_previous_frame||this.updateAverage();var t=this._luminance;this.setOutputData(0,this._temp_texture),this.setOutputData(1,t),this.setOutputData(2,(t[0]+t[1]+t[2])/3)},h.prototype.onPreRenderExecute=function(){this.updateAverage()},h.prototype.updateAverage=function(){var t=this.getInputData(0);if(t&&(this.isOutputConnected(0)||this.isOutputConnected(1)||this.isOutputConnected(2))){if(!h._shader){h._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,h.pixel_shader);for(var e=new Float32Array(16),n=0;n<e.length;++n)e[n]=Math.random();h._shader.uniforms({u_samples_a:e.subarray(0,16),u_samples_b:e.subarray(16,32)})}var r=this._temp_texture,i=gl.UNSIGNED_BYTE;t.type!=i&&(i=gl.FLOAT),r&&r.type==i||(this._temp_texture=new GL.Texture(1,1,{type:i,format:gl.RGBA,filter:gl.NEAREST})),this._uniforms.u_mipmap_offset=0,this.properties.high_quality&&(this._temp_pot2_texture&&this._temp_pot2_texture.type==i||(this._temp_pot2_texture=new GL.Texture(512,512,{type:i,format:gl.RGBA,minFilter:gl.LINEAR_MIPMAP_LINEAR,magFilter:gl.LINEAR})),t.copyTo(this._temp_pot2_texture),(t=this._temp_pot2_texture).bind(0),gl.generateMipmap(GL.TEXTURE_2D),this._uniforms.u_mipmap_offset=9);var o=h._shader,s=this._uniforms;if(s.u_mipmap_offset=this.properties.mipmap_offset,gl.disable(gl.DEPTH_TEST),gl.disable(gl.BLEND),this._temp_texture.drawTo(function(){t.toViewport(o,s)}),this.isOutputConnected(1)||this.isOutputConnected(2)){var a=this._temp_texture.getPixels();if(a){var u=this._luminance;i=this._temp_texture.type;u.set(a),i==gl.UNSIGNED_BYTE?vec4.scale(u,u,1/255):i==GL.HALF_FLOAT||GL.HALF_FLOAT_OES}}}},h.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tuniform mat4 u_samples_a;\n\t\tuniform mat4 u_samples_b;\n\t\tuniform sampler2D u_texture;\n\t\tuniform float u_mipmap_offset;\n\t\tvarying vec2 v_coord;\n\t\t\n\t\tvoid main() {\n\t\t\tvec4 color = vec4(0.0);\n\t\t\t//random average\n\t\t\tfor(int i = 0; i < 4; ++i)\n\t\t\t\tfor(int j = 0; j < 4; ++j)\n\t\t\t\t{\n\t\t\t\t\tcolor += texture2D(u_texture, vec2( u_samples_a[i][j], u_samples_b[i][j] ), u_mipmap_offset );\n\t\t\t\t\tcolor += texture2D(u_texture, vec2( 1.0 - u_samples_a[i][j], 1.0 - u_samples_b[i][j] ), u_mipmap_offset );\n\t\t\t\t}\n\t\t   gl_FragColor = color * 0.03125;\n\t\t}\n\t\t",e.registerNodeType("texture/average",h),d.widgets_info={mode:{widget:"combo",values:["min","max","avg"]}},d.title="MinMax",d.desc="Compute the scene min max",d.prototype.onExecute=function(){this.properties.use_previous_frame||this.update(),this.setOutputData(0,this._temp_texture),this.setOutputData(1,this._luminance)},d.prototype.onPreRenderExecute=function(){this.update()},d.prototype.update=function(){if((r=this.getInputData(0))&&(this.isOutputConnected(0)||this.isOutputConnected(1))){d._shader||(d._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,d.pixel_shader));this._temp_texture;var t=gl.UNSIGNED_BYTE;r.type!=t&&(t=gl.FLOAT);var e=512;if(!this._textures_chain.length||this._textures_chain[0].type!=t)for(;n&&(this._textures_chain[n]=new GL.Texture(e,e,{type:t,format:gl.RGBA,filter:gl.NEAREST}),n++,1!=(e>>=2)););r.copyTo(this._textures_chain[0]);this._textures_chain[0];for(var n=1;n<=this._textures_chain.length;++n){var r;r=this._textures_chain[n]}var i=d._shader,o=this._uniforms;o.u_mipmap_offset=this.properties.mipmap_offset,gl.disable(gl.DEPTH_TEST),gl.disable(gl.BLEND),this._temp_texture.drawTo(function(){r.toViewport(i,o)})}},d.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tuniform mat4 u_samples_a;\n\t\tuniform mat4 u_samples_b;\n\t\tuniform sampler2D u_texture;\n\t\tuniform float u_mipmap_offset;\n\t\tvarying vec2 v_coord;\n\t\t\n\t\tvoid main() {\n\t\t\tvec4 color = vec4(0.0);\n\t\t\t//random average\n\t\t\tfor(int i = 0; i < 4; ++i)\n\t\t\t\tfor(int j = 0; j < 4; ++j)\n\t\t\t\t{\n\t\t\t\t\tcolor += texture2D(u_texture, vec2( u_samples_a[i][j], u_samples_b[i][j] ), u_mipmap_offset );\n\t\t\t\t\tcolor += texture2D(u_texture, vec2( 1.0 - u_samples_a[i][j], 1.0 - u_samples_b[i][j] ), u_mipmap_offset );\n\t\t\t\t}\n\t\t   gl_FragColor = color * 0.03125;\n\t\t}\n\t\t",f.title="Smooth",f.desc="Smooth texture over time",f.prototype.onExecute=function(){var t=this.getInputData(0);if(t&&this.isOutputConnected(0)){f._shader||(f._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,f.pixel_shader));var e=this._temp_texture;if(!e||e.type!=t.type||e.width!=t.width||e.height!=t.height){var n={type:t.type,format:gl.RGBA,filter:gl.NEAREST};this._temp_texture=new GL.Texture(t.width,t.height,n),this._temp_texture2=new GL.Texture(t.width,t.height,n),t.copyTo(this._temp_texture2)}var r=this._temp_texture,i=this._temp_texture2,o=f._shader,s=this._uniforms;s.u_factor=1-this.getInputOrProperty("factor"),gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST),r.drawTo(function(){i.bind(1),t.toViewport(o,s)}),this.setOutputData(0,r),this._temp_texture=i,this._temp_texture2=r}},f.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tuniform sampler2D u_texture;\n\t\tuniform sampler2D u_textureB;\n\t\tuniform float u_factor;\n\t\tvarying vec2 v_coord;\n\t\t\n\t\tvoid main() {\n\t\t\tgl_FragColor = mix( texture2D( u_texture, v_coord ), texture2D( u_textureB, v_coord ), u_factor );\n\t\t}\n\t\t",e.registerNodeType("texture/temporal_smooth",f),g.title="Lineal Avg Smooth",g.desc="Smooth texture linearly over time",g["@samples"]={type:"number",min:1,max:64,step:1,precision:1},g.prototype.getPreviewTexture=function(){return this._temp_texture2},g.prototype.onExecute=function(){var t=this.getInputData(0);if(t&&this.isOutputConnected(0)){g._shader||(g._shader_copy=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,g.pixel_shader_copy),g._shader_avg=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,g.pixel_shader_avg));var e=Math.clamp(this.properties.samples,0,64),n=this.frame,r=this.properties.frames_interval;if(0==r||n%r==0){var i=this._temp_texture;if(!i||i.type!=t.type||i.width!=e){var o={type:t.type,format:gl.RGBA,filter:gl.NEAREST};this._temp_texture=new GL.Texture(e,1,o),this._temp_texture2=new GL.Texture(e,1,o),this._temp_texture_out=new GL.Texture(1,1,o)}var s=this._temp_texture,a=this._temp_texture2,u=g._shader_copy,l=g._shader_avg,c=this._uniforms;c.u_samples=e,c.u_isamples=1/e,gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST),s.drawTo(function(){a.bind(1),t.toViewport(u,c)}),this._temp_texture_out.drawTo(function(){s.toViewport(l,c)}),this.setOutputData(0,this._temp_texture_out),this._temp_texture=a,this._temp_texture2=s}else this.setOutputData(0,this._temp_texture_out);this.setOutputData(1,this._temp_texture2),this.frame++}},g.pixel_shader_copy="precision highp float;\n\t\tprecision highp float;\n\t\tuniform sampler2D u_texture;\n\t\tuniform sampler2D u_textureB;\n\t\tuniform float u_isamples;\n\t\tvarying vec2 v_coord;\n\t\t\n\t\tvoid main() {\n\t\t\tif( v_coord.x <= u_isamples )\n\t\t\t\tgl_FragColor = texture2D( u_texture, vec2(0.5) );\n\t\t\telse\n\t\t\t\tgl_FragColor = texture2D( u_textureB, v_coord - vec2(u_isamples,0.0) );\n\t\t}\n\t\t",g.pixel_shader_avg="precision highp float;\n\t\tprecision highp float;\n\t\tuniform sampler2D u_texture;\n\t\tuniform int u_samples;\n\t\tuniform float u_isamples;\n\t\tvarying vec2 v_coord;\n\t\t\n\t\tvoid main() {\n\t\t\tvec4 color = vec4(0.0);\n\t\t\tfor(int i = 0; i < 64; ++i)\n\t\t\t{\n\t\t\t\tcolor += texture2D( u_texture, vec2( float(i)*u_isamples,0.0) );\n\t\t\t\tif(i == (u_samples - 1))\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tgl_FragColor = color * u_isamples;\n\t\t}\n\t\t",e.registerNodeType("texture/linear_avg_smooth",g),v.title="Image to Texture",v.desc="Uploads an image to the GPU",v.prototype.onExecute=function(){var t=this.getInputData(0);if(t){var e=t.videoWidth||t.width,n=t.videoHeight||t.height;if(t.gltexture)this.setOutputData(0,t.gltexture);else{var r=this._temp_texture;r&&r.width==e&&r.height==n||(this._temp_texture=new GL.Texture(e,n,{format:gl.RGBA,filter:gl.LINEAR}));try{this._temp_texture.uploadImage(t)}catch(i){return void console.error("image comes from an unsafe location, cannot be uploaded to webgl: "+i)}this.setOutputData(0,this._temp_texture)}}},e.registerNodeType("texture/imageToTexture",v),_.widgets_info={texture:{widget:"texture"},precision:{widget:"combo",values:n.MODE_VALUES}},_.title="LUT",_.desc="Apply LUT to Texture",_.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=this.getInputData(0);if(this.properties.precision!==n.PASS_THROUGH&&!1!==this.properties.enabled){if(t){var e=this.getInputData(1);if(e||(e=n.getTexture(this.properties.texture)),e){e.bind(0),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE),gl.bindTexture(gl.TEXTURE_2D,null);var r=this.properties.intensity;this.isInputConnected(2)&&(this.properties.intensity=r=this.getInputData(2)),this._tex=n.getTargetTexture(t,this._tex,this.properties.precision),this._tex.drawTo(function(){e.bind(1),t.toViewport(_._shader,{u_texture:0,u_textureB:1,u_amount:r})}),this.setOutputData(0,this._tex)}else this.setOutputData(0,t)}}else this.setOutputData(0,t)}},_.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform sampler2D u_textureB;\n\t\tuniform float u_amount;\n\t\t\n\t\tvoid main() {\n\t\t\t lowp vec4 textureColor = clamp( texture2D(u_texture, v_coord), vec4(0.0), vec4(1.0) );\n\t\t\t mediump float blueColor = textureColor.b * 63.0;\n\t\t\t mediump vec2 quad1;\n\t\t\t quad1.y = floor(floor(blueColor) / 8.0);\n\t\t\t quad1.x = floor(blueColor) - (quad1.y * 8.0);\n\t\t\t mediump vec2 quad2;\n\t\t\t quad2.y = floor(ceil(blueColor) / 8.0);\n\t\t\t quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\t\t\t highp vec2 texPos1;\n\t\t\t texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.r);\n\t\t\t texPos1.y = 1.0 - ((quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.g));\n\t\t\t highp vec2 texPos2;\n\t\t\t texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.r);\n\t\t\t texPos2.y = 1.0 - ((quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * textureColor.g));\n\t\t\t lowp vec4 newColor1 = texture2D(u_textureB, texPos1);\n\t\t\t lowp vec4 newColor2 = texture2D(u_textureB, texPos2);\n\t\t\t lowp vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n\t\t\t gl_FragColor = vec4( mix( textureColor.rgb, newColor.rgb, u_amount), textureColor.w);\n\t\t}\n\t\t",e.registerNodeType("texture/LUT",_),m.title="Texture to Channels",m.desc="Split texture channels",m.prototype.onExecute=function(){var t=this.getInputData(0);if(t){this._channels||(this._channels=Array(4));for(var e=gl.RGB,n=0,r=0;r<4;r++)this.isOutputConnected(r)?(this._channels[r]&&this._channels[r].width==t.width&&this._channels[r].height==t.height&&this._channels[r].type==t.type&&this._channels[r].format==e||(this._channels[r]=new GL.Texture(t.width,t.height,{type:t.type,format:e,filter:gl.LINEAR})),n++):this._channels[r]=null;if(n){gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST);var i=Mesh.getScreenQuad(),o=m._shader,s=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];for(r=0;r<4;r++)this._channels[r]&&(this._channels[r].drawTo(function(){t.bind(0),o.uniforms({u_texture:0,u_mask:s[r]}).draw(i)}),this.setOutputData(r,this._channels[r]))}}},m.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform vec4 u_mask;\n\t\t\n\t\tvoid main() {\n\t\t   gl_FragColor = vec4( vec3( length( texture2D(u_texture, v_coord) * u_mask )), 1.0 );\n\t\t}\n\t\t",e.registerNodeType("texture/textureChannels",m),y.title="Channels to Texture",y.desc="Split texture channels",y.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES}},y.prototype.onExecute=function(){var t=n.getWhiteTexture(),e=this.getInputData(0)||t,r=this.getInputData(1)||t,i=this.getInputData(2)||t,o=this.getInputData(3)||t;gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST);var s=Mesh.getScreenQuad();y._shader||(y._shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,y.pixel_shader));var a=y._shader,u=Math.max(e.width,r.width,i.width,o.width),l=Math.max(e.height,r.height,i.height,o.height),c=this.properties.precision==n.HIGH?n.HIGH_PRECISION_FORMAT:gl.UNSIGNED_BYTE;this._texture&&this._texture.width==u&&this._texture.height==l&&this._texture.type==c||(this._texture=new GL.Texture(u,l,{type:c,format:gl.RGBA,filter:gl.LINEAR}));var p=this._color;p[0]=this.properties.R,p[1]=this.properties.G,p[2]=this.properties.B,p[3]=this.properties.A;var h=this._uniforms;this._texture.drawTo(function(){e.bind(0),r.bind(1),i.bind(2),o.bind(3),a.uniforms(h).draw(s)}),this.setOutputData(0,this._texture)},y.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_textureR;\n\t\tuniform sampler2D u_textureG;\n\t\tuniform sampler2D u_textureB;\n\t\tuniform sampler2D u_textureA;\n\t\tuniform vec4 u_color;\n\t\t\n\t\tvoid main() {\n\t\t   gl_FragColor = u_color * vec4( \t\t\t\t\ttexture2D(u_textureR, v_coord).r,\t\t\t\t\ttexture2D(u_textureG, v_coord).r,\t\t\t\t\ttexture2D(u_textureB, v_coord).r,\t\t\t\t\ttexture2D(u_textureA, v_coord).r);\n\t\t}\n\t\t",e.registerNodeType("texture/channelsTexture",y),b.title="Color",b.desc="Generates a 1x1 texture with a constant color",b.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES}},b.prototype.onDrawBackground=function(t){var e=this.properties.color;t.fillStyle="rgb("+Math.floor(255*Math.clamp(e[0],0,1))+","+Math.floor(255*Math.clamp(e[1],0,1))+","+Math.floor(255*Math.clamp(e[2],0,1))+")",this.flags.collapsed?this.boxcolor=t.fillStyle:t.fillRect(0,0,this.size[0],this.size[1])},b.prototype.onExecute=function(){var t=this.properties.precision==n.HIGH?n.HIGH_PRECISION_FORMAT:gl.UNSIGNED_BYTE;this._tex&&this._tex.type==t||(this._tex=new GL.Texture(1,1,{format:gl.RGBA,type:t,minFilter:gl.NEAREST}));var e=this.properties.color;if(this.inputs)for(var r=0;r<this.inputs.length;r++){var i=this.inputs[r],o=this.getInputData(r);if(void 0!==o)switch(i.name){case"RGB":case"RGBA":e.set(o);break;case"R":e[0]=o;break;case"G":e[1]=o;break;case"B":e[2]=o;break;case"A":e[3]=o}}vec4.sqrDist(this._tex_color,e)>.001&&(this._tex_color.set(e),this._tex.fill(e)),this.setOutputData(0,this._tex)},b.prototype.onGetInputs=function(){return[["RGB","vec3"],["RGBA","vec4"],["R","number"],["G","number"],["B","number"],["A","number"]]},e.registerNodeType("texture/color",b),x.title="Gradient",x.desc="Generates a gradient",x["@A"]={type:"color"},x["@B"]={type:"color"},x["@texture_size"]={type:"enum",values:[32,64,128,256,512]},x.prototype.onExecute=function(){gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST);var t=GL.Mesh.getScreenQuad(),e=x._shader,n=this.getInputData(0);n||(n=this.properties.A);var r=this.getInputData(1);r||(r=this.properties.B);for(var i=2;i<this.inputs.length;i++){var o=this.inputs[i],s=this.getInputData(i);void 0!==s&&(this.properties[o.name]=s)}var a=this._uniforms;this._uniforms.u_angle=this.properties.angle*DEG2RAD,this._uniforms.u_scale=this.properties.scale,vec3.copy(a.u_colorA,n),vec3.copy(a.u_colorB,r);var u=parseInt(this.properties.texture_size);this._tex&&this._tex.width==u||(this._tex=new GL.Texture(u,u,{format:gl.RGB,filter:gl.LINEAR})),this._tex.drawTo(function(){e.uniforms(a).draw(t)}),this.setOutputData(0,this._tex)},x.prototype.onGetInputs=function(){return[["angle","number"],["scale","number"]]},x.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform float u_angle;\n\t\tuniform float u_scale;\n\t\tuniform vec3 u_colorA;\n\t\tuniform vec3 u_colorB;\n\t\t\n\t\tvec2 rotate(vec2 v, float angle)\n\t\t{\n\t\t\tvec2 result;\n\t\t\tfloat _cos = cos(angle);\n\t\t\tfloat _sin = sin(angle);\n\t\t\tresult.x = v.x * _cos - v.y * _sin;\n\t\t\tresult.y = v.x * _sin + v.y * _cos;\n\t\t\treturn result;\n\t\t}\n\t\tvoid main() {\n\t\t\tfloat f = (rotate(u_scale * (v_coord - vec2(0.5)), u_angle) + vec2(0.5)).x;\n\t\t\tvec3 color = mix(u_colorA,u_colorB,clamp(f,0.0,1.0));\n\t\t   gl_FragColor = vec4(color,1.0);\n\t\t}\n\t\t",e.registerNodeType("texture/gradient",x),E.title="Mix",E.desc="Generates a texture mixing two textures",E.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES}},E.prototype.onExecute=function(){var t=this.getInputData(0);if(this.isOutputConnected(0))if(this.properties.precision!==n.PASS_THROUGH){var e=this.getInputData(1);if(t&&e){var r=this.getInputData(2),i=this.getInputData(3);this._tex=n.getTargetTexture(this.properties.size_from_biggest&&e.width>t.width?e:t,this._tex,this.properties.precision),gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST);var o=Mesh.getScreenQuad(),s=null,a=this._uniforms;if(r)(s=E._shader_tex)||(s=E._shader_tex=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,E.pixel_shader,{MIX_TEX:""}));else{(s=E._shader_factor)||(s=E._shader_factor=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,E.pixel_shader));var u=null==i?this.properties.factor:i;a.u_mix.set([u,u,u,u])}var l=this.properties.invert;this._tex.drawTo(function(){t.bind(l?1:0),e.bind(l?0:1),r&&r.bind(2),s.uniforms(a).draw(o)}),this.setOutputData(0,this._tex)}}else this.setOutputData(0,t)},E.prototype.onGetInputs=function(){return[["factor","number"]]},E.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_textureA;\n\t\tuniform sampler2D u_textureB;\n\t\t#ifdef MIX_TEX\n\t\t\tuniform sampler2D u_textureMix;\n\t\t#else\n\t\t\tuniform vec4 u_mix;\n\t\t#endif\n\t\t\n\t\tvoid main() {\n\t\t\t#ifdef MIX_TEX\n\t\t\t   vec4 f = texture2D(u_textureMix, v_coord);\n\t\t\t#else\n\t\t\t   vec4 f = u_mix;\n\t\t\t#endif\n\t\t   gl_FragColor = mix( texture2D(u_textureA, v_coord), texture2D(u_textureB, v_coord), f );\n\t\t}\n\t\t",e.registerNodeType("texture/mix",E),w.title="Edges",w.desc="Detects edges",w.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES}},w.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=this.getInputData(0);if(this.properties.precision!==n.PASS_THROUGH){if(t){this._tex=n.getTargetTexture(t,this._tex,this.properties.precision),gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST);var e=Mesh.getScreenQuad(),r=w._shader,i=this.properties.invert,o=this.properties.factor,s=this.properties.threshold?1:0;this._tex.drawTo(function(){t.bind(0),r.uniforms({u_texture:0,u_isize:[1/t.width,1/t.height],u_factor:o,u_threshold:s,u_invert:i?1:0}).draw(e)}),this.setOutputData(0,this._tex)}}else this.setOutputData(0,t)}},w.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform vec2 u_isize;\n\t\tuniform int u_invert;\n\t\tuniform float u_factor;\n\t\tuniform float u_threshold;\n\t\t\n\t\tvoid main() {\n\t\t\tvec4 center = texture2D(u_texture, v_coord);\n\t\t\tvec4 up = texture2D(u_texture, v_coord + u_isize * vec2(0.0,1.0) );\n\t\t\tvec4 down = texture2D(u_texture, v_coord + u_isize * vec2(0.0,-1.0) );\n\t\t\tvec4 left = texture2D(u_texture, v_coord + u_isize * vec2(1.0,0.0) );\n\t\t\tvec4 right = texture2D(u_texture, v_coord + u_isize * vec2(-1.0,0.0) );\n\t\t\tvec4 diff = abs(center - up) + abs(center - down) + abs(center - left) + abs(center - right);\n\t\t\tdiff *= u_factor;\n\t\t\tif(u_invert == 1)\n\t\t\t\tdiff.xyz = vec3(1.0) - diff.xyz;\n\t\t\tif( u_threshold == 0.0 )\n\t\t\t\tgl_FragColor = vec4( diff.xyz, center.a );\n\t\t\telse\n\t\t\t\tgl_FragColor = vec4( diff.x > 0.5 ? 1.0 : 0.0, diff.y > 0.5 ? 1.0 : 0.0, diff.z > 0.5 ? 1.0 : 0.0, center.a );\n\t\t}\n\t\t",e.registerNodeType("texture/edges",w),T.title="Depth Range",T.desc="Generates a texture with a depth range",T.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=this.getInputData(0);if(t){var e=gl.UNSIGNED_BYTE;this.properties.high_precision&&(e=gl.half_float_ext?gl.HALF_FLOAT_OES:gl.FLOAT),this._temp_texture&&this._temp_texture.type==e&&this._temp_texture.width==t.width&&this._temp_texture.height==t.height||(this._temp_texture=new GL.Texture(t.width,t.height,{type:e,format:gl.RGBA,filter:gl.LINEAR}));var n=this._uniforms,r=this.properties.distance;this.isInputConnected(1)&&(r=this.getInputData(1),this.properties.distance=r);var i=this.properties.range;this.isInputConnected(2)&&(i=this.getInputData(2),this.properties.range=i),n.u_distance=r,n.u_range=i,gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST);var o=Mesh.getScreenQuad();T._shader||(T._shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,T.pixel_shader),T._shader_onlydepth=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,T.pixel_shader,{ONLY_DEPTH:""}));var s=this.properties.only_depth?T._shader_onlydepth:T._shader,a=null;a=t.near_far_planes?t.near_far_planes:window.LS&&LS.Renderer._main_camera?LS.Renderer._main_camera._uniforms.u_camera_planes:[.1,1e3],n.u_camera_planes=a,this._temp_texture.drawTo(function(){t.bind(0),s.uniforms(n).draw(o)}),this._temp_texture.near_far_planes=a,this.setOutputData(0,this._temp_texture)}}},T.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform vec2 u_camera_planes;\n\t\tuniform float u_distance;\n\t\tuniform float u_range;\n\t\t\n\t\tfloat LinearDepth()\n\t\t{\n\t\t\tfloat zNear = u_camera_planes.x;\n\t\t\tfloat zFar = u_camera_planes.y;\n\t\t\tfloat depth = texture2D(u_texture, v_coord).x;\n\t\t\tdepth = depth * 2.0 - 1.0;\n\t\t\treturn zNear * (depth + 1.0) / (zFar + zNear - depth * (zFar - zNear));\n\t\t}\n\t\t\n\t\tvoid main() {\n\t\t\tfloat depth = LinearDepth();\n\t\t\t#ifdef ONLY_DEPTH\n\t\t\t   gl_FragColor = vec4(depth);\n\t\t\t#else\n\t\t\t\tfloat diff = abs(depth * u_camera_planes.y - u_distance);\n\t\t\t\tfloat dof = 1.0;\n\t\t\t\tif(diff <= u_range)\n\t\t\t\t\tdof = diff / u_range;\n\t\t\t   gl_FragColor = vec4(dof);\n\t\t\t#endif\n\t\t}\n\t\t",e.registerNodeType("texture/depth_range",T),O.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES}},O.title="Linear Depth",O.desc="Creates a color texture with linear depth",O.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=this.getInputData(0);if(t&&(t.format==gl.DEPTH_COMPONENT||t.format==gl.DEPTH_STENCIL)){var e=this.properties.precision==n.HIGH?gl.HIGH_PRECISION_FORMAT:gl.UNSIGNED_BYTE;this._temp_texture&&this._temp_texture.type==e&&this._temp_texture.width==t.width&&this._temp_texture.height==t.height||(this._temp_texture=new GL.Texture(t.width,t.height,{type:e,format:gl.RGB,filter:gl.LINEAR}));var r=this._uniforms;r.u_near=t.near_far_planes[0],r.u_far=t.near_far_planes[1],r.u_invert=this.properties.invert?1:0,gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST);var i=Mesh.getScreenQuad();O._shader||(O._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,O.pixel_shader));var o=O._shader,s=null;s=t.near_far_planes?t.near_far_planes:window.LS&&LS.Renderer._main_camera?LS.Renderer._main_camera._uniforms.u_camera_planes:[.1,1e3],r.u_camera_planes=s,this._temp_texture.drawTo(function(){t.bind(0),o.uniforms(r).draw(i)}),this._temp_texture.near_far_planes=s,this.setOutputData(0,this._temp_texture)}}},O.pixel_shader="precision highp float;\n\t\tprecision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform float u_near;\n\t\tuniform float u_far;\n\t\tuniform int u_invert;\n\t\t\n\t\tvoid main() {\n\t\t\tfloat zNear = u_near;\n\t\t\tfloat zFar = u_far;\n\t\t\tfloat depth = texture2D(u_texture, v_coord).x;\n\t\t\tdepth = depth * 2.0 - 1.0;\n\t\t\tfloat f = zNear * (depth + 1.0) / (zFar + zNear - depth * (zFar - zNear));\n\t\t\tif( u_invert == 1 )\n\t\t\t\tf = 1.0 - f;\n\t\t\tgl_FragColor = vec4(vec3(f),1.0);\n\t\t}\n\t\t",e.registerNodeType("texture/linear_depth",O),C.title="Blur",C.desc="Blur a texture",C.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES}},C.max_iterations=20,C.prototype.onExecute=function(){var t=this.getInputData(0);if(t&&this.isOutputConnected(0)){var n=this._final_texture;n&&n.width==t.width&&n.height==t.height&&n.type==t.type||(n=this._final_texture=new GL.Texture(t.width,t.height,{type:t.type,format:gl.RGBA,filter:gl.LINEAR}));var r=this.properties.iterations;if(this.isInputConnected(1)&&(r=this.getInputData(1),this.properties.iterations=r),0!=(r=Math.min(Math.floor(r),C.max_iterations))){var i=this.properties.intensity;this.isInputConnected(2)&&(i=this.getInputData(2),this.properties.intensity=i);var o=e.camera_aspect;o||void 0===window.gl||(o=gl.canvas.height/gl.canvas.width),o||(o=1),o=this.properties.preserve_aspect?o:1;var s=this.properties.scale||[1,1];t.applyBlur(o*s[0],s[1],i,n);for(var a=1;a<r;++a)n.applyBlur(o*s[0]*(a+1),s[1]*(a+1),i);this.setOutputData(0,n)}else this.setOutputData(0,t)}},e.registerNodeType("texture/blur",C),S.title="Glow",S.desc="Filters a texture giving it a glow effect",S.weights=new Float32Array([.5,.4,.3,.2]),S.widgets_info={iterations:{type:"number",min:0,max:16,step:1,precision:0},threshold:{type:"number",min:0,max:10,step:.01,precision:2},precision:{widget:"combo",values:n.MODE_VALUES}},S.prototype.onGetInputs=function(){return[["enabled","boolean"],["threshold","number"],["intensity","number"],["persistence","number"],["iterations","number"],["dirt_factor","number"]]},S.prototype.onGetOutputs=function(){return[["average","Texture"]]},S.prototype.onExecute=function(){var t=this.getInputData(0);if(t&&this.isAnyOutputConnected())if(this.properties.precision!==n.PASS_THROUGH&&!1!==this.getInputOrProperty("enabled")){var e=t.width,r=t.height,i={format:t.format,type:t.type,minFilter:GL.LINEAR,magFilter:GL.LINEAR,wrap:gl.CLAMP_TO_EDGE},o=n.getTextureType(this.properties.precision,t),s=this._uniforms,a=this._textures;(p=S._cut_shader)||(p=S._cut_shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,S.cut_pixel_shader)),gl.disable(gl.DEPTH_TEST),gl.disable(gl.BLEND),s.u_threshold=this.getInputOrProperty("threshold");var u=a[0]=GL.Texture.getTemporary(e,r,i);t.blit(u,p.uniforms(s));var l=u,c=this.getInputOrProperty("iterations");c=0|Math.clamp(c,1,16);var p,h=s.u_texel_size,d=this.getInputOrProperty("intensity");s.u_intensity=1,s.u_delta=this.properties.scale,(p=S._shader)||(p=S._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,S.scale_pixel_shader));for(var f=1;f<c&&((0|r)>1&&(r>>=1),!((e>>=1)<2));f++)u=a[f]=GL.Texture.getTemporary(e,r,i),h[0]=1/l.width,h[1]=1/l.height,l.blit(u,p.uniforms(s)),l=u;if(this.isOutputConnected(2)){var g=this._average_texture;g&&g.type==t.type&&g.format==t.format||(g=this._average_texture=new GL.Texture(1,1,{type:t.type,format:t.format,filter:gl.LINEAR})),h[0]=1/l.width,h[1]=1/l.height,s.u_intensity=d,s.u_delta=1,l.blit(g,p.uniforms(s)),this.setOutputData(2,g)}for(gl.enable(gl.BLEND),gl.blendFunc(gl.ONE,gl.ONE),s.u_intensity=this.getInputOrProperty("persistence"),s.u_delta=.5,f-=2;f>=0;f--)u=a[f],a[f]=null,h[0]=1/l.width,h[1]=1/l.height,l.blit(u,p.uniforms(s)),GL.Texture.releaseTemporary(l),l=u;if(gl.disable(gl.BLEND),this.isOutputConnected(1)){var v=this._glow_texture;v&&v.width==t.width&&v.height==t.height&&v.type==o&&v.format==t.format||(v=this._glow_texture=new GL.Texture(t.width,t.height,{type:o,format:t.format,filter:gl.LINEAR})),l.blit(v),this.setOutputData(1,v)}if(this.isOutputConnected(0)){var _=this._final_texture;_&&_.width==t.width&&_.height==t.height&&_.type==o&&_.format==t.format||(_=this._final_texture=new GL.Texture(t.width,t.height,{type:o,format:t.format,filter:gl.LINEAR}));var m=this.getInputData(1),y=this.getInputOrProperty("dirt_factor");s.u_intensity=d,(p=m?S._dirt_final_shader:S._final_shader)||(p=m?S._dirt_final_shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,S.final_pixel_shader,{USE_DIRT:""}):S._final_shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,S.final_pixel_shader)),_.drawTo(function(){t.bind(0),l.bind(1),m&&(p.setUniform("u_dirt_factor",y),p.setUniform("u_dirt_texture",m.bind(2))),p.toViewport(s)}),this.setOutputData(0,_)}GL.Texture.releaseTemporary(l)}else this.setOutputData(0,t)},S.cut_pixel_shader="precision highp float;\n\tvarying vec2 v_coord;\n\tuniform sampler2D u_texture;\n\tuniform float u_threshold;\n\tvoid main() {\n\t\tgl_FragColor = max( texture2D( u_texture, v_coord ) - vec4( u_threshold ), vec4(0.0) );\n\t}",S.scale_pixel_shader="precision highp float;\n\tvarying vec2 v_coord;\n\tuniform sampler2D u_texture;\n\tuniform vec2 u_texel_size;\n\tuniform float u_delta;\n\tuniform float u_intensity;\n\t\n\tvec4 sampleBox(vec2 uv) {\n\t\tvec4 o = u_texel_size.xyxy * vec2(-u_delta, u_delta).xxyy;\n\t\tvec4 s = texture2D( u_texture, uv + o.xy ) + texture2D( u_texture, uv + o.zy) + texture2D( u_texture, uv + o.xw) + texture2D( u_texture, uv + o.zw);\n\t\treturn s * 0.25;\n\t}\n\tvoid main() {\n\t\tgl_FragColor = u_intensity * sampleBox( v_coord );\n\t}",S.final_pixel_shader="precision highp float;\n\tvarying vec2 v_coord;\n\tuniform sampler2D u_texture;\n\tuniform sampler2D u_glow_texture;\n\t#ifdef USE_DIRT\n\t\tuniform sampler2D u_dirt_texture;\n\t#endif\n\tuniform vec2 u_texel_size;\n\tuniform float u_delta;\n\tuniform float u_intensity;\n\tuniform float u_dirt_factor;\n\t\n\tvec4 sampleBox(vec2 uv) {\n\t\tvec4 o = u_texel_size.xyxy * vec2(-u_delta, u_delta).xxyy;\n\t\tvec4 s = texture2D( u_glow_texture, uv + o.xy ) + texture2D( u_glow_texture, uv + o.zy) + texture2D( u_glow_texture, uv + o.xw) + texture2D( u_glow_texture, uv + o.zw);\n\t\treturn s * 0.25;\n\t}\n\tvoid main() {\n\t\tvec4 glow = sampleBox( v_coord );\n\t\t#ifdef USE_DIRT\n\t\t\tglow = mix( glow, glow * texture2D( u_dirt_texture, v_coord ), u_dirt_factor );\n\t\t#endif\n\t\tgl_FragColor = texture2D( u_texture, v_coord ) + u_intensity * glow;\n\t}",e.registerNodeType("texture/glow",S),k.title="Kuwahara Filter",k.desc="Filters a texture giving an artistic oil canvas painting",k.max_radius=10,k._shaders=[],k.prototype.onExecute=function(){var t=this.getInputData(0);if(t&&this.isOutputConnected(0)){var n=this._temp_texture;n&&n.width==t.width&&n.height==t.height&&n.type==t.type||(this._temp_texture=new GL.Texture(t.width,t.height,{type:t.type,format:gl.RGBA,filter:gl.LINEAR}));var r=this.properties.radius;if(0!=(r=Math.min(Math.floor(r),k.max_radius))){var i=this.properties.intensity,o=e.camera_aspect;o||void 0===window.gl||(o=gl.canvas.height/gl.canvas.width),o||(o=1),o=this.properties.preserve_aspect?o:1,k._shaders[r]||(k._shaders[r]=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,k.pixel_shader,{RADIUS:r.toFixed(0)}));var s=k._shaders[r],a=GL.Mesh.getScreenQuad();t.bind(0),this._temp_texture.drawTo(function(){s.uniforms({u_texture:0,u_intensity:i,u_resolution:[t.width,t.height],u_iResolution:[1/t.width,1/t.height]}).draw(a)}),this.setOutputData(0,this._temp_texture)}else this.setOutputData(0,t)}},k.pixel_shader="\nprecision highp float;\nvarying vec2 v_coord;\nuniform sampler2D u_texture;\nuniform float u_intensity;\nuniform vec2 u_resolution;\nuniform vec2 u_iResolution;\n#ifndef RADIUS\n\t#define RADIUS 7\n#endif\nvoid main() {\n\n\tconst int radius = RADIUS;\n\tvec2 fragCoord = v_coord;\n\tvec2 src_size = u_iResolution;\n\tvec2 uv = v_coord;\n\tfloat n = float((radius + 1) * (radius + 1));\n\tint i;\n\tint j;\n\tvec3 m0 = vec3(0.0); vec3 m1 = vec3(0.0); vec3 m2 = vec3(0.0); vec3 m3 = vec3(0.0);\n\tvec3 s0 = vec3(0.0); vec3 s1 = vec3(0.0); vec3 s2 = vec3(0.0); vec3 s3 = vec3(0.0);\n\tvec3 c;\n\t\n\tfor (int j = -radius; j <= 0; ++j)  {\n\t\tfor (int i = -radius; i <= 0; ++i)  {\n\t\t\tc = texture2D(u_texture, uv + vec2(i,j) * src_size).rgb;\n\t\t\tm0 += c;\n\t\t\ts0 += c * c;\n\t\t}\n\t}\n\t\n\tfor (int j = -radius; j <= 0; ++j)  {\n\t\tfor (int i = 0; i <= radius; ++i)  {\n\t\t\tc = texture2D(u_texture, uv + vec2(i,j) * src_size).rgb;\n\t\t\tm1 += c;\n\t\t\ts1 += c * c;\n\t\t}\n\t}\n\t\n\tfor (int j = 0; j <= radius; ++j)  {\n\t\tfor (int i = 0; i <= radius; ++i)  {\n\t\t\tc = texture2D(u_texture, uv + vec2(i,j) * src_size).rgb;\n\t\t\tm2 += c;\n\t\t\ts2 += c * c;\n\t\t}\n\t}\n\t\n\tfor (int j = 0; j <= radius; ++j)  {\n\t\tfor (int i = -radius; i <= 0; ++i)  {\n\t\t\tc = texture2D(u_texture, uv + vec2(i,j) * src_size).rgb;\n\t\t\tm3 += c;\n\t\t\ts3 += c * c;\n\t\t}\n\t}\n\t\n\tfloat min_sigma2 = 1e+2;\n\tm0 /= n;\n\ts0 = abs(s0 / n - m0 * m0);\n\t\n\tfloat sigma2 = s0.r + s0.g + s0.b;\n\tif (sigma2 < min_sigma2) {\n\t\tmin_sigma2 = sigma2;\n\t\tgl_FragColor = vec4(m0, 1.0);\n\t}\n\t\n\tm1 /= n;\n\ts1 = abs(s1 / n - m1 * m1);\n\t\n\tsigma2 = s1.r + s1.g + s1.b;\n\tif (sigma2 < min_sigma2) {\n\t\tmin_sigma2 = sigma2;\n\t\tgl_FragColor = vec4(m1, 1.0);\n\t}\n\t\n\tm2 /= n;\n\ts2 = abs(s2 / n - m2 * m2);\n\t\n\tsigma2 = s2.r + s2.g + s2.b;\n\tif (sigma2 < min_sigma2) {\n\t\tmin_sigma2 = sigma2;\n\t\tgl_FragColor = vec4(m2, 1.0);\n\t}\n\t\n\tm3 /= n;\n\ts3 = abs(s3 / n - m3 * m3);\n\t\n\tsigma2 = s3.r + s3.g + s3.b;\n\tif (sigma2 < min_sigma2) {\n\t\tmin_sigma2 = sigma2;\n\t\tgl_FragColor = vec4(m3, 1.0);\n\t}\n}\n",e.registerNodeType("texture/kuwahara",k),I.title="XDoG Filter",I.desc="Filters a texture giving an artistic ink style",I.max_radius=10,I._shaders=[],I.prototype.onExecute=function(){var t=this.getInputData(0);if(t&&this.isOutputConnected(0)){var e=this._temp_texture;e&&e.width==t.width&&e.height==t.height&&e.type==t.type||(this._temp_texture=new GL.Texture(t.width,t.height,{type:t.type,format:gl.RGBA,filter:gl.LINEAR})),I._xdog_shader||(I._xdog_shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,I.xdog_pixel_shader));var n=I._xdog_shader,r=GL.Mesh.getScreenQuad(),i=this.properties.sigma,o=this.properties.k,s=this.properties.p,a=this.properties.epsilon,u=this.properties.phi;t.bind(0),this._temp_texture.drawTo(function(){n.uniforms({src:0,sigma:i,k:o,p:s,epsilon:a,phi:u,cvsWidth:t.width,cvsHeight:t.height}).draw(r)}),this.setOutputData(0,this._temp_texture)}},I.xdog_pixel_shader="\nprecision highp float;\nuniform sampler2D src;\n\nuniform float cvsHeight;\nuniform float cvsWidth;\n\nuniform float sigma;\nuniform float k;\nuniform float p;\nuniform float epsilon;\nuniform float phi;\nvarying vec2 v_coord;\n\nfloat cosh(float val)\n{\n\tfloat tmp = exp(val);\n\tfloat cosH = (tmp + 1.0 / tmp) / 2.0;\n\treturn cosH;\n}\n\nfloat tanh(float val)\n{\n\tfloat tmp = exp(val);\n\tfloat tanH = (tmp - 1.0 / tmp) / (tmp + 1.0 / tmp);\n\treturn tanH;\n}\n\nfloat sinh(float val)\n{\n\tfloat tmp = exp(val);\n\tfloat sinH = (tmp - 1.0 / tmp) / 2.0;\n\treturn sinH;\n}\n\nvoid main(void){\n\tvec3 destColor = vec3(0.0);\n\tfloat tFrag = 1.0 / cvsHeight;\n\tfloat sFrag = 1.0 / cvsWidth;\n\tvec2 Frag = vec2(sFrag,tFrag);\n\tvec2 uv = gl_FragCoord.st;\n\tfloat twoSigmaESquared = 2.0 * sigma * sigma;\n\tfloat twoSigmaRSquared = twoSigmaESquared * k * k;\n\tint halfWidth = int(ceil( 1.0 * sigma * k ));\n\n\tconst int MAX_NUM_ITERATION = 99999;\n\tvec2 sum = vec2(0.0);\n\tvec2 norm = vec2(0.0);\n\n\tfor(int cnt=0;cnt<MAX_NUM_ITERATION;cnt++){\n\t\tif(cnt > (2*halfWidth+1)*(2*halfWidth+1)){break;}\n\t\tint i = int(cnt / (2*halfWidth+1)) - halfWidth;\n\t\tint j = cnt - halfWidth - int(cnt / (2*halfWidth+1)) * (2*halfWidth+1);\n\n\t\tfloat d = length(vec2(i,j));\n\t\tvec2 kernel = vec2( exp( -d * d / twoSigmaESquared ), \n\t\t\t\t\t\t\texp( -d * d / twoSigmaRSquared ));\n\n\t\tvec2 L = texture2D(src, (uv + vec2(i,j)) * Frag).xx;\n\n\t\tnorm += kernel;\n\t\tsum += kernel * L;\n\t}\n\n\tsum /= norm;\n\n\tfloat H = 100.0 * ((1.0 + p) * sum.x - p * sum.y);\n\tfloat edge = ( H > epsilon )? 1.0 : 1.0 + tanh( phi * (H - epsilon));\n\tdestColor = vec3(edge);\n\tgl_FragColor = vec4(destColor, 1.0);\n}",e.registerNodeType("texture/xDoG",I),A.title="Webcam",A.desc="Webcam texture",A.is_webcam_open=!1,A.prototype.openStream=function(){if(navigator.getUserMedia){this._waiting_confirmation=!0;var t={audio:!1,video:{facingMode:this.properties.facingMode}};navigator.mediaDevices.getUserMedia(t).then(this.streamReady.bind(this)).catch(function(t){A.is_webcam_open=!1,console.log("Webcam rejected",t),e._webcam_stream=!1,e.boxcolor="red",e.trigger("stream_error")});var e=this}},A.prototype.closeStream=function(){if(this._webcam_stream){var t=this._webcam_stream.getTracks();if(t.length)for(var e=0;e<t.length;++e)t[e].stop();A.is_webcam_open=!1,this._webcam_stream=null,this._video=null,this.boxcolor="black",this.trigger("stream_closed")}},A.prototype.streamReady=function(t){this._webcam_stream=t,this.boxcolor="green";var e=this._video;e||((e=document.createElement("video")).autoplay=!0,e.srcObject=t,this._video=e,e.onloadedmetadata=function(t){A.is_webcam_open=!0,console.log(t)}),this.trigger("stream_ready",e)},A.prototype.onPropertyChanged=function(t,e){"facingMode"==t&&(this.properties.facingMode=e,this.closeStream(),this.openStream())},A.prototype.onRemoved=function(){if(this._webcam_stream){var t=this._webcam_stream.getTracks();if(t.length)for(var e=0;e<t.length;++e)t[e].stop();this._webcam_stream=null,this._video=null}},A.prototype.onDrawBackground=function(t){this.flags.collapsed||this.size[1]<=20||this._video&&(t.save(),t.webgl?this._video_texture&&t.drawImage(this._video_texture,0,0,this.size[0],this.size[1]):t.drawImage(this._video,0,0,this.size[0],this.size[1]),t.restore())},A.prototype.onExecute=function(){if(null!=this._webcam_stream||this._waiting_confirmation||this.openStream(),this._video&&this._video.videoWidth){var t=this._video.videoWidth,e=this._video.videoHeight,r=this._video_texture;if(r&&r.width==t&&r.height==e||(this._video_texture=new GL.Texture(t,e,{format:gl.RGB,filter:gl.LINEAR})),this._video_texture.uploadImage(this._video),this._video_texture.version=++this.version,this.properties.texture_name)n.getTexturesContainer()[this.properties.texture_name]=this._video_texture;this.setOutputData(0,this._video_texture);for(var i=1;i<this.outputs.length;++i)if(this.outputs[i])switch(this.outputs[i].name){case"width":this.setOutputData(i,this._video.videoWidth);break;case"height":this.setOutputData(i,this._video.videoHeight)}}},A.prototype.onGetOutputs=function(){return[["width","number"],["height","number"],["stream_ready",e.EVENT],["stream_closed",e.EVENT],["stream_error",e.EVENT]]},e.registerNodeType("texture/webcam",A),N.title="Lens FX",N.desc="distortion and chromatic aberration",N.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES}},N.prototype.onGetInputs=function(){return[["enabled","boolean"]]},N.prototype.onExecute=function(){var t=this.getInputData(0);if(t&&this.isOutputConnected(0))if(this.properties.precision!==n.PASS_THROUGH&&!1!==this.getInputOrProperty("enabled")){var e=this._temp_texture;e&&e.width==t.width&&e.height==t.height&&e.type==t.type||(e=this._temp_texture=new GL.Texture(t.width,t.height,{type:t.type,format:gl.RGBA,filter:gl.LINEAR}));var r=N._shader;r||(r=N._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,N.pixel_shader));var i=this.getInputData(1);null==i&&(i=this.properties.factor);var o=this._uniforms;o.u_factor=i,gl.disable(gl.DEPTH_TEST),e.drawTo(function(){t.bind(0),r.uniforms(o).draw(GL.Mesh.getScreenQuad())}),this.setOutputData(0,e)}else this.setOutputData(0,t)},N.pixel_shader="precision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform float u_factor;\n\t\tvec2 barrelDistortion(vec2 coord, float amt) {\n\t\t\tvec2 cc = coord - 0.5;\n\t\t\tfloat dist = dot(cc, cc);\n\t\t\treturn coord + cc * dist * amt;\n\t\t}\n\t\t\n\t\tfloat sat( float t )\n\t\t{\n\t\t\treturn clamp( t, 0.0, 1.0 );\n\t\t}\n\t\t\n\t\tfloat linterp( float t ) {\n\t\t\treturn sat( 1.0 - abs( 2.0*t - 1.0 ) );\n\t\t}\n\t\t\n\t\tfloat remap( float t, float a, float b ) {\n\t\t\treturn sat( (t - a) / (b - a) );\n\t\t}\n\t\t\n\t\tvec4 spectrum_offset( float t ) {\n\t\t\tvec4 ret;\n\t\t\tfloat lo = step(t,0.5);\n\t\t\tfloat hi = 1.0-lo;\n\t\t\tfloat w = linterp( remap( t, 1.0/6.0, 5.0/6.0 ) );\n\t\t\tret = vec4(lo,1.0,hi, 1.) * vec4(1.0-w, w, 1.0-w, 1.);\n\t\t\n\t\t\treturn pow( ret, vec4(1.0/2.2) );\n\t\t}\n\t\t\n\t\tconst float max_distort = 2.2;\n\t\tconst int num_iter = 12;\n\t\tconst float reci_num_iter_f = 1.0 / float(num_iter);\n\t\t\n\t\tvoid main()\n\t\t{\t\n\t\t\tvec2 uv=v_coord;\n\t\t\tvec4 sumcol = vec4(0.0);\n\t\t\tvec4 sumw = vec4(0.0);\t\n\t\t\tfor ( int i=0; i<num_iter;++i )\n\t\t\t{\n\t\t\t\tfloat t = float(i) * reci_num_iter_f;\n\t\t\t\tvec4 w = spectrum_offset( t );\n\t\t\t\tsumw += w;\n\t\t\t\tsumcol += w * texture2D( u_texture, barrelDistortion(uv, .6 * max_distort*t * u_factor ) );\n\t\t\t}\n\t\t\tgl_FragColor = sumcol / sumw;\n\t\t}",e.registerNodeType("texture/lensfx",N),D.title="Curve",D.prototype.onExecute=function(){var t=this.getInputData(0);if(t&&this.isOutputConnected(0)){var e=this._temp_texture;e&&e.width==t.width&&e.height==t.height&&e.type==t.type||(e=this._temp_texture=new GL.Texture(t.width,t.height,{type:t.type,format:gl.RGBA,filter:gl.LINEAR}));var n=D._shader;n||(n=D._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,D.pixel_shader)),!this._must_update&&this._curve_texture||this.updateCurve();var r=this._uniforms,i=this._curve_texture;e.drawTo(function(){gl.disable(gl.DEPTH_TEST),t.bind(0),i.bind(1),n.uniforms(r).draw(GL.Mesh.getScreenQuad())}),this.setOutputData(0,e)}},D.prototype.sampleCurve=function(t,e){if(e=e||this._points.RGB){for(var n=0;n<e.length-1;++n){var r=e[n],i=e[n+1];if(!(i[0]<t)){var o=i[0]-r[0];if(Math.abs(o)<1e-5)return r[1];var s=(t-r[0])/o;return r[1]*(1-s)+i[1]*s}}return 0}},D.prototype.updateCurve=function(){for(var t=this._values,e=t.length/4,n=this.properties.split_channels,r=0;r<e;++r){if(n)t[4*r]=Math.clamp(255*this.sampleCurve(r/e,this._points.R),0,255),t[4*r+1]=Math.clamp(255*this.sampleCurve(r/e,this._points.G),0,255),t[4*r+2]=Math.clamp(255*this.sampleCurve(r/e,this._points.B),0,255);else{var i=this.sampleCurve(r/e);t[4*r]=t[4*r+1]=t[4*r+2]=Math.clamp(255*i,0,255)}t[4*r+3]=255}this._curve_texture||(this._curve_texture=new GL.Texture(256,1,{format:gl.RGBA,magFilter:gl.LINEAR,wrap:gl.CLAMP_TO_EDGE})),this._curve_texture.uploadData(t,null,!0)},D.prototype.onSerialize=function(t){var e={};for(var n in this._points)e[n]=this._points[n].concat();t.curves=e},D.prototype.onConfigure=function(t){this._points=t.curves,this.curve_editor&&(curve_editor.points=this._points),this._must_update=!0},D.prototype.onMouseDown=function(t,e,n){if(this.curve_editor){var r=this.curve_editor.onMouseDown([e[0],e[1]-this.curve_offset],n);return r&&this.captureInput(!0),r}},D.prototype.onMouseMove=function(t,e,n){if(this.curve_editor)return this.curve_editor.onMouseMove([e[0],e[1]-this.curve_offset],n)},D.prototype.onMouseUp=function(t,e,n){if(this.curve_editor)return this.curve_editor.onMouseUp([e[0],e[1]-this.curve_offset],n);this.captureInput(!1)},D.channel_line_colors={RGB:"#666",R:"#F33",G:"#3F3",B:"#33F"},D.prototype.onDrawBackground=function(t,n){if(!this.flags.collapsed){this.curve_editor||(this.curve_editor=new e.CurveEditor(this._points.R)),t.save(),t.translate(0,this.curve_offset);var r=this.widgets[1].value;this.properties.split_channels?("RGB"==r&&(this.widgets[1].value=r="R",this.widgets[1].disabled=!1),this.curve_editor.points=this._points.R,this.curve_editor.draw(t,[this.size[0],this.size[1]-this.curve_offset],n,"#111",D.channel_line_colors.R,!0),t.globalCompositeOperation="lighten",this.curve_editor.points=this._points.G,this.curve_editor.draw(t,[this.size[0],this.size[1]-this.curve_offset],n,null,D.channel_line_colors.G,!0),this.curve_editor.points=this._points.B,this.curve_editor.draw(t,[this.size[0],this.size[1]-this.curve_offset],n,null,D.channel_line_colors.B,!0),t.globalCompositeOperation="source-over"):(this.widgets[1].value=r="RGB",this.widgets[1].disabled=!0),this.curve_editor.points=this._points[r],this.curve_editor.draw(t,[this.size[0],this.size[1]-this.curve_offset],n,this.properties.split_channels?null:"#111",D.channel_line_colors[r]),t.restore()}},D.pixel_shader="precision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform sampler2D u_curve;\n\t\tuniform float u_range;\n\t\t\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D( u_texture, v_coord ) * u_range;\n\t\t\tcolor.x = texture2D( u_curve, vec2( color.x, 0.5 ) ).x;\n\t\t\tcolor.y = texture2D( u_curve, vec2( color.y, 0.5 ) ).y;\n\t\t\tcolor.z = texture2D( u_curve, vec2( color.z, 0.5 ) ).z;\n\t\t\t//color.w = texture2D( u_curve, vec2( color.w, 0.5 ) ).w;\n\t\t\tgl_FragColor = color;\n\t\t}",e.registerNodeType("texture/curve",D),R.title="Exposition",R.desc="Controls texture exposition",R.widgets_info={exposition:{widget:"slider",min:0,max:3},precision:{widget:"combo",values:n.MODE_VALUES}},R.prototype.onExecute=function(){var t=this.getInputData(0);if(t&&this.isOutputConnected(0)){var e=this._temp_texture;e&&e.width==t.width&&e.height==t.height&&e.type==t.type||(e=this._temp_texture=new GL.Texture(t.width,t.height,{type:t.type,format:gl.RGBA,filter:gl.LINEAR}));var n=R._shader;n||(n=R._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,R.pixel_shader));this.properties.exposition;var r=this.getInputData(1);null!=r&&(this.properties.exposition=r);var i=this._uniforms;e.drawTo(function(){gl.disable(gl.DEPTH_TEST),t.bind(0),n.uniforms(i).draw(GL.Mesh.getScreenQuad())}),this.setOutputData(0,e)}},R.pixel_shader="precision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform float u_exposition;\n\t\t\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D( u_texture, v_coord );\n\t\t\tgl_FragColor = vec4( color.xyz * u_exposition, color.a );\n\t\t}",e.registerNodeType("texture/exposition",R),P.title="Tone Mapping",P.desc="Applies Tone Mapping to convert from high to low",P.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES}},P.prototype.onGetInputs=function(){return[["enabled","boolean"]]},P.prototype.onExecute=function(){var t=this.getInputData(0);if(t&&this.isOutputConnected(0))if(this.properties.precision!==n.PASS_THROUGH&&!1!==this.getInputOrProperty("enabled")){var e=this._temp_texture;e&&e.width==t.width&&e.height==t.height&&e.type==t.type||(e=this._temp_texture=new GL.Texture(t.width,t.height,{type:t.type,format:gl.RGBA,filter:gl.LINEAR}));var r=this.getInputData(1);null==r&&(r=this.properties.average_lum);var i=this._uniforms,o=null;r.constructor===Number?(this.properties.average_lum=r,i.u_average_lum=this.properties.average_lum,(o=P._shader)||(o=P._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,P.pixel_shader))):r.constructor===GL.Texture&&(i.u_average_texture=r.bind(1),(o=P._shader_texture)||(o=P._shader_texture=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,P.pixel_shader,{AVG_TEXTURE:""}))),i.u_lumwhite2=this.properties.lum_white*this.properties.lum_white,i.u_scale=this.properties.scale,i.u_igamma=1/this.properties.gamma,gl.disable(gl.DEPTH_TEST),e.drawTo(function(){t.bind(0),o.uniforms(i).draw(GL.Mesh.getScreenQuad())}),this.setOutputData(0,this._temp_texture)}else this.setOutputData(0,t)},P.pixel_shader="precision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform float u_scale;\n\t\t#ifdef AVG_TEXTURE\n\t\t\tuniform sampler2D u_average_texture;\n\t\t#else\n\t\t\tuniform float u_average_lum;\n\t\t#endif\n\t\tuniform float u_lumwhite2;\n\t\tuniform float u_igamma;\n\t\tvec3 RGB2xyY (vec3 rgb)\n\t\t{\n\t\t\t const mat3 RGB2XYZ = mat3(0.4124, 0.3576, 0.1805,\n\t\t\t\t\t\t\t\t\t   0.2126, 0.7152, 0.0722,\n\t\t\t\t\t\t\t\t\t   0.0193, 0.1192, 0.9505);\n\t\t\tvec3 XYZ = RGB2XYZ * rgb;\n\t\t\t\n\t\t\tfloat f = (XYZ.x + XYZ.y + XYZ.z);\n\t\t\treturn vec3(XYZ.x / f,\n\t\t\t\t\t\tXYZ.y / f,\n\t\t\t\t\t\tXYZ.y);\n\t\t}\n\t\t\n\t\tvoid main() {\n\t\t\tvec4 color = texture2D( u_texture, v_coord );\n\t\t\tvec3 rgb = color.xyz;\n\t\t\tfloat average_lum = 0.0;\n\t\t\t#ifdef AVG_TEXTURE\n\t\t\t\tvec3 pixel = texture2D(u_average_texture,vec2(0.5)).xyz;\n\t\t\t\taverage_lum = (pixel.x + pixel.y + pixel.z) / 3.0;\n\t\t\t#else\n\t\t\t\taverage_lum = u_average_lum;\n\t\t\t#endif\n\t\t\t//Ld - this part of the code is the same for both versions\n\t\t\tfloat lum = dot(rgb, vec3(0.2126, 0.7152, 0.0722));\n\t\t\tfloat L = (u_scale / average_lum) * lum;\n\t\t\tfloat Ld = (L * (1.0 + L / u_lumwhite2)) / (1.0 + L);\n\t\t\t//first\n\t\t\t//vec3 xyY = RGB2xyY(rgb);\n\t\t\t//xyY.z *= Ld;\n\t\t\t//rgb = xyYtoRGB(xyY);\n\t\t\t//second\n\t\t\trgb = (rgb / lum) * Ld;\n\t\t\trgb = max(rgb,vec3(0.001));\n\t\t\trgb = pow( rgb, vec3( u_igamma ) );\n\t\t\tgl_FragColor = vec4( rgb, color.a );\n\t\t}",e.registerNodeType("texture/tonemapping",P),L.title="Perlin",L.desc="Generates a perlin noise texture",L.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES},width:{type:"Number",precision:0,step:1},height:{type:"Number",precision:0,step:1},octaves:{type:"Number",precision:0,step:1,min:1,max:50}},L.prototype.onGetInputs=function(){return[["seed","Number"],["persistence","Number"],["octaves","Number"],["scale","Number"],["amplitude","Number"],["offset","vec2"]]},L.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=0|this.properties.width,e=0|this.properties.height;0==t&&(t=gl.viewport_data[2]),0==e&&(e=gl.viewport_data[3]);var r=n.getTextureType(this.properties.precision),i=this._texture;i&&i.width==t&&i.height==e&&i.type==r||(i=this._texture=new GL.Texture(t,e,{type:r,format:gl.RGB,filter:gl.LINEAR}));var o=this.getInputOrProperty("persistence"),s=this.getInputOrProperty("octaves"),a=this.getInputOrProperty("offset"),u=this.getInputOrProperty("scale"),l=this.getInputOrProperty("amplitude"),c=this.getInputOrProperty("seed"),p=""+t+e+r+o+s+u+c+a[0]+a[1]+l;if(p!=this._key){this._key=p;var h=this._uniforms;h.u_persistence=o,h.u_octaves=s,h.u_offset.set(a),h.u_scale=u,h.u_amplitude=l,h.u_seed=128*c,h.u_viewport[0]=t,h.u_viewport[1]=e;var d=L._shader;d||(d=L._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,L.pixel_shader)),gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST),i.drawTo(function(){d.uniforms(h).draw(GL.Mesh.getScreenQuad())}),this.setOutputData(0,i)}else this.setOutputData(0,i)}},L.pixel_shader="precision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform vec2 u_offset;\n\t\tuniform float u_scale;\n\t\tuniform float u_persistence;\n\t\tuniform int u_octaves;\n\t\tuniform float u_amplitude;\n\t\tuniform vec2 u_viewport;\n\t\tuniform float u_seed;\n\t\t#define M_PI 3.14159265358979323846\n\t\t\n\t\tfloat rand(vec2 c){\treturn fract(sin(dot(c.xy ,vec2( 12.9898 + u_seed,78.233 + u_seed))) * 43758.5453); }\n\t\t\n\t\tfloat noise(vec2 p, float freq ){\n\t\t\tfloat unit = u_viewport.x/freq;\n\t\t\tvec2 ij = floor(p/unit);\n\t\t\tvec2 xy = mod(p,unit)/unit;\n\t\t\t//xy = 3.*xy*xy-2.*xy*xy*xy;\n\t\t\txy = .5*(1.-cos(M_PI*xy));\n\t\t\tfloat a = rand((ij+vec2(0.,0.)));\n\t\t\tfloat b = rand((ij+vec2(1.,0.)));\n\t\t\tfloat c = rand((ij+vec2(0.,1.)));\n\t\t\tfloat d = rand((ij+vec2(1.,1.)));\n\t\t\tfloat x1 = mix(a, b, xy.x);\n\t\t\tfloat x2 = mix(c, d, xy.x);\n\t\t\treturn mix(x1, x2, xy.y);\n\t\t}\n\t\t\n\t\tfloat pNoise(vec2 p, int res){\n\t\t\tfloat persistance = u_persistence;\n\t\t\tfloat n = 0.;\n\t\t\tfloat normK = 0.;\n\t\t\tfloat f = 4.;\n\t\t\tfloat amp = 1.0;\n\t\t\tint iCount = 0;\n\t\t\tfor (int i = 0; i<50; i++){\n\t\t\t\tn+=amp*noise(p, f);\n\t\t\t\tf*=2.;\n\t\t\t\tnormK+=amp;\n\t\t\t\tamp*=persistance;\n\t\t\t\tif (iCount >= res)\n\t\t\t\t\tbreak;\n\t\t\t\tiCount++;\n\t\t\t}\n\t\t\tfloat nf = n/normK;\n\t\t\treturn nf*nf*nf*nf;\n\t\t}\n\t\tvoid main() {\n\t\t\tvec2 uv = v_coord * u_scale * u_viewport + u_offset * u_scale;\n\t\t\tvec4 color = vec4( pNoise( uv, u_octaves ) * u_amplitude );\n\t\t\tgl_FragColor = color;\n\t\t}",e.registerNodeType("texture/perlin",L),M.title="Canvas2D",M.desc="Executes Canvas2D code inside a texture or the viewport.",M.help="Set width and height to 0 to match viewport size.",M.widgets_info={precision:{widget:"combo",values:n.MODE_VALUES},code:{type:"code"},width:{type:"Number",precision:0,step:1},height:{type:"Number",precision:0,step:1}},M.prototype.onPropertyChanged=function(t,e){"code"==t&&this.compileCode(e)},M.prototype.compileCode=function(t){if(this._func=null,e.allow_scripts)try{this._func=new Function("canvas","ctx","time","script","v",t),this.boxcolor="#00FF00"}catch(n){this.boxcolor="#FF0000",console.error("Error parsing script"),console.error(n)}},M.prototype.onExecute=function(){var t=this._func;t&&this.isOutputConnected(0)&&this.executeDraw(t)},M.prototype.executeDraw=function(e){var r=this.properties.width||gl.canvas.width,i=this.properties.height||gl.canvas.height,o=this._temp_texture,s=n.getTextureType(this.properties.precision);o&&o.width==r&&o.height==i&&o.type==s||(o=this._temp_texture=new GL.Texture(r,i,{format:gl.RGBA,filter:gl.LINEAR,type:s}));var a=this.getInputData(0),u=this.properties,l=this,c=this.graph.getTime(),p=gl,h=gl.canvas;if(!this.properties.use_html_canvas&&t.enableWebGLCanvas||(this._canvas?(h=this._canvas,p=this._ctx):(h=this._canvas=createCanvas(r.height),p=this._ctx=h.getContext("2d")),h.width=r,h.height=i),p==gl)o.drawTo(function(){gl.start2D(),u.clear&&(gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT));try{e.draw?e.draw.call(l,h,p,c,e,a):e.call(l,h,p,c,e,a),l.boxcolor="#00FF00"}catch(t){l.boxcolor="#FF0000",console.error("Error executing script"),console.error(t)}gl.finish2D()});else{u.clear&&p.clearRect(0,0,h.width,h.height);try{e.draw?e.draw.call(this,h,p,c,e,a):e.call(this,h,p,c,e,a),this.boxcolor="#00FF00"}catch(d){this.boxcolor="#FF0000",console.error("Error executing script"),console.error(d)}o.uploadImage(h)}this.setOutputData(0,o)},e.registerNodeType("texture/canvas2D",M),F.title="Matte",F.desc="Extracts background",F.widgets_info={key_color:{widget:"color"},precision:{widget:"combo",values:n.MODE_VALUES}},F.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=this.getInputData(0);if(this.properties.precision!==n.PASS_THROUGH){if(t){this._tex=n.getTargetTexture(t,this._tex,this.properties.precision),gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST),this._uniforms||(this._uniforms={u_texture:0,u_key_color:this.properties.key_color,u_threshold:1,u_slope:1});var e=this._uniforms,r=Mesh.getScreenQuad(),i=F._shader;i||(i=F._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,F.pixel_shader)),e.u_key_color=this.properties.key_color,e.u_threshold=this.properties.threshold,e.u_slope=this.properties.slope,this._tex.drawTo(function(){t.bind(0),i.uniforms(e).draw(r)}),this.setOutputData(0,this._tex)}}else this.setOutputData(0,t)}},F.pixel_shader="precision highp float;\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tuniform vec3 u_key_color;\n\t\tuniform float u_threshold;\n\t\tuniform float u_slope;\n\t\t\n\t\tvoid main() {\n\t\t\tvec3 color = texture2D( u_texture, v_coord ).xyz;\n\t\t\tfloat diff = length( normalize(color) - normalize(u_key_color) );\n\t\t\tfloat edge = u_threshold * (1.0 - u_slope);\n\t\t\tfloat alpha = smoothstep( edge, u_threshold, diff);\n\t\t\tgl_FragColor = vec4( color, alpha );\n\t\t}",e.registerNodeType("texture/matte",F),j.title="CubemapToTexture2D",j.desc="Transforms a CUBEMAP texture into a TEXTURE2D in Polar Representation",j.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=this.getInputData(0);if(t&&t.texture_type==GL.TEXTURE_CUBE_MAP){!this._last_tex||this._last_tex.height==t.height&&this._last_tex.type==t.type||(this._last_tex=null);var e=this.getInputOrProperty("yaw");this._last_tex=GL.Texture.cubemapToTexture2D(t,t.height,this._last_tex,!0,e),this.setOutputData(0,this._last_tex)}}},e.registerNodeType("texture/cubemapToTexture2D",j))}(this),function(t){var e=t.LiteGraph,n=new Float32Array(16),r=new Float32Array(16),o=new Float32Array(16),s=new Float32Array(16),a={u_view:n,u_projection:r,u_viewprojection:o,u_model:s};function u(){return 1e5*Math.random()|0}function l(){this.addInput("obj",""),this.addInput("radius","number"),this.addOutput("out","geometry"),this.addOutput("points","[vec3]"),this.properties={radius:1,num_points:4096,generate_normals:!0,regular:!1,mode:l.SPHERE,force_update:!1},this.points=new Float32Array(3*this.properties.num_points),this.normals=new Float32Array(3*this.properties.num_points),this.must_update=!0,this.version=0;var t=this;this.addWidget("button","update",null,function(){t.must_update=!0}),this.geometry={vertices:null,_id:u()},this._old_obj=null,this._last_radius=null}function c(t,e){var n=t.length,r=0,i=0,o=n;if(0==n)return-1;if(1==n)return 0;for(;o>=r;){var s=t[i=.5*(o+r)|0];if(s==e)return i;if(r==o-1)return r;s<e?r=i:o=i}return i}function p(){this.addInput("points","geometry"),this.addOutput("instances","[mat4]"),this.properties={mode:1},this.must_update=!0,this.matrices=[]}function h(){this.addInput("in","geometry,[mat4]"),this.addInput("mat4","mat4"),this.addOutput("out","geometry"),this.properties={},this.geometry={type:"triangles",vertices:null,_id:u()},this._last_geometry_id=-1,this._last_version=-1,this._last_key="",this.must_update=!0}function d(){this.addInput("sides","number"),this.addInput("radius","number"),this.addOutput("out","geometry"),this.properties={sides:6,radius:1},this.geometry={type:"line_loop",vertices:null,_id:u()},this.geometry_id=-1,this.version=-1,this.must_update=!0,this.last_info={sides:-1,radius:-1}}function f(){this.addInput("","geometry"),this.addOutput("","geometry"),this.properties={top_cap:!0,bottom_cap:!0,offset:[0,100,0]},this.version=-1,this._last_geo_version=-1,this._must_update=!0}function g(){this.addInput("in","geometry"),this.addOutput("out","geometry"),this.properties={code:"V[1] += 0.01 * Math.sin(I + T*0.001);",execute_every_frame:!1},this.geometry=null,this.geometry_id=-1,this.version=-1,this.must_update=!0,this.vertices=null,this.func=null}function v(){this.addInput("in","geometry"),this.addOutput("out","geometry"),this.properties={min_dist:.4,max_dist:.5,max_connections:0,probability:1},this.geometry_id=-1,this.version=-1,this.my_version=1,this.must_update=!0}function _(){this.addInput("mesh","mesh"),this.addOutput("out","geometry"),this.geometry={},this.last_mesh=null}function m(){this.addInput("in","geometry"),this.addOutput("mesh","mesh"),this.properties={},this.version=-1,this.mesh=null}function y(){this.addInput("mesh","mesh"),this.addInput("mat4","mat4"),this.addInput("tex","texture"),this.properties={enabled:!0,primitive:GL.TRIANGLES,additive:!1,color:[1,1,1],opacity:1},this.color=vec4.create([1,1,1,1]),this.model_matrix=mat4.create(),this.uniforms={u_color:this.color,u_model:this.model_matrix}}function b(){this.addInput("size","number"),this.addOutput("out","mesh"),this.properties={type:1,size:1,subdivisions:32},this.version=1e5*Math.random()|0,this.last_info={type:-1,size:-1,subdivisions:-1}}function x(){this.addInput("in","geometry"),this.addInput("mat4","mat4"),this.addInput("tex","texture"),this.properties={enabled:!0,point_size:.1,fixed_size:!1,additive:!0,color:[1,1,1],opacity:1},this.color=vec4.create([1,1,1,1]),this.uniforms={u_point_size:1,u_perspective:1,u_point_perspective:1,u_color:this.color},this.geometry_id=-1,this.version=-1,this.mesh=null}e.LGraphRender={onRequestCameraMatrices:null},t.LGraphPoints3D=l,l.RECTANGLE=1,l.CIRCLE=2,l.CUBE=10,l.SPHERE=11,l.HEMISPHERE=12,l.INSIDE_SPHERE=13,l.OBJECT=20,l.OBJECT_UNIFORMLY=21,l.MODE_VALUES={rectangle:l.RECTANGLE,circle:l.CIRCLE,cube:l.CUBE,sphere:l.SPHERE,hemisphere:l.HEMISPHERE,inside_sphere:l.INSIDE_SPHERE,object:l.OBJECT,object_uniformly:l.OBJECT_UNIFORMLY},l.widgets_info={mode:{widget:"combo",values:l.MODE_VALUES}},l.title="list of points",l.desc="returns an array of points",l.prototype.onPropertyChanged=function(t,e){this.must_update=!0},l.prototype.onExecute=function(){var t=this.getInputData(0);(t!=this._old_obj||t&&t._version!=this._old_obj_version)&&(this._old_obj=t,this.must_update=!0);var e=this.getInputData(1);null==e&&(e=this.properties.radius),this._last_radius!=e&&(this._last_radius=e,this.must_update=!0),(this.must_update||this.properties.force_update)&&(this.must_update=!1,this.updatePoints()),this.geometry.vertices=this.points,this.geometry.normals=this.normals,this.geometry._version=this.version,this.setOutputData(0,this.geometry)},l.prototype.updatePoints=function(){var t=0|this.properties.num_points;t<1&&(t=1),this.points&&this.points.length==3*t||(this.points=new Float32Array(3*t)),this.properties.generate_normals?this.normals&&this.normals.length==this.points.length||(this.normals=new Float32Array(this.points.length)):this.normals=null;var e=this._last_radius||this.properties.radius,n=this.properties.mode,r=this.getInputData(0);this._old_obj_version=r?r._version:null,this.points=l.generatePoints(e,t,n,this.points,this.normals,this.properties.regular,r),this.version++},l.generatePoints=function(t,e,n,r,i,o,s){var a=3*e;r&&r.length==a||(r=new Float32Array(a));var u=new Float32Array(3),c=new Float32Array([0,1,0]);if(o){if(n==l.RECTANGLE){for(var p=Math.floor(Math.sqrt(e)),h=0;h<p;++h)for(var d=0;d<p;++d){r[f=3*h+3*d*p]=(h/p-.5)*t*2,r[f+1]=0,r[f+2]=(d/p-.5)*t*2}if(r=new Float32Array(r.subarray(0,p*p*3)),i)for(h=0;h<i.length;h+=3)i.set(h,c)}else if(n==l.SPHERE){for(p=Math.floor(Math.sqrt(e)),h=0;h<p;++h)for(d=0;d<p;++d){var f=3*h+3*d*p;polarToCartesian(u,h/p*2*Math.PI,2*(d/p-.5)*Math.PI,t),r[f]=u[0],r[f+1]=u[1],r[f+2]=u[2]}r=new Float32Array(r.subarray(0,p*p*3)),i&&l.generateSphericalNormals(r,i)}else if(n==l.CIRCLE){for(h=0;h<a;h+=3){var g=2*Math.PI*(h/a);r[h]=Math.cos(g)*t,r[h+1]=0,r[h+2]=Math.sin(g)*t}if(i)for(h=0;h<i.length;h+=3)i.set(h,c)}}else if(n==l.RECTANGLE){for(h=0;h<a;h+=3)r[h]=(Math.random()-.5)*t*2,r[h+1]=0,r[h+2]=(Math.random()-.5)*t*2;if(i)for(h=0;h<i.length;h+=3)i.set(h,c)}else if(n==l.CUBE){for(h=0;h<a;h+=3)r[h]=(Math.random()-.5)*t*2,r[h+1]=(Math.random()-.5)*t*2,r[h+2]=(Math.random()-.5)*t*2;if(i)for(h=0;h<i.length;h+=3)i.set(h,c)}else n==l.SPHERE?(l.generateSphere(r,a,t),i&&l.generateSphericalNormals(r,i)):n==l.HEMISPHERE?(l.generateHemisphere(r,a,t),i&&l.generateSphericalNormals(r,i)):n==l.CIRCLE?(l.generateInsideCircle(r,a,t),i&&l.generateSphericalNormals(r,i)):n==l.INSIDE_SPHERE?(l.generateInsideSphere(r,a,t),i&&l.generateSphericalNormals(r,i)):n==l.OBJECT?l.generateFromObject(r,i,a,s,!1):n==l.OBJECT_UNIFORMLY?l.generateFromObject(r,i,a,s,!0):console.warn("wrong mode in LGraphPoints3D");return r},l.generateSphericalNormals=function(t,e){for(var n=new Float32Array(3),r=0;r<e.length;r+=3)n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],vec3.normalize(n,n),e.set(n,r)},l.generateSphere=function(t,e,n){for(var r=0;r<e;r+=3){var i=Math.random(),o=Math.random(),s=2*Math.cos(2*Math.PI*i)*Math.sqrt(o*(1-o)),a=1-2*o,u=2*Math.sin(2*Math.PI*i)*Math.sqrt(o*(1-o));t[r]=s*n,t[r+1]=a*n,t[r+2]=u*n}},l.generateHemisphere=function(t,e,n){for(var r=0;r<e;r+=3){var i=Math.random(),o=Math.random(),s=Math.cos(2*Math.PI*i)*Math.sqrt(1-o*o),a=o,u=Math.sin(2*Math.PI*i)*Math.sqrt(1-o*o);t[r]=s*n,t[r+1]=a*n,t[r+2]=u*n}},l.generateInsideCircle=function(t,e,n){for(var r=0;r<e;r+=3){var i=Math.random(),o=Math.random(),s=Math.cos(2*Math.PI*i)*Math.sqrt(1-o*o),a=Math.sin(2*Math.PI*i)*Math.sqrt(1-o*o);t[r]=s*n,t[r+1]=0,t[r+2]=a*n}},l.generateInsideSphere=function(t,e,n){for(var r=0;r<e;r+=3){var i=Math.random(),o=Math.random(),s=2*i*Math.PI,a=Math.acos(2*o-1),u=Math.cbrt(Math.random())*n,l=Math.sin(s),c=Math.cos(s),p=Math.sin(a),h=Math.cos(a);t[r]=u*p*c,t[r+1]=u*p*l,t[r+2]=u*h}},l.generateFromObject=function(t,e,n,r,i){if(r){var o=null,s=null,a=null,u=null;if(r.constructor===GL.Mesh&&(o=r.vertexBuffers.vertices.data,s=r.vertexBuffers.normals?r.vertexBuffers.normals.data:null,(a=r.indexBuffers.indices?r.indexBuffers.indices.data:null)||(a=r.indexBuffers.triangles?r.indexBuffers.triangles.data:null)),!o)return null;var l=a?a.length/3:o.length/9,p=0;if(i){u=new Float32Array(l);for(var h=0;h<l;++h){a?(E=3*a[3*h],w=3*a[3*h+1],T=3*a[3*h+2]):(E=9*h,w=9*h+3,T=9*h+6);var d=o.subarray(E,E+3),f=o.subarray(w,w+3),g=o.subarray(T,T+3),v=vec3.distance(d,f),_=vec3.distance(f,g),m=vec3.distance(g,d),y=(v+_+m)/2;p+=Math.sqrt(y*(y-v)*(y-_)*(y-m)),u[h]=p}for(h=0;h<l;++h)u[h]/=p}for(h=0;h<n;h+=3){var b=Math.random(),x=i?c(u,b):Math.floor(b*l),E=0,w=0,T=0;a?(E=3*a[3*x],w=3*a[3*x+1],T=3*a[3*x+2]):(E=9*x,w=9*x+3,T=9*x+6);y=Math.random();var O=Math.random(),C=Math.sqrt(y),S=1-C,k=C*(1-O),I=O*C;if(t[h]=S*o[E]+k*o[w]+I*o[T],t[h+1]=S*o[E+1]+k*o[w+1]+I*o[T+1],t[h+2]=S*o[E+2]+k*o[w+2]+I*o[T+2],e&&s){e[h]=S*s[E]+k*s[w]+I*s[T],e[h+1]=S*s[E+1]+k*s[w+1]+I*s[T+1],e[h+2]=S*s[E+2]+k*s[w+2]+I*s[T+2];var A=e.subarray(h,h+3);vec3.normalize(A,A)}}}},e.registerNodeType("geometry/points3D",l),p.NORMAL=0,p.VERTICAL=1,p.SPHERICAL=2,p.RANDOM=3,p.RANDOM_VERTICAL=4,p.modes={normal:0,vertical:1,spherical:2,random:3,random_vertical:4},p.widgets_info={mode:{widget:"combo",values:p.modes}},p.title="points to inst",p.prototype.onExecute=function(){var t=this.getInputData(0);t?this.isOutputConnected(0)&&(t._version==this._version&&t._id==this._geometry_id||this.updateInstances(t),this.setOutputData(0,this.matrices)):this.setOutputData(0,null)},p.prototype.updateInstances=function(t){var e=t.vertices;if(!e)return null;var n=t.normals,r=this.matrices,i=e.length/3;r.length!=i&&(r.length=i);for(var o=mat4.create(),s=vec3.create(),a=(vec3.create(),vec3.fromValues(0,1,0)),u=vec3.fromValues(0,0,-1),l=(vec3.fromValues(1,0,0),quat.create()),c=vec3.create(),h=vec3.create(),d=vec3.create(),f=0;f<e.length;f+=3){var g=f/3,v=r[g];v||(v=r[g]=mat4.create()),v.set(o);var _=e.subarray(f,f+3);switch(this.properties.mode){case p.NORMAL:if(mat4.setTranslation(v,_),n){var m=n.subarray(f,f+3);d.set(m),vec3.normalize(d,d),vec3.cross(h,u,d),vec3.normalize(h,h),vec3.cross(c,h,d),vec3.normalize(c,c),v.set(h,0),v.set(d,4),v.set(c,8),mat4.setTranslation(v,_)}break;case p.VERTICAL:mat4.setTranslation(v,_);break;case p.SPHERICAL:c.set(_),vec3.normalize(c,c),vec3.cross(h,a,c),vec3.normalize(h,h),vec3.cross(d,c,h),vec3.normalize(d,d),v.set(h,0),v.set(d,4),v.set(c,8),mat4.setTranslation(v,_);break;case p.RANDOM:s[0]=2*Math.random()-1,s[1]=2*Math.random()-1,s[2]=2*Math.random()-1,vec3.normalize(s,s),quat.setAxisAngle(l,s,2*Math.random()*Math.PI),mat4.fromQuat(v,l),mat4.setTranslation(v,_);break;case p.RANDOM_VERTICAL:quat.setAxisAngle(l,a,2*Math.random()*Math.PI),mat4.fromQuat(v,l),mat4.setTranslation(v,_)}}this._version=t._version,this._geometry_id=t._id},e.registerNodeType("geometry/points_to_instances",p),h.title="Transform",h.prototype.onExecute=function(){var t=this.getInputData(0),e=this.getInputData(1);if(t)if(t.constructor!==Array){if(t.vertices&&t.vertices.length){var n=t;if(this.outputs[0].type="geometry",this.isOutputConnected(0))if(e){var r=typedArrayToArray(e).join(",");(this.must_update||n._id!=this._last_geometry_id||n._version!=this._last_version||r!=this._last_key)&&(this.updateGeometry(n,e),this._last_key=r,this._last_version=n._version,this._last_geometry_id=n._id,this.must_update=!1),this.setOutputData(0,this.geometry)}else this.setOutputData(0,n)}}else{if(0==t.length)return;if(this.outputs[0].type="[mat4]",!this.isOutputConnected(0))return;if(!e)return void this.setOutputData(0,t);this._output||(this._output=new Array),this._output.length!=t.length&&(this._output.length=t.length);for(var i=0;i<t.length;++i){var o=this._output[i];o||(o=this._output[i]=mat4.create()),mat4.multiply(o,t[i],e)}this.setOutputData(0,this._output)}},h.prototype.updateGeometry=function(t,e){var n=t.vertices,r=this.geometry.vertices;r&&r.length==n.length||(r=this.geometry.vertices=new Float32Array(n.length));for(var i=vec3.create(),o=0,s=r.length;o<s;o+=3)i[0]=n[o],i[1]=n[o+1],i[2]=n[o+2],mat4.multiplyVec3(i,e,i),r[o]=i[0],r[o+1]=i[1],r[o+2]=i[2];if(t.normals){this.geometry.normals&&this.geometry.normals.length==t.normals.length||(this.geometry.normals=new Float32Array(t.normals.length));var a=this.geometry.normals,u=mat4.invert(mat4.create(),e);u&&mat4.transpose(u,u);var l=t.normals;for(o=0,s=a.length;o<s;o+=3)i[0]=l[o],i[1]=l[o+1],i[2]=l[o+2],mat4.multiplyVec3(i,u,i),a[o]=i[0],a[o+1]=i[1],a[o+2]=i[2]}this.geometry.type=t.type,this.geometry._version++},e.registerNodeType("geometry/transform",h),d.title="Polygon",d.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=this.getInputOrProperty("sides"),e=this.getInputOrProperty("radius");t=0|Math.max(3,t),this.last_info.sides==t&&this.last_info.radius==e||this.updateGeometry(t,e),this.setOutputData(0,this.geometry)}},d.prototype.updateGeometry=function(t,e){var n=3*t,r=this.geometry.vertices;r&&r.length==n||(r=this.geometry.vertices=new Float32Array(3*t));for(var i=2*Math.PI/t,o=0;o<t;++o){var s=i*-o,a=Math.cos(s)*e,u=Math.sin(s)*e;r[3*o]=a,r[3*o+1]=0,r[3*o+2]=u}this.geometry._id=++this.geometry_id,this.geometry._version=++this.version,this.last_info.sides=t,this.last_info.radius=e},e.registerNodeType("geometry/polygon",d),f.title="extrude",f.prototype.onPropertyChanged=function(t,e){this._must_update=!0},f.prototype.onExecute=function(){var t=this.getInputData(0);t&&this.isOutputConnected(0)&&((t.version!=this._last_geo_version||this._must_update)&&(this._geo=this.extrudeGeometry(t,this._geo),this._geo&&(this._geo.version=this.version++),this._must_update=!1),this.setOutputData(0,this._geo))},f.prototype.extrudeGeometry=function(t){var e=t.vertices,n=e.length/3,r=vec3.create(),i=vec3.create(),o=vec3.create(),s=vec3.create(),a=new Float32Array(this.properties.offset);if("line_loop"==t.type)for(var l=new Float32Array(6*n*3),c=0,p=0,h=e.length;p<h;p+=3)r[0]=e[p],r[1]=e[p+1],r[2]=e[p+2],p+3<h?(i[0]=e[p+3],i[1]=e[p+4],i[2]=e[p+5]):(i[0]=e[0],i[1]=e[1],i[2]=e[2]),vec3.add(o,r,a),vec3.add(s,i,a),l.set(r,c),c+=3,l.set(i,c),c+=3,l.set(o,c),c+=3,l.set(i,c),c+=3,l.set(s,c),c+=3,l.set(o,c),c+=3;return{_id:u(),type:"triangles",vertices:l}},e.registerNodeType("geometry/extrude",f),g.title="geoeval",g.desc="eval code",g.widgets_info={code:{widget:"code"}},g.prototype.onConfigure=function(t){this.compileCode()},g.prototype.compileCode=function(){if(this.properties.code)try{this.func=new Function("V","I","T",this.properties.code),this.boxcolor="#AFA",this.must_update=!0}catch(t){this.boxcolor="red"}},g.prototype.onPropertyChanged=function(t,e){"code"==t&&(this.properties.code=e,this.compileCode())},g.prototype.onExecute=function(){var t=this.getInputData(0);if(t)if(this.func){if(this.geometry_id!=t._id||this.version!=t._version||this.must_update||this.properties.execute_every_frame){this.must_update=!1,this.geometry_id=t._id,this.properties.execute_every_frame?this.version++:this.version=t._version;var e=this.func,n=getTime();for(var r in this.geometry||(this.geometry={}),t)null!=t[r]&&(t[r].constructor==Float32Array?this.geometry[r]=new Float32Array(t[r]):this.geometry[r]=t[r]);this.geometry._id=t._id,this.properties.execute_every_frame?this.geometry._version=this.version:this.geometry._version=t._version+1;var i=vec3.create(),o=this.vertices;o&&this.vertices.length==t.vertices.length?o.set(t.vertices):o=this.vertices=new Float32Array(t.vertices);for(r=0;r<o.length;r+=3)i[0]=o[r],i[1]=o[r+1],i[2]=o[r+2],e(i,r/3,n),o[r]=i[0],o[r+1]=i[1],o[r+2]=i[2];this.geometry.vertices=o}this.setOutputData(0,this.geometry)}else this.setOutputData(0,t)},e.registerNodeType("geometry/eval",g),v.title="connect points",v.desc="adds indices between near points",v.prototype.onPropertyChanged=function(t,e){this.must_update=!0},v.prototype.onExecute=function(){var t=this.getInputData(0);if(t){if(this.geometry_id!=t._id||this.version!=t._version||this.must_update){for(var e in this.must_update=!1,this.geometry_id=t._id,this.version=t._version,this.geometry={},t)this.geometry[e]=t[e];this.geometry._id=u(),this.geometry._version=this.my_version++;var n=t.vertices,r=n.length,i=this.properties.min_dist,o=this.properties.max_dist,s=this.properties.probability,a=this.properties.max_connections,l=[];for(e=0;e<r;e+=3)for(var c=n[e],p=n[e+1],h=n[e+2],d=0,f=e+3;f<r;f+=3){var g=n[f],v=n[f+1],_=n[f+2],m=Math.sqrt((c-g)*(c-g)+(p-v)*(p-v)+(h-_)*(h-_));if(!(m>o||m<i||s<1&&s<Math.random())&&(l.push(e/3,f/3),d+=1,a&&d>a))break}this.geometry.indices=this.indices=new Uint32Array(l)}this.indices&&this.indices.length?(this.geometry.indices=this.indices,this.setOutputData(0,this.geometry)):this.setOutputData(0,null)}},e.registerNodeType("geometry/connectPoints",v),"undefined"!=typeof GL&&(_.title="to geometry",_.desc="converts a mesh to geometry",_.prototype.onExecute=function(){var t=this.getInputData(0);if(t){if(t!=this.last_mesh){for(i in this.last_mesh=t,t.vertexBuffers){var e=t.vertexBuffers[i];this.geometry[i]=e.data}t.indexBuffers.triangles&&(this.geometry.indices=t.indexBuffers.triangles.data),this.geometry._id=u(),this.geometry._version=0}this.setOutputData(0,this.geometry),this.geometry&&this.setOutputData(1,this.geometry.vertices)}},e.registerNodeType("geometry/toGeometry",_),m.title="Geo to Mesh",m.prototype.updateMesh=function(t){for(var e in this.mesh||(this.mesh=new GL.Mesh),t)if("_"!=e[0]){var n=t[e],r=GL.Mesh.common_buffers[e];if(r||"indices"==e){var i=r?r.spacing:3,o=this.mesh.vertexBuffers[e];o&&o.data.length==n.length?(o.data.set(n),o.upload(GL.DYNAMIC_DRAW)):o=new GL.Buffer("indices"==e?GL.ELEMENT_ARRAY_BUFFER:GL.ARRAY_BUFFER,n,i,GL.DYNAMIC_DRAW),this.mesh.addBuffer(e,o)}}if(this.mesh.vertexBuffers.normals&&this.mesh.vertexBuffers.normals.data.length!=this.mesh.vertexBuffers.vertices.data.length){var s=new Float32Array([0,1,0]),a=new Float32Array(this.mesh.vertexBuffers.vertices.data.length);for(e=0;e<a.length;e+=3)a.set(s,e);o=new GL.Buffer(GL.ARRAY_BUFFER,a,3),this.mesh.addBuffer("normals",o)}return this.mesh.updateBoundingBox(),this.geometry_id=this.mesh.id=t._id,this.version=this.mesh.version=t._version,this.mesh},m.prototype.onExecute=function(){var t=this.getInputData(0);t&&(this.version==t._version&&this.geometry_id==t._id||this.updateMesh(t),this.setOutputData(0,this.mesh))},e.registerNodeType("geometry/toMesh",m),y.title="Render Mesh",y.desc="renders a mesh flat",y.PRIMITIVE_VALUES={points:GL.POINTS,lines:GL.LINES,line_loop:GL.LINE_LOOP,line_strip:GL.LINE_STRIP,triangles:GL.TRIANGLES,triangle_fan:GL.TRIANGLE_FAN,triangle_strip:GL.TRIANGLE_STRIP},y.widgets_info={primitive:{widget:"combo",values:y.PRIMITIVE_VALUES},color:{widget:"color"}},y.prototype.onExecute=function(){if(this.properties.enabled){var t=this.getInputData(0);if(t)if(e.LGraphRender.onRequestCameraMatrices){e.LGraphRender.onRequestCameraMatrices(n,r,o);var i=null;this.getInputData(2)?(i=gl.shaders.textured)||(i=gl.shaders.textured=new GL.Shader(x.vertex_shader_code,x.fragment_shader_code,{USE_TEXTURE:""})):(i=gl.shaders.flat)||(i=gl.shaders.flat=new GL.Shader(x.vertex_shader_code,x.fragment_shader_code)),this.color.set(this.properties.color),this.color[3]=this.properties.opacity;var s=this.model_matrix,u=this.getInputData(1);u?s.set(u):mat4.identity(s),this.uniforms.u_point_size=1;var l=this.properties.primitive;i.uniforms(a),i.uniforms(this.uniforms),this.properties.opacity>=1?gl.disable(gl.BLEND):gl.enable(gl.BLEND),gl.enable(gl.DEPTH_TEST),this.properties.additive?(gl.blendFunc(gl.SRC_ALPHA,gl.ONE),gl.depthMask(!1)):gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA);var c="indices";t.indexBuffers.triangles&&(c="triangles"),i.draw(t,l,c),gl.disable(gl.BLEND),gl.depthMask(!0)}else console.warn("cannot render geometry, LiteGraph.onRequestCameraMatrices is null, remember to fill this with a callback(view_matrix, projection_matrix,viewprojection_matrix) to use 3D rendering from the graph")}},e.registerNodeType("geometry/render_mesh",y),b.title="Primitive",b.VALID={CUBE:1,PLANE:2,CYLINDER:3,SPHERE:4,CIRCLE:5,HEMISPHERE:6,ICOSAHEDRON:7,CONE:8,QUAD:9},b.widgets_info={type:{widget:"combo",values:b.VALID}},b.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=this.getInputOrProperty("size");this.last_info.type==this.properties.type&&this.last_info.size==t&&this.last_info.subdivisions==this.properties.subdivisions||this.updateMesh(this.properties.type,t,this.properties.subdivisions),this.setOutputData(0,this._mesh)}},b.prototype.updateMesh=function(t,e,n){switch(n=0|Math.max(0,n),t){case 1:this._mesh=GL.Mesh.cube({size:e,normals:!0,coords:!0});break;case 2:this._mesh=GL.Mesh.plane({size:e,xz:!0,detail:n,normals:!0,coords:!0});break;case 3:this._mesh=GL.Mesh.cylinder({size:e,subdivisions:n,normals:!0,coords:!0});break;case 4:this._mesh=GL.Mesh.sphere({size:e,long:n,lat:n,normals:!0,coords:!0});break;case 5:this._mesh=GL.Mesh.circle({size:e,slices:n,normals:!0,coords:!0});break;case 6:this._mesh=GL.Mesh.sphere({size:e,long:n,lat:n,normals:!0,coords:!0,hemi:!0});break;case 7:this._mesh=GL.Mesh.icosahedron({size:e,subdivisions:n});break;case 8:this._mesh=GL.Mesh.cone({radius:e,height:e,subdivisions:n});break;case 9:this._mesh=GL.Mesh.plane({size:e,xz:!1,detail:n,normals:!0,coords:!0})}this.last_info.type=t,this.last_info.size=e,this.last_info.subdivisions=n,this._mesh.version=this.version++},e.registerNodeType("geometry/mesh_primitive",b),x.title="renderPoints",x.desc="render points with a texture",x.widgets_info={color:{widget:"color"}},x.prototype.updateMesh=function(t){this.buffer;this.buffer&&this.buffer.data&&this.buffer.data.length==t.vertices.length?(this.buffer.data.set(t.vertices),this.buffer.upload(GL.DYNAMIC_DRAW)):this.buffer=new GL.Buffer(GL.ARRAY_BUFFER,t.vertices,3,GL.DYNAMIC_DRAW),this.mesh||(this.mesh=new GL.Mesh),this.mesh.addBuffer("vertices",this.buffer),this.geometry_id=this.mesh.id=t._id,this.version=this.mesh.version=t._version},x.prototype.onExecute=function(){if(this.properties.enabled){var t=this.getInputData(0);if(t)if(this.version==t._version&&this.geometry_id==t._id||this.updateMesh(t),e.LGraphRender.onRequestCameraMatrices){e.LGraphRender.onRequestCameraMatrices(n,r,o);var i=null;this.getInputData(2)?(i=gl.shaders.textured_points)||(i=gl.shaders.textured_points=new GL.Shader(x.vertex_shader_code,x.fragment_shader_code,{USE_TEXTURED_POINTS:""})):(i=gl.shaders.points)||(i=gl.shaders.points=new GL.Shader(x.vertex_shader_code,x.fragment_shader_code,{USE_POINTS:""})),this.color.set(this.properties.color),this.color[3]=this.properties.opacity;var u=this.getInputData(1);u?s.set(u):mat4.identity(s),this.uniforms.u_point_size=this.properties.point_size,this.uniforms.u_point_perspective=this.properties.fixed_size?0:1,this.uniforms.u_perspective=gl.viewport_data[3]*r[5],i.uniforms(a),i.uniforms(this.uniforms),this.properties.opacity>=1?gl.disable(gl.BLEND):gl.enable(gl.BLEND),gl.enable(gl.DEPTH_TEST),this.properties.additive?(gl.blendFunc(gl.SRC_ALPHA,gl.ONE),gl.depthMask(!1)):gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),i.draw(this.mesh,GL.POINTS),gl.disable(gl.BLEND),gl.depthMask(!0)}else console.warn("cannot render geometry, LiteGraph.onRequestCameraMatrices is null, remember to fill this with a callback(view_matrix, projection_matrix,viewprojection_matrix) to use 3D rendering from the graph")}},e.registerNodeType("geometry/render_points",x),x.vertex_shader_code="\t\tprecision mediump float;\n\t\tattribute vec3 a_vertex;\n\t\tvarying vec3 v_vertex;\n\t\tattribute vec3 a_normal;\n\t\tvarying vec3 v_normal;\n\t\t#ifdef USE_COLOR\n\t\t\tattribute vec4 a_color;\n\t\t\tvarying vec4 v_color;\n\t\t#endif\n\t\tattribute vec2 a_coord;\n\t\tvarying vec2 v_coord;\n\t\t#ifdef USE_SIZE\n\t\t\tattribute float a_extra;\n\t\t#endif\n\t\t#ifdef USE_INSTANCING\n\t\t\tattribute mat4 u_model;\n\t\t#else\n\t\t\tuniform mat4 u_model;\n\t\t#endif\n\t\tuniform mat4 u_viewprojection;\n\t\tuniform float u_point_size;\n\t\tuniform float u_perspective;\n\t\tuniform float u_point_perspective;\n\t\tfloat computePointSize(float radius, float w)\n\t\t{\n\t\t\tif(radius < 0.0)\n\t\t\t\treturn -radius;\n\t\t\treturn u_perspective * radius / w;\n\t\t}\n\t\tvoid main() {\n\t\t\tv_coord = a_coord;\n\t\t\t#ifdef USE_COLOR\n\t\t\t\tv_color = a_color;\n\t\t\t#endif\n\t\t\tv_vertex = ( u_model * vec4( a_vertex, 1.0 )).xyz;\n\t\t\tv_normal = ( u_model * vec4( a_normal, 0.0 )).xyz;\n\t\t\tgl_Position = u_viewprojection * vec4(v_vertex,1.0);\n\t\t\tgl_PointSize = u_point_size;\n\t\t\t#ifdef USE_SIZE\n\t\t\t\tgl_PointSize = a_extra;\n\t\t\t#endif\n\t\t\tif(u_point_perspective != 0.0)\n\t\t\t\tgl_PointSize = computePointSize( gl_PointSize, gl_Position.w );\n\t\t}\t",x.fragment_shader_code="\t\tprecision mediump float;\n\t\tuniform vec4 u_color;\n\t\t#ifdef USE_COLOR\n\t\t\tvarying vec4 v_color;\n\t\t#endif\n\t\tvarying vec2 v_coord;\n\t\tuniform sampler2D u_texture;\n\t\tvoid main() {\n\t\t\tvec4 color = u_color;\n\t\t\t#ifdef USE_TEXTURED_POINTS\n\t\t\t\tcolor *= texture2D(u_texture, gl_PointCoord.xy);\n\t\t\t#else\n\t\t\t\t#ifdef USE_TEXTURE\n\t\t\t\t  color *= texture2D(u_texture, v_coord);\n\t\t\t\t  if(color.a < 0.1)\n\t\t\t\t\tdiscard;\n\t\t\t\t#endif\n\t\t\t\t#ifdef USE_POINTS\n\t\t\t\t\tfloat dist = length( gl_PointCoord.xy - vec2(0.5) );\n\t\t\t\t\tif( dist > 0.45 )\n\t\t\t\t\t\tdiscard;\n\t\t\t\t#endif\n\t\t\t#endif\n\t\t\t#ifdef USE_COLOR\n\t\t\t\tcolor *= v_color;\n\t\t\t#endif\n\t\t\tgl_FragColor = color;\n\t\t}\t")}(this),function(t){var e=t.LiteGraph;if("undefined"!=typeof GL){var n=function t(){this.addInput("Texture","Texture"),this.addInput("Aberration","number"),this.addInput("Distortion","number"),this.addInput("Blur","number"),this.addOutput("Texture","Texture"),this.properties={aberration:1,distortion:1,blur:1,precision:LGraphTexture.DEFAULT},t._shader||(t._shader=new GL.Shader(GL.Shader.SCREEN_VERTEX_SHADER,t.pixel_shader),t._texture=new GL.Texture(3,1,{format:gl.RGB,wrap:gl.CLAMP_TO_EDGE,magFilter:gl.LINEAR,minFilter:gl.LINEAR,pixel_data:[255,0,0,0,255,0,0,0,255]}))},r=function(){this.addInput("Texture","Texture"),this.addInput("Blurred","Texture"),this.addInput("Mask","Texture"),this.addInput("Threshold","number"),this.addOutput("Texture","Texture"),this.properties={shape:"",size:10,alpha:1,threshold:1,high_precision:!1}},i=function(){this.addInput("Texture","Texture"),this.addInput("value1","number"),this.addInput("value2","number"),this.addOutput("Texture","Texture"),this.properties={fx:"halftone",value1:1,value2:1,precision:LGraphTexture.DEFAULT}},o=function t(){this.addInput("Tex.","Texture"),this.addInput("intensity","number"),this.addOutput("Texture","Texture"),this.properties={intensity:1,invert:!1,precision:LGraphTexture.DEFAULT},t._shader||(t._shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,t.pixel_shader))};n.title="Lens",n.desc="Camera Lens distortion",n.widgets_info={precision:{widget:"combo",values:LGraphTexture.MODE_VALUES}},n.prototype.onExecute=function(){var t=this.getInputData(0);if(this.properties.precision!==LGraphTexture.PASS_THROUGH){if(t){this._tex=LGraphTexture.getTargetTexture(t,this._tex,this.properties.precision);var e=this.properties.aberration;this.isInputConnected(1)&&(e=this.getInputData(1),this.properties.aberration=e);var r=this.properties.distortion;this.isInputConnected(2)&&(r=this.getInputData(2),this.properties.distortion=r);var i=this.properties.blur;this.isInputConnected(3)&&(i=this.getInputData(3),this.properties.blur=i),gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST);var o=Mesh.getScreenQuad(),s=n._shader;this._tex.drawTo(function(){t.bind(0),s.uniforms({u_texture:0,u_aberration:e,u_distortion:r,u_blur:i}).draw(o)}),this.setOutputData(0,this._tex)}}else this.setOutputData(0,t)},n.pixel_shader="precision highp float;\n\t\t\tprecision highp float;\n\t\t\tvarying vec2 v_coord;\n\t\t\tuniform sampler2D u_texture;\n\t\t\tuniform vec2 u_camera_planes;\n\t\t\tuniform float u_aberration;\n\t\t\tuniform float u_distortion;\n\t\t\tuniform float u_blur;\n\t\t\t\n\t\t\tvoid main() {\n\t\t\t\tvec2 coord = v_coord;\n\t\t\t\tfloat dist = distance(vec2(0.5), coord);\n\t\t\t\tvec2 dist_coord = coord - vec2(0.5);\n\t\t\t\tfloat percent = 1.0 + ((0.5 - dist) / 0.5) * u_distortion;\n\t\t\t\tdist_coord *= percent;\n\t\t\t\tcoord = dist_coord + vec2(0.5);\n\t\t\t\tvec4 color = texture2D(u_texture,coord, u_blur * dist);\n\t\t\t\tcolor.r = texture2D(u_texture,vec2(0.5) + dist_coord * (1.0+0.01*u_aberration), u_blur * dist ).r;\n\t\t\t\tcolor.b = texture2D(u_texture,vec2(0.5) + dist_coord * (1.0-0.01*u_aberration), u_blur * dist ).b;\n\t\t\t\tgl_FragColor = color;\n\t\t\t}\n\t\t\t",e.registerNodeType("fx/lens",n),t.LGraphFXLens=n,r.title="Bokeh",r.desc="applies an Bokeh effect",r.widgets_info={shape:{widget:"texture"}},r.prototype.onExecute=function(){var t=this.getInputData(0),e=this.getInputData(1),n=this.getInputData(2);if(t&&n&&this.properties.shape){e||(e=t);var i=LGraphTexture.getTexture(this.properties.shape);if(i){var o=this.properties.threshold;this.isInputConnected(3)&&(o=this.getInputData(3),this.properties.threshold=o);var s=gl.UNSIGNED_BYTE;this.properties.high_precision&&(s=gl.half_float_ext?gl.HALF_FLOAT_OES:gl.FLOAT),this._temp_texture&&this._temp_texture.type==s&&this._temp_texture.width==t.width&&this._temp_texture.height==t.height||(this._temp_texture=new GL.Texture(t.width,t.height,{type:s,format:gl.RGBA,filter:gl.LINEAR}));this.properties.size;var a=r._first_shader;a||(a=r._first_shader=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,r._first_pixel_shader));var u=r._second_shader;u||(u=r._second_shader=new GL.Shader(r._second_vertex_shader,r._second_pixel_shader));var l=this._points_mesh;l&&l._width==t.width&&l._height==t.height&&2==l._spacing||(l=this.createPointsMesh(t.width,t.height,2));var c=Mesh.getScreenQuad(),p=this.properties.size,h=(this.properties.min_light,this.properties.alpha);gl.disable(gl.DEPTH_TEST),gl.disable(gl.BLEND),this._temp_texture.drawTo(function(){t.bind(0),e.bind(1),n.bind(2),a.uniforms({u_texture:0,u_texture_blur:1,u_mask:2,u_texsize:[t.width,t.height]}).draw(c)}),this._temp_texture.drawTo(function(){gl.enable(gl.BLEND),gl.blendFunc(gl.ONE,gl.ONE),t.bind(0),i.bind(3),u.uniforms({u_texture:0,u_mask:2,u_shape:3,u_alpha:h,u_threshold:o,u_pointSize:p,u_itexsize:[1/t.width,1/t.height]}).draw(l,gl.POINTS)}),this.setOutputData(0,this._temp_texture)}}else this.setOutputData(0,t)},r.prototype.createPointsMesh=function(t,e,n){for(var r=Math.round(t/n),i=Math.round(e/n),o=new Float32Array(r*i*2),s=-1,a=2/t*n,u=2/e*n,l=0;l<i;++l){for(var c=-1,p=0;p<r;++p){var h=l*r*2+2*p;o[h]=c,o[h+1]=s,c+=a}s+=u}return this._points_mesh=GL.Mesh.load({vertices2D:o}),this._points_mesh._width=t,this._points_mesh._height=e,this._points_mesh._spacing=n,this._points_mesh},r._first_pixel_shader="precision highp float;\n\t\t\tprecision highp float;\n\t\t\tvarying vec2 v_coord;\n\t\t\tuniform sampler2D u_texture;\n\t\t\tuniform sampler2D u_texture_blur;\n\t\t\tuniform sampler2D u_mask;\n\t\t\t\n\t\t\tvoid main() {\n\t\t\t\tvec4 color = texture2D(u_texture, v_coord);\n\t\t\t\tvec4 blurred_color = texture2D(u_texture_blur, v_coord);\n\t\t\t\tfloat mask = texture2D(u_mask, v_coord).x;\n\t\t\t   gl_FragColor = mix(color, blurred_color, mask);\n\t\t\t}\n\t\t\t",r._second_vertex_shader="precision highp float;\n\t\t\tattribute vec2 a_vertex2D;\n\t\t\tvarying vec4 v_color;\n\t\t\tuniform sampler2D u_texture;\n\t\t\tuniform sampler2D u_mask;\n\t\t\tuniform vec2 u_itexsize;\n\t\t\tuniform float u_pointSize;\n\t\t\tuniform float u_threshold;\n\t\t\tvoid main() {\n\t\t\t\tvec2 coord = a_vertex2D * 0.5 + 0.5;\n\t\t\t\tv_color = texture2D( u_texture, coord );\n\t\t\t\tv_color += texture2D( u_texture, coord + vec2(u_itexsize.x, 0.0) );\n\t\t\t\tv_color += texture2D( u_texture, coord + vec2(0.0, u_itexsize.y));\n\t\t\t\tv_color += texture2D( u_texture, coord + u_itexsize);\n\t\t\t\tv_color *= 0.25;\n\t\t\t\tfloat mask = texture2D(u_mask, coord).x;\n\t\t\t\tfloat luminance = length(v_color) * mask;\n\t\t\t\t/*luminance /= (u_pointSize*u_pointSize)*0.01 */;\n\t\t\t\tluminance -= u_threshold;\n\t\t\t\tif(luminance < 0.0)\n\t\t\t\t{\n\t\t\t\t\tgl_Position.x = -100.0;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgl_PointSize = u_pointSize;\n\t\t\t\tgl_Position = vec4(a_vertex2D,0.0,1.0);\n\t\t\t}\n\t\t\t",r._second_pixel_shader="precision highp float;\n\t\t\tvarying vec4 v_color;\n\t\t\tuniform sampler2D u_shape;\n\t\t\tuniform float u_alpha;\n\t\t\t\n\t\t\tvoid main() {\n\t\t\t\tvec4 color = texture2D( u_shape, gl_PointCoord );\n\t\t\t\tcolor *= v_color * u_alpha;\n\t\t\t\tgl_FragColor = color;\n\t\t\t}\n",e.registerNodeType("fx/bokeh",r),t.LGraphFXBokeh=r,i.title="FX",i.desc="applies an FX from a list",i.widgets_info={fx:{widget:"combo",values:["halftone","pixelate","lowpalette","noise","gamma"]},precision:{widget:"combo",values:LGraphTexture.MODE_VALUES}},i.shaders={},i.prototype.onExecute=function(){if(this.isOutputConnected(0)){var e=this.getInputData(0);if(this.properties.precision!==LGraphTexture.PASS_THROUGH){if(e){this._tex=LGraphTexture.getTargetTexture(e,this._tex,this.properties.precision);var n=this.properties.value1;this.isInputConnected(1)&&(n=this.getInputData(1),this.properties.value1=n);var r=this.properties.value2;this.isInputConnected(2)&&(r=this.getInputData(2),this.properties.value2=r);var o=this.properties.fx,s=i.shaders[o];if(!s){var a=i["pixel_shader_"+o];if(!a)return;s=i.shaders[o]=new GL.Shader(Shader.SCREEN_VERTEX_SHADER,a)}gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST);var u,l=Mesh.getScreenQuad(),c=t.LS?LS.Renderer._current_camera:null;u=c?[LS.Renderer._current_camera.near,LS.Renderer._current_camera.far]:[1,100];var p=null;"noise"==o&&(p=LGraphTexture.getNoiseTexture()),this._tex.drawTo(function(){e.bind(0),"noise"==o&&p.bind(1),s.uniforms({u_texture:0,u_noise:1,u_size:[e.width,e.height],u_rand:[Math.random(),Math.random()],u_value1:n,u_value2:r,u_camera_planes:u}).draw(l)}),this.setOutputData(0,this._tex)}}else this.setOutputData(0,e)}},i.pixel_shader_halftone="precision highp float;\n\t\t\tvarying vec2 v_coord;\n\t\t\tuniform sampler2D u_texture;\n\t\t\tuniform vec2 u_camera_planes;\n\t\t\tuniform vec2 u_size;\n\t\t\tuniform float u_value1;\n\t\t\tuniform float u_value2;\n\t\t\t\n\t\t\tfloat pattern() {\n\t\t\t\tfloat s = sin(u_value1 * 3.1415), c = cos(u_value1 * 3.1415);\n\t\t\t\tvec2 tex = v_coord * u_size.xy;\n\t\t\t\tvec2 point = vec2(\n\t\t\t\t   c * tex.x - s * tex.y ,\n\t\t\t\t   s * tex.x + c * tex.y \n\t\t\t\t) * u_value2;\n\t\t\t\treturn (sin(point.x) * sin(point.y)) * 4.0;\n\t\t\t}\n\t\t\tvoid main() {\n\t\t\t\tvec4 color = texture2D(u_texture, v_coord);\n\t\t\t\tfloat average = (color.r + color.g + color.b) / 3.0;\n\t\t\t\tgl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n\t\t\t}\n",i.pixel_shader_pixelate="precision highp float;\n\t\t\tvarying vec2 v_coord;\n\t\t\tuniform sampler2D u_texture;\n\t\t\tuniform vec2 u_camera_planes;\n\t\t\tuniform vec2 u_size;\n\t\t\tuniform float u_value1;\n\t\t\tuniform float u_value2;\n\t\t\t\n\t\t\tvoid main() {\n\t\t\t\tvec2 coord = vec2( floor(v_coord.x * u_value1) / u_value1, floor(v_coord.y * u_value2) / u_value2 );\n\t\t\t\tvec4 color = texture2D(u_texture, coord);\n\t\t\t\tgl_FragColor = color;\n\t\t\t}\n",i.pixel_shader_lowpalette="precision highp float;\n\t\t\tvarying vec2 v_coord;\n\t\t\tuniform sampler2D u_texture;\n\t\t\tuniform vec2 u_camera_planes;\n\t\t\tuniform vec2 u_size;\n\t\t\tuniform float u_value1;\n\t\t\tuniform float u_value2;\n\t\t\t\n\t\t\tvoid main() {\n\t\t\t\tvec4 color = texture2D(u_texture, v_coord);\n\t\t\t\tgl_FragColor = floor(color * u_value1) / u_value1;\n\t\t\t}\n",i.pixel_shader_noise="precision highp float;\n\t\t\tvarying vec2 v_coord;\n\t\t\tuniform sampler2D u_texture;\n\t\t\tuniform sampler2D u_noise;\n\t\t\tuniform vec2 u_size;\n\t\t\tuniform float u_value1;\n\t\t\tuniform float u_value2;\n\t\t\tuniform vec2 u_rand;\n\t\t\t\n\t\t\tvoid main() {\n\t\t\t\tvec4 color = texture2D(u_texture, v_coord);\n\t\t\t\tvec3 noise = texture2D(u_noise, v_coord * vec2(u_size.x / 512.0, u_size.y / 512.0) + u_rand).xyz - vec3(0.5);\n\t\t\t\tgl_FragColor = vec4( color.xyz + noise * u_value1, color.a );\n\t\t\t}\n",i.pixel_shader_gamma="precision highp float;\n\t\t\tvarying vec2 v_coord;\n\t\t\tuniform sampler2D u_texture;\n\t\t\tuniform float u_value1;\n\t\t\t\n\t\t\tvoid main() {\n\t\t\t\tvec4 color = texture2D(u_texture, v_coord);\n\t\t\t\tfloat gamma = 1.0 / u_value1;\n\t\t\t\tgl_FragColor = vec4( pow( color.xyz, vec3(gamma) ), color.a );\n\t\t\t}\n",e.registerNodeType("fx/generic",i),t.LGraphFXGeneric=i,o.title="Vigneting",o.desc="Vigneting",o.widgets_info={precision:{widget:"combo",values:LGraphTexture.MODE_VALUES}},o.prototype.onExecute=function(){var t=this.getInputData(0);if(this.properties.precision!==LGraphTexture.PASS_THROUGH){if(t){this._tex=LGraphTexture.getTargetTexture(t,this._tex,this.properties.precision);var e=this.properties.intensity;this.isInputConnected(1)&&(e=this.getInputData(1),this.properties.intensity=e),gl.disable(gl.BLEND),gl.disable(gl.DEPTH_TEST);var n=Mesh.getScreenQuad(),r=o._shader,i=this.properties.invert;this._tex.drawTo(function(){t.bind(0),r.uniforms({u_texture:0,u_intensity:e,u_isize:[1/t.width,1/t.height],u_invert:i?1:0}).draw(n)}),this.setOutputData(0,this._tex)}}else this.setOutputData(0,t)},o.pixel_shader="precision highp float;\n\t\t\tprecision highp float;\n\t\t\tvarying vec2 v_coord;\n\t\t\tuniform sampler2D u_texture;\n\t\t\tuniform float u_intensity;\n\t\t\tuniform int u_invert;\n\t\t\t\n\t\t\tvoid main() {\n\t\t\t\tfloat luminance = 1.0 - length( v_coord - vec2(0.5) ) * 1.414;\n\t\t\t\tvec4 color = texture2D(u_texture, v_coord);\n\t\t\t\tif(u_invert == 1)\n\t\t\t\t\tluminance = 1.0 - luminance;\n\t\t\t\tluminance = mix(1.0, luminance, u_intensity);\n\t\t\t   gl_FragColor = vec4( luminance * color.xyz, color.a);\n\t\t\t}\n\t\t\t",e.registerNodeType("fx/vigneting",o),t.LGraphFXVigneting=o}}(this),function(t){var e=t.LiteGraph;function n(t){this.channel=0,this.cmd=0,this.data=new Uint32Array(3),t&&this.setup(t)}for(var r in e.MIDIEvent=n,n.prototype.fromJSON=function(t){this.setup(t.data)},n.prototype.setup=function(t){var e=t;t.constructor===Object&&(e=t.data),this.data.set(e);var r=e[0];this.status=r;var i=240&r;this.cmd=r>=240?r:i,this.cmd==n.NOTEON&&0==this.velocity&&(this.cmd=n.NOTEOFF),this.cmd_str=n.commands[this.cmd]||"",(i>=n.NOTEON||i<=n.NOTEOFF)&&(this.channel=15&r)},Object.defineProperty(n.prototype,"velocity",{get:function(){return this.cmd==n.NOTEON?this.data[2]:-1},set:function(t){this.data[2]=t},enumerable:!0}),n.notes=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],n.note_to_index={A:0,"A#":1,B:2,C:3,"C#":4,D:5,"D#":6,E:7,F:8,"F#":9,G:10,"G#":11},Object.defineProperty(n.prototype,"note",{get:function(){return this.cmd!=n.NOTEON?-1:n.toNoteString(this.data[1],!0)},set:function(t){throw"notes cannot be assigned this way, must modify the data[1]"},enumerable:!0}),Object.defineProperty(n.prototype,"octave",{get:function(){if(this.cmd!=n.NOTEON)return-1;var t=this.data[1]-24;return Math.floor(t/12+1)},set:function(t){throw"octave cannot be assigned this way, must modify the data[1]"},enumerable:!0}),n.prototype.getPitch=function(){return 440*Math.pow(2,(this.data[1]-69)/12)},n.computePitch=function(t){return 440*Math.pow(2,(t-69)/12)},n.prototype.getCC=function(){return this.data[1]},n.prototype.getCCValue=function(){return this.data[2]},n.prototype.getPitchBend=function(){return this.data[1]+(this.data[2]<<7)-8192},n.computePitchBend=function(t,e){return t+(e<<7)-8192},n.prototype.setCommandFromString=function(t){this.cmd=n.computeCommandFromString(t)},n.computeCommandFromString=function(t){if(!t)return 0;if(t&&t.constructor===Number)return t;switch(t=t.toUpperCase()){case"NOTE ON":case"NOTEON":return n.NOTEON;case"NOTE OFF":case"NOTEOFF":return n.NOTEON;case"KEY PRESSURE":case"KEYPRESSURE":return n.KEYPRESSURE;case"CONTROLLER CHANGE":case"CONTROLLERCHANGE":case"CC":return n.CONTROLLERCHANGE;case"PROGRAM CHANGE":case"PROGRAMCHANGE":case"PC":return n.PROGRAMCHANGE;case"CHANNEL PRESSURE":case"CHANNELPRESSURE":return n.CHANNELPRESSURE;case"PITCH BEND":case"PITCHBEND":return n.PITCHBEND;case"TIME TICK":case"TIMETICK":return n.TIMETICK;default:return Number(t)}},n.toNoteString=function(t,e){var r=(t=Math.round(t))-21,i=Math.floor((t-24)/12+1);return(r%=12)<0&&(r=12+r),n.notes[r]+(e?"":i)},n.NoteStringToPitch=function(t){var e=(t=t.toUpperCase())[0],r=4;"#"==t[1]?(e+="#",t.length>2&&(r=Number(t[2]))):t.length>1&&(r=Number(t[1]));var i=n.note_to_index[e];return null==i?null:12*(r-1)+i+21},n.prototype.toString=function(){var t=this.channel+". ";switch(this.cmd){case n.NOTEON:t+="NOTEON "+n.toNoteString(this.data[1]);break;case n.NOTEOFF:t+="NOTEOFF "+n.toNoteString(this.data[1]);break;case n.CONTROLLERCHANGE:t+="CC "+this.data[1]+" "+this.data[2];break;case n.PROGRAMCHANGE:t+="PC "+this.data[1];break;case n.PITCHBEND:t+="PITCHBEND "+this.getPitchBend();break;case n.KEYPRESSURE:t+="KEYPRESS "+this.data[1]}return t},n.prototype.toHexString=function(){for(var t=0;t<this.data.length;t++)this.data[t].toString(16)+" "},n.prototype.toJSON=function(){return{data:[this.data[0],this.data[1],this.data[2]],object_class:"MIDIEvent"}},n.NOTEOFF=128,n.NOTEON=144,n.KEYPRESSURE=160,n.CONTROLLERCHANGE=176,n.PROGRAMCHANGE=192,n.CHANNELPRESSURE=208,n.PITCHBEND=224,n.TIMETICK=248,n.commands={128:"note off",144:"note on",160:"key pressure",176:"controller change",192:"program change",208:"channel pressure",224:"pitch bend",240:"system",242:"Song pos",243:"Song select",246:"Tune request",248:"time tick",250:"Start Song",251:"Continue Song",252:"Stop Song",254:"Sensing",255:"Reset"},n.commands_short={128:"NOTEOFF",144:"NOTEOFF",160:"KEYP",176:"CC",192:"PC",208:"CP",224:"PB",240:"SYS",242:"POS",243:"SELECT",246:"TUNEREQ",248:"TT",250:"START",251:"CONTINUE",252:"STOP",254:"SENS",255:"RESET"},n.commands_reversed={},n.commands)n.commands_reversed[n.commands[r]]=r;function i(t,e){if(!navigator.requestMIDIAccess)return this.error="not suppoorted",void(e?e("Not supported"):console.error("MIDI NOT SUPPORTED, enable by chrome://flags"));this.on_ready=t,this.state={note:[],cc:[]},navigator.requestMIDIAccess().then(this.onMIDISuccess.bind(this),this.onMIDIFailure.bind(this))}function o(){this.addOutput("on_midi",e.EVENT),this.addOutput("out","midi"),this.properties={port:0},this._last_midi_event=null,this._current_midi_event=null,this.boxcolor="#AAA",this._last_time=0;var t=this;new i(function(e){t._midi=e,t._waiting&&t.onStart(),t._waiting=!1})}function s(){this.addInput("send",e.EVENT),this.properties={port:0};var t=this;new i(function(e){t._midi=e})}function a(){this.addInput("on_midi",e.EVENT),this._str="",this.size=[200,40]}function u(){this.properties={channel:-1,cmd:-1,min_value:-1,max_value:-1};var t=this;this._learning=!1,this.addWidget("button","Learn","",function(){t._learning=!0,t.boxcolor="#FA3"}),this.addInput("in",e.EVENT),this.addOutput("on_midi",e.EVENT),this.boxcolor="#AAA"}function l(){this.properties={channel:0,cmd:144,value1:1,value2:1},this.addInput("send",e.EVENT),this.addInput("assign",e.EVENT),this.addOutput("on_midi",e.EVENT),this.midi_event=new n,this.gate=!1}function c(){this.properties={cc:1,value:0},this.addOutput("value","number")}function p(){this.addInput("generate",e.ACTION),this.addInput("scale","string"),this.addInput("octave","number"),this.addOutput("note",e.EVENT),this.properties={notes:"A,A#,B,C,C#,D,D#,E,F,F#,G,G#",octave:2,duration:.5,mode:"sequence"},this.notes_pitches=p.processScale(this.properties.notes),this.sequence_index=0}function h(){this.properties={amount:0},this.addInput("in",e.ACTION),this.addInput("amount","number"),this.addOutput("out",e.EVENT),this.midi_event=new n}function d(){this.properties={scale:"A,A#,B,C,C#,D,D#,E,F,F#,G,G#"},this.addInput("note",e.ACTION),this.addInput("scale","string"),this.addOutput("out",e.EVENT),this.valid_notes=new Array(12),this.offset_notes=new Array(12),this.processScale(this.properties.scale)}function f(){if(this.properties={volume:.5,duration:1},this.addInput("note",e.ACTION),this.addInput("volume","number"),this.addInput("duration","number"),this.addOutput("note",e.EVENT),"undefined"==typeof AudioSynth)console.error("Audiosynth.js not included, LGMidiPlay requires that library"),this.boxcolor="red";else{var t=this.synth=new AudioSynth;this.instrument=t.createInstrument("piano")}}function g(){this.properties={num_octaves:2,start_octave:2},this.addInput("note",e.ACTION),this.addInput("reset",e.ACTION),this.addOutput("note",e.EVENT),this.size=[400,100],this.keys=[],this._last_key=-1}i.input=null,i.MIDIEvent=n,i.prototype.onMIDISuccess=function(t){console.log("MIDI ready!"),console.log(t),this.midi=t,this.updatePorts(),this.on_ready&&this.on_ready(this)},i.prototype.updatePorts=function(){var t=this.midi;this.input_ports=t.inputs;for(var e=0,n=(i=this.input_ports.values()).next();n&&!1===n.done;){var r=n.value;console.log("Input port [type:'"+r.type+"'] id:'"+r.id+"' manufacturer:'"+r.manufacturer+"' name:'"+r.name+"' version:'"+r.version+"'"),e++,n=i.next()}this.num_input_ports=e,e=0,this.output_ports=t.outputs;var i;for(n=(i=this.output_ports.values()).next();n&&!1===n.done;){r=n.value;console.log("Output port [type:'"+r.type+"'] id:'"+r.id+"' manufacturer:'"+r.manufacturer+"' name:'"+r.name+"' version:'"+r.version+"'"),e++,n=i.next()}this.num_output_ports=e},i.prototype.onMIDIFailure=function(t){console.error("Failed to get MIDI access - "+t)},i.prototype.openInputPort=function(t,e){var r=this.input_ports.get("input-"+t);if(!r)return!1;i.input=this;var o=this;return r.onmidimessage=function(t){var r=new n(t.data);o.updateState(r),e&&e(t.data,r),i.on_message&&i.on_message(t.data,r)},console.log("port open: ",r),!0},i.parseMsg=function(t){},i.prototype.updateState=function(t){switch(t.cmd){case n.NOTEON:this.state.note[0|t.value1]=t.value2;break;case n.NOTEOFF:this.state.note[0|t.value1]=0;break;case n.CONTROLLERCHANGE:this.state.cc[t.getCC()]=t.getCCValue()}},i.prototype.sendMIDI=function(t,e){if(e){var r=this.output_ports.get("output-"+t);r&&(i.output=this,e.constructor===n?r.send(e.data):r.send(e))}},o.MIDIInterface=i,o.title="MIDI Input",o.desc="Reads MIDI from a input port",o.color="#243",o.prototype.getPropertyInfo=function(t){if(this._midi&&"port"==t){for(var e={},n=0;n<this._midi.input_ports.size;++n){var r=this._midi.input_ports.get("input-"+n);e[n]=n+".- "+r.name+" version:"+r.version}return{type:"enum",values:e}}},o.prototype.onStart=function(){this._midi?this._midi.openInputPort(this.properties.port,this.onMIDIEvent.bind(this)):this._waiting=!0},o.prototype.onMIDIEvent=function(t,r){this._last_midi_event=r,this.boxcolor="#AFA",this._last_time=e.getTime(),this.trigger("on_midi",r),r.cmd==n.NOTEON?this.trigger("on_noteon",r):r.cmd==n.NOTEOFF?this.trigger("on_noteoff",r):r.cmd==n.CONTROLLERCHANGE?this.trigger("on_cc",r):r.cmd==n.PROGRAMCHANGE?this.trigger("on_pc",r):r.cmd==n.PITCHBEND&&this.trigger("on_pitchbend",r)},o.prototype.onDrawBackground=function(t){if(this.boxcolor="#AAA",!this.flags.collapsed&&this._last_midi_event){t.fillStyle="white";var n=e.getTime(),r=1-Math.max(0,.001*(n-this._last_time));if(r>0){var i=t.globalAlpha;t.globalAlpha*=r,t.font="12px Tahoma",t.fillText(this._last_midi_event.toString(),2,.5*this.size[1]+3),t.globalAlpha=i}}},o.prototype.onExecute=function(){if(this.outputs)for(var t=this._last_midi_event,e=0;e<this.outputs.length;++e){var n=null;switch(this.outputs[e].name){case"midi":n=this._midi;break;case"last_midi":n=t;break;default:continue}this.setOutputData(e,n)}},o.prototype.onGetOutputs=function(){return[["last_midi","midi"],["on_midi",e.EVENT],["on_noteon",e.EVENT],["on_noteoff",e.EVENT],["on_cc",e.EVENT],["on_pc",e.EVENT],["on_pitchbend",e.EVENT]]},e.registerNodeType("midi/input",o),s.MIDIInterface=i,s.title="MIDI Output",s.desc="Sends MIDI to output channel",s.color="#243",s.prototype.getPropertyInfo=function(t){if(this._midi&&"port"==t){for(var e={},n=0;n<this._midi.output_ports.size;++n){var r=this._midi.output_ports.get(n);e[n]=n+".- "+r.name+" version:"+r.version}return{type:"enum",values:e}}},s.prototype.onAction=function(t,e){this._midi&&("send"==t&&this._midi.sendMIDI(this.port,e),this.trigger("midi",e))},s.prototype.onGetInputs=function(){return[["send",e.ACTION]]},s.prototype.onGetOutputs=function(){return[["on_midi",e.EVENT]]},e.registerNodeType("midi/output",s),a.title="MIDI Show",a.desc="Shows MIDI in the graph",a.color="#243",a.prototype.getTitle=function(){return this.flags.collapsed?this._str:this.title},a.prototype.onAction=function(t,e){e&&(e.constructor===n?this._str=e.toString():this._str="???")},a.prototype.onDrawForeground=function(t){this._str&&!this.flags.collapsed&&(t.font="30px Arial",t.fillText(this._str,10,.8*this.size[1]))},a.prototype.onGetInputs=function(){return[["in",e.ACTION]]},a.prototype.onGetOutputs=function(){return[["on_midi",e.EVENT]]},e.registerNodeType("midi/show",a),u.title="MIDI Filter",u.desc="Filters MIDI messages",u.color="#243",u["@cmd"]={type:"enum",title:"Command",values:n.commands_reversed},u.prototype.getTitle=function(){var t=null;return t=-1==this.properties.cmd?"Nothing":n.commands_short[this.properties.cmd]||"Unknown",-1!=this.properties.min_value&&-1!=this.properties.max_value&&(t+=" "+(this.properties.min_value==this.properties.max_value?this.properties.max_value:this.properties.min_value+".."+this.properties.max_value)),"Filter: "+t},u.prototype.onPropertyChanged=function(t,e){if("cmd"==t){var r=Number(e);isNaN(r)&&(r=n.commands[e]||0),this.properties.cmd=r}},u.prototype.onAction=function(t,e){if(e&&e.constructor===n){if(this._learning)this._learning=!1,this.boxcolor="#AAA",this.properties.channel=e.channel,this.properties.cmd=e.cmd,this.properties.min_value=this.properties.max_value=e.data[1];else{if(-1!=this.properties.channel&&e.channel!=this.properties.channel)return;if(-1!=this.properties.cmd&&e.cmd!=this.properties.cmd)return;if(-1!=this.properties.min_value&&e.data[1]<this.properties.min_value)return;if(-1!=this.properties.max_value&&e.data[1]>this.properties.max_value)return}this.trigger("on_midi",e)}},e.registerNodeType("midi/filter",u),l.title="MIDIEvent",l.desc="Create a MIDI Event",l.color="#243",l.prototype.onAction=function(t,e){if("assign"==t)return this.properties.channel=e.channel,this.properties.cmd=e.cmd,this.properties.value1=e.data[1],this.properties.value2=e.data[2],void(e.cmd==n.NOTEON?this.gate=!0:e.cmd==n.NOTEOFF&&(this.gate=!1));(e=this.midi_event).channel=this.properties.channel,this.properties.cmd&&this.properties.cmd.constructor===String?e.setCommandFromString(this.properties.cmd):e.cmd=this.properties.cmd,e.data[0]=e.cmd|e.channel,e.data[1]=Number(this.properties.value1),e.data[2]=Number(this.properties.value2),this.trigger("on_midi",e)},l.prototype.onExecute=function(){var t=this.properties;if(this.inputs)for(var e=0;e<this.inputs.length;++e){var r=this.inputs[e];if(-1!=r.link)switch(r.name){case"note":null!=(i=this.getInputData(e))&&(i.constructor===String&&(i=n.NoteStringToPitch(i)),this.properties.value1=(0|i)%255)}}if(this.outputs)for(e=0;e<this.outputs.length;++e){var i=null;switch(this.outputs[e].name){case"midi":(i=new n).setup([t.cmd,t.value1,t.value2]),i.channel=t.channel;break;case"command":i=t.cmd;break;case"cc":i=t.value1;break;case"cc_value":i=t.value2;break;case"note":i=t.cmd==n.NOTEON||t.cmd==n.NOTEOFF?t.value1:null;break;case"velocity":i=t.cmd==n.NOTEON?t.value2:null;break;case"pitch":i=t.cmd==n.NOTEON?n.computePitch(t.value1):null;break;case"pitchbend":i=t.cmd==n.PITCHBEND?n.computePitchBend(t.value1,t.value2):null;break;case"gate":i=this.gate;break;default:continue}null!==i&&this.setOutputData(e,i)}},l.prototype.onPropertyChanged=function(t,e){"cmd"==t&&(this.properties.cmd=n.computeCommandFromString(e))},l.prototype.onGetInputs=function(){return[["note","number"]]},l.prototype.onGetOutputs=function(){return[["midi","midi"],["on_midi",e.EVENT],["command","number"],["note","number"],["velocity","number"],["cc","number"],["cc_value","number"],["pitch","number"],["gate","bool"],["pitchbend","number"]]},e.registerNodeType("midi/event",l),c.title="MIDICC",c.desc="gets a Controller Change",c.color="#243",c.prototype.onExecute=function(){this.properties;i.input&&(this.properties.value=i.input.state.cc[this.properties.cc]),this.setOutputData(0,this.properties.value)},e.registerNodeType("midi/cc",c),p.title="MIDI Generator",p.desc="Generates a random MIDI note",p.color="#243",p.processScale=function(t){for(var r=t.split(","),i=0;i<r.length;++i){var o=r[i];2==o.length&&"#"!=o[1]||o.length>2?r[i]=-e.MIDIEvent.NoteStringToPitch(o):r[i]=n.note_to_index[o]||0}return r},p.prototype.onPropertyChanged=function(t,e){"notes"==t&&(this.notes_pitches=p.processScale(e))},p.prototype.onExecute=function(){var t=this.getInputData(2);null!=t&&(this.properties.octave=t);var e=this.getInputData(1);e&&(this.notes_pitches=p.processScale(e))},p.prototype.onAction=function(t,e){var r=0,i=this.notes_pitches.length,o=0;"sequence"==this.properties.mode?o=this.sequence_index=(this.sequence_index+1)%i:"random"==this.properties.mode&&(o=Math.floor(Math.random()*i));var s=this.notes_pitches[o];r=s>=0?s+12*(this.properties.octave-1)+33:-s,(e=new n).setup([n.NOTEON,r,10]);var a=this.properties.duration||1;this.trigger("note",e),setTimeout(function(){var t=new n;t.setup([n.NOTEOFF,r,0]),this.trigger("note",t)}.bind(this),1e3*a)},e.registerNodeType("midi/generator",p),h.title="MIDI Transpose",h.desc="Transpose a MIDI note",h.color="#243",h.prototype.onAction=function(t,e){e&&e.constructor===n&&(e.data[0]==n.NOTEON||e.data[0]==n.NOTEOFF?(this.midi_event=new n,this.midi_event.setup(e.data),this.midi_event.data[1]=Math.round(this.midi_event.data[1]+this.properties.amount),this.trigger("out",this.midi_event)):this.trigger("out",e))},h.prototype.onExecute=function(){var t=this.getInputData(1);null!=t&&(this.properties.amount=t)},e.registerNodeType("midi/transpose",h),d.title="MIDI Quantize Pitch",d.desc="Transpose a MIDI note tp fit an scale",d.color="#243",d.prototype.onPropertyChanged=function(t,e){"scale"==t&&this.processScale(e)},d.prototype.processScale=function(t){this._current_scale=t,this.notes_pitches=p.processScale(t);for(var e=0;e<12;++e)this.valid_notes[e]=-1!=this.notes_pitches.indexOf(e);for(e=0;e<12;++e)if(this.valid_notes[e])this.offset_notes[e]=0;else for(var n=1;n<12;++n){if(this.valid_notes[(e-n)%12]){this.offset_notes[e]=-n;break}if(this.valid_notes[(e+n)%12]){this.offset_notes[e]=n;break}}},d.prototype.onAction=function(t,e){if(e&&e.constructor===n)if(e.data[0]==n.NOTEON||e.data[0]==n.NOTEOFF){this.midi_event=new n,this.midi_event.setup(e.data);var r=e.note,i=n.note_to_index[r],o=this.offset_notes[i];this.midi_event.data[1]+=o,this.trigger("out",this.midi_event)}else this.trigger("out",e)},d.prototype.onExecute=function(){var t=this.getInputData(1);null!=t&&t!=this._current_scale&&this.processScale(t)},e.registerNodeType("midi/quantize",d),f.title="MIDI Play",f.desc="Plays a MIDI note",f.color="#243",f.prototype.onAction=function(t,e){if(e&&e.constructor===n){if(this.instrument&&e.data[0]==n.NOTEON){var r=e.note;if(!r||"undefined"==r||r.constructor!==String)return;this.instrument.play(r,e.octave,this.properties.duration,this.properties.volume)}this.trigger("note",e)}},f.prototype.onExecute=function(){var t=this.getInputData(1);null!=t&&(this.properties.volume=t);var e=this.getInputData(2);null!=e&&(this.properties.duration=e)},e.registerNodeType("midi/play",f),g.title="MIDI Keys",g.desc="Keyboard to play notes",g.color="#243",g.keys=[{x:0,w:1,h:1,t:0},{x:.75,w:.5,h:.6,t:1},{x:1,w:1,h:1,t:0},{x:1.75,w:.5,h:.6,t:1},{x:2,w:1,h:1,t:0},{x:2.75,w:.5,h:.6,t:1},{x:3,w:1,h:1,t:0},{x:4,w:1,h:1,t:0},{x:4.75,w:.5,h:.6,t:1},{x:5,w:1,h:1,t:0},{x:5.75,w:.5,h:.6,t:1},{x:6,w:1,h:1,t:0}],g.prototype.onDrawForeground=function(t){if(!this.flags.collapsed){var e=12*this.properties.num_octaves;this.keys.length=e;var n=this.size[0]/(7*this.properties.num_octaves),r=this.size[1];t.globalAlpha=1;for(var i=0;i<2;i++)for(var o=0;o<e;++o){var s=g.keys[o%12];if(s.t==i){var a=7*Math.floor(o/12)*n+s.x*n;t.fillStyle=0==i?this.keys[o]?"#CCC":"white":this.keys[o]?"#333":"black",t.fillRect(a+1,0,n*s.w-2,r*s.h)}}}},g.prototype.getKeyIndex=function(t){this.properties.num_octaves;for(var e=this.size[0]/(7*this.properties.num_octaves),n=this.size[1],r=1;r>=0;r--)for(var i=0;i<this.keys.length;++i){var o=g.keys[i%12];if(o.t==r){var s=7*Math.floor(i/12)*e+o.x*e,a=e*o.w,u=n*o.h;if(!(t[0]<s||t[0]>s+a||t[1]>u))return i}}return-1},g.prototype.onAction=function(t,e){if("reset"!=t){if(e&&e.constructor===n){var r=e,i=12*(this.properties.start_octave-1)+29,o=r.data[1]-i;o>=0&&o<this.keys.length&&(r.data[0]==n.NOTEON?this.keys[o]=!0:r.data[0]==n.NOTEOFF&&(this.keys[o]=!1)),this.trigger("note",r)}}else for(var s=0;s<this.keys.length;++s)this.keys[s]=!1},g.prototype.onMouseDown=function(t,e){if(!(e[1]<0)){var r=this.getKeyIndex(e);this.keys[r]=!0,this._last_key=r;var i=12*(this.properties.start_octave-1)+29+r,o=new n;return o.setup([n.NOTEON,i,100]),this.trigger("note",o),!0}},g.prototype.onMouseMove=function(t,e){if(!(e[1]<0||-1==this._last_key)){this.setDirtyCanvas(!0);var r=this.getKeyIndex(e);if(this._last_key==r)return!0;this.keys[this._last_key]=!1;var i=12*(this.properties.start_octave-1)+29+this._last_key;(o=new n).setup([n.NOTEOFF,i,100]),this.trigger("note",o),this.keys[r]=!0;var o;i=12*(this.properties.start_octave-1)+29+r;return(o=new n).setup([n.NOTEON,i,100]),this.trigger("note",o),this._last_key=r,!0}},g.prototype.onMouseUp=function(t,e){if(!(e[1]<0)){var r=this.getKeyIndex(e);this.keys[r]=!1,this._last_key=-1;var i=12*(this.properties.start_octave-1)+29+r,o=new n;return o.setup([n.NOTEOFF,i,100]),this.trigger("note",o),!0}},e.registerNodeType("midi/keys",g)}(this),function(t){var e=t.LiteGraph,n={};function r(){this.properties={src:"",gain:.5,loop:!0,autoplay:!0,playbackRate:1},this._loading_audio=!1,this._audiobuffer=null,this._audionodes=[],this._last_sourcenode=null,this.addOutput("out","audio"),this.addInput("gain","number");var t=n.getAudioContext();this.audionode=t.createGain(),this.audionode.graphnode=this,this.audionode.gain.value=this.properties.gain,this.properties.src&&this.loadSound(this.properties.src)}function i(){this.properties={gain:.5},this._audionodes=[],this._media_stream=null,this.addOutput("out","audio"),this.addInput("gain","number");var t=n.getAudioContext();this.audionode=t.createGain(),this.audionode.graphnode=this,this.audionode.gain.value=this.properties.gain}function o(){this.properties={fftSize:2048,minDecibels:-100,maxDecibels:-10,smoothingTimeConstant:.5};var t=n.getAudioContext();this.audionode=t.createAnalyser(),this.audionode.graphnode=this,this.audionode.fftSize=this.properties.fftSize,this.audionode.minDecibels=this.properties.minDecibels,this.audionode.maxDecibels=this.properties.maxDecibels,this.audionode.smoothingTimeConstant=this.properties.smoothingTimeConstant,this.addInput("in","audio"),this.addOutput("freqs","array"),this.addOutput("samples","array"),this._freq_bin=null,this._time_bin=null}function s(){this.properties={gain:1},this.audionode=n.getAudioContext().createGain(),this.addInput("in","audio"),this.addInput("gain","number"),this.addOutput("out","audio")}function a(){this.properties={impulse_src:"",normalize:!0},this.audionode=n.getAudioContext().createConvolver(),this.addInput("in","audio"),this.addOutput("out","audio")}function u(){this.properties={threshold:-50,knee:40,ratio:12,reduction:-20,attack:0,release:.25},this.audionode=n.getAudioContext().createDynamicsCompressor(),this.addInput("in","audio"),this.addOutput("out","audio")}function l(){this.properties={},this.audionode=n.getAudioContext().createWaveShaper(),this.addInput("in","audio"),this.addInput("shape","waveshape"),this.addOutput("out","audio")}function c(){this.properties={gain1:.5,gain2:.5},this.audionode=n.getAudioContext().createGain(),this.audionode1=n.getAudioContext().createGain(),this.audionode1.gain.value=this.properties.gain1,this.audionode2=n.getAudioContext().createGain(),this.audionode2.gain.value=this.properties.gain2,this.audionode1.connect(this.audionode),this.audionode2.connect(this.audionode),this.addInput("in1","audio"),this.addInput("in1 gain","number"),this.addInput("in2","audio"),this.addInput("in2 gain","number"),this.addOutput("out","audio")}function p(){this.properties={A:.1,D:.1,S:.1,R:.1},this.audionode=n.getAudioContext().createGain(),this.audionode.gain.value=0,this.addInput("in","audio"),this.addInput("gate","bool"),this.addOutput("out","audio"),this.gate=!1}function h(){this.properties={delayTime:.5},this.audionode=n.getAudioContext().createDelay(10),this.audionode.delayTime.value=this.properties.delayTime,this.addInput("in","audio"),this.addInput("time","number"),this.addOutput("out","audio")}function d(){this.properties={frequency:350,detune:0,Q:1},this.addProperty("type","lowpass","enum",{values:["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"]}),this.audionode=n.getAudioContext().createBiquadFilter(),this.addInput("in","audio"),this.addOutput("out","audio")}function f(){this.properties={frequency:440,detune:0,type:"sine"},this.addProperty("type","sine","enum",{values:["sine","square","sawtooth","triangle","custom"]}),this.audionode=n.getAudioContext().createOscillator(),this.addOutput("out","audio")}function g(){this.properties={continuous:!0,mark:-1},this.addInput("data","array"),this.addInput("mark","number"),this.size=[300,200],this._last_buffer=null}function v(){this.properties={band:440,amplitude:1},this.addInput("freqs","array"),this.addOutput("signal","number")}function _(){if(!_.default_code){var t=_.default_function.toString(),e=t.indexOf("{")+1,r=t.lastIndexOf("}");_.default_code=t.substr(e,r-e)}this.properties={code:_.default_code};var i=n.getAudioContext();i.createScriptProcessor?this.audionode=i.createScriptProcessor(4096,1,1):(console.warn("ScriptProcessorNode deprecated"),this.audionode=i.createGain()),this.processCode(),_._bypass_function||(_._bypass_function=this.audionode.onaudioprocess),this.addInput("in","audio"),this.addOutput("out","audio")}function m(){this.audionode=n.getAudioContext().destination,this.addInput("in","audio")}t.LGAudio=n,n.getAudioContext=function(){if(!this._audio_context){if(window.AudioContext=window.AudioContext||window.webkitAudioContext,!window.AudioContext)return console.error("AudioContext not supported by browser"),null;this._audio_context=new AudioContext,this._audio_context.onmessage=function(t){console.log("msg",t)},this._audio_context.onended=function(t){console.log("ended",t)},this._audio_context.oncomplete=function(t){console.log("complete",t)}}return this._audio_context},n.connect=function(t,e){try{t.connect(e)}catch(n){console.warn("LGraphAudio:",n)}},n.disconnect=function(t,e){try{t.disconnect(e)}catch(n){console.warn("LGraphAudio:",n)}},n.changeAllAudiosConnections=function(t,e){if(t.inputs)for(var r=0;r<t.inputs.length;++r){var i=t.inputs[r];if(c=t.graph.links[i.link]){var o=t.graph.getNodeById(c.origin_id),s=null;s=o.getAudioNodeInOutputSlot?o.getAudioNodeInOutputSlot(c.origin_slot):o.audionode;var a=null;a=t.getAudioNodeInInputSlot?t.getAudioNodeInInputSlot(r):t.audionode,e?n.connect(s,a):n.disconnect(s,a)}}if(t.outputs)for(r=0;r<t.outputs.length;++r)for(var u=t.outputs[r],l=0;l<u.links.length;++l){var c;if(c=t.graph.links[u.links[l]]){s=null;s=t.getAudioNodeInOutputSlot?t.getAudioNodeInOutputSlot(r):t.audionode;var p=t.graph.getNodeById(c.target_id);a=null;a=p.getAudioNodeInInputSlot?p.getAudioNodeInInputSlot(c.target_slot):p.audionode,e?n.connect(s,a):n.disconnect(s,a)}}},n.onConnectionsChange=function(t,r,i,o){if(t==e.OUTPUT){var s=null;if(o&&(s=this.graph.getNodeById(o.target_id)),s){var a=null;a=this.getAudioNodeInOutputSlot?this.getAudioNodeInOutputSlot(r):this.audionode;var u=null;u=s.getAudioNodeInInputSlot?s.getAudioNodeInInputSlot(o.target_slot):s.audionode,i?n.connect(a,u):n.disconnect(a,u)}}},n.createAudioNodeWrapper=function(t){var e=t.prototype.onPropertyChanged;t.prototype.onPropertyChanged=function(t,n){e&&e.call(this,t,n),this.audionode&&void 0!==this.audionode[t]&&(void 0!==this.audionode[t].value?this.audionode[t].value=n:this.audionode[t]=n)},t.prototype.onConnectionsChange=n.onConnectionsChange},n.cached_audios={},n.loadSound=function(t,e,r){if(!n.cached_audios[t]||-1!=t.indexOf("blob:")){n.onProcessAudioURL&&(t=n.onProcessAudioURL(t));var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer";var o=n.getAudioContext();return i.onload=function(){console.log("AudioSource loaded"),o.decodeAudioData(i.response,function(r){console.log("AudioSource decoded"),n.cached_audios[t]=r,e&&e(r)},s)},i.send(),i}function s(t){console.log("Audio loading sample error:",t),r&&r(t)}e&&e(n.cached_audios[t])},r["@src"]={widget:"resource"},r.supported_extensions=["wav","ogg","mp3"],r.prototype.onAdded=function(t){t.status===LGraph.STATUS_RUNNING&&this.onStart()},r.prototype.onStart=function(){this._audiobuffer&&this.properties.autoplay&&this.playBuffer(this._audiobuffer)},r.prototype.onStop=function(){this.stopAllSounds()},r.prototype.onPause=function(){this.pauseAllSounds()},r.prototype.onUnpause=function(){this.unpauseAllSounds()},r.prototype.onRemoved=function(){this.stopAllSounds(),this._dropped_url&&URL.revokeObjectURL(this._url)},r.prototype.stopAllSounds=function(){for(var t=0;t<this._audionodes.length;++t)this._audionodes[t].started&&(this._audionodes[t].started=!1,this._audionodes[t].stop());this._audionodes.length=0},r.prototype.pauseAllSounds=function(){n.getAudioContext().suspend()},r.prototype.unpauseAllSounds=function(){n.getAudioContext().resume()},r.prototype.onExecute=function(){if(this.inputs)for(var t=0;t<this.inputs.length;++t){var e=this.inputs[t];if(null!=e.link){var n=this.getInputData(t);if(void 0!==n)if("gain"==e.name)this.audionode.gain.value=n;else if("playbackRate"==e.name){this.properties.playbackRate=n;for(var r=0;r<this._audionodes.length;++r)this._audionodes[r].playbackRate.value=n}}}if(this.outputs)for(t=0;t<this.outputs.length;++t){"buffer"==this.outputs[t].name&&this._audiobuffer&&this.setOutputData(t,this._audiobuffer)}},r.prototype.onAction=function(t){this._audiobuffer&&("Play"==t?this.playBuffer(this._audiobuffer):"Stop"==t&&this.stopAllSounds())},r.prototype.onPropertyChanged=function(t,e){if("src"==t)this.loadSound(e);else if("gain"==t)this.audionode.gain.value=e;else if("playbackRate"==t)for(var n=0;n<this._audionodes.length;++n)this._audionodes[n].playbackRate.value=e},r.prototype.playBuffer=function(t){var e=this,r=n.getAudioContext().createBufferSource();return this._last_sourcenode=r,r.graphnode=this,r.buffer=t,r.loop=this.properties.loop,r.playbackRate.value=this.properties.playbackRate,this._audionodes.push(r),r.connect(this.audionode),this._audionodes.push(r),r.onended=function(){e.trigger("ended");var t=e._audionodes.indexOf(r);-1!=t&&e._audionodes.splice(t,1)},r.started||(r.started=!0,r.start()),r},r.prototype.loadSound=function(t){var r=this;this._request&&(this._request.abort(),this._request=null),this._audiobuffer=null,this._loading_audio=!1,t&&(this._request=n.loadSound(t,function(t){this.boxcolor=e.NODE_DEFAULT_BOXCOLOR,r._audiobuffer=t,r._loading_audio=!1,r.graph&&r.graph.status===LGraph.STATUS_RUNNING&&r.onStart()}),this._loading_audio=!0,this.boxcolor="#AA4")},r.prototype.onConnectionsChange=n.onConnectionsChange,r.prototype.onGetInputs=function(){return[["playbackRate","number"],["Play",e.ACTION],["Stop",e.ACTION]]},r.prototype.onGetOutputs=function(){return[["buffer","audiobuffer"],["ended",e.EVENT]]},r.prototype.onDropFile=function(t){this._dropped_url&&URL.revokeObjectURL(this._dropped_url);var e=URL.createObjectURL(t);this.properties.src=e,this.loadSound(e),this._dropped_url=e},r.title="Source",r.desc="Plays audio",e.registerNodeType("audio/source",r),i.prototype.onAdded=function(t){t.status===LGraph.STATUS_RUNNING&&this.onStart()},i.prototype.onStart=function(){null!=this._media_stream||this._waiting_confirmation||this.openStream()},i.prototype.onStop=function(){this.audionode.gain.value=0},i.prototype.onPause=function(){this.audionode.gain.value=0},i.prototype.onUnpause=function(){this.audionode.gain.value=this.properties.gain},i.prototype.onRemoved=function(){if(this.audionode.gain.value=0,this.audiosource_node&&(this.audiosource_node.disconnect(this.audionode),this.audiosource_node=null),this._media_stream){var t=this._media_stream.getTracks();t.length&&t[0].stop()}},i.prototype.openStream=function(){if(navigator.mediaDevices){this._waiting_confirmation=!0,navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(this.streamReady.bind(this)).catch(function(e){console.log("Media rejected",e),t._media_stream=!1,t.boxcolor="red"});var t=this}else console.log("getUserMedia() is not supported in your browser, use chrome and enable WebRTC from about://flags")},i.prototype.streamReady=function(t){this._media_stream=t,this.audiosource_node&&this.audiosource_node.disconnect(this.audionode);var e=n.getAudioContext();this.audiosource_node=e.createMediaStreamSource(t),this.audiosource_node.graphnode=this,this.audiosource_node.connect(this.audionode),this.boxcolor="white"},i.prototype.onExecute=function(){if(null!=this._media_stream||this._waiting_confirmation||this.openStream(),this.inputs)for(var t=0;t<this.inputs.length;++t){var e=this.inputs[t];if(null!=e.link){var n=this.getInputData(t);void 0!==n&&"gain"==e.name&&(this.audionode.gain.value=this.properties.gain=n)}}},i.prototype.onAction=function(t){"Play"==t?this.audionode.gain.value=this.properties.gain:"Stop"==t&&(this.audionode.gain.value=0)},i.prototype.onPropertyChanged=function(t,e){"gain"==t&&(this.audionode.gain.value=e)},i.prototype.onConnectionsChange=n.onConnectionsChange,i.prototype.onGetInputs=function(){return[["playbackRate","number"],["Play",e.ACTION],["Stop",e.ACTION]]},i.title="MediaSource",i.desc="Plays microphone",e.registerNodeType("audio/media_source",i),o.prototype.onPropertyChanged=function(t,e){this.audionode[t]=e},o.prototype.onExecute=function(){if(this.isOutputConnected(0)){var t=this.audionode.frequencyBinCount;this._freq_bin&&this._freq_bin.length==t||(this._freq_bin=new Uint8Array(t)),this.audionode.getByteFrequencyData(this._freq_bin),this.setOutputData(0,this._freq_bin)}if(this.isOutputConnected(1)){t=this.audionode.frequencyBinCount;this._time_bin&&this._time_bin.length==t||(this._time_bin=new Uint8Array(t)),this.audionode.getByteTimeDomainData(this._time_bin),this.setOutputData(1,this._time_bin)}for(var e=1;e<this.inputs.length;++e){var n=this.inputs[e];if(null!=n.link){var r=this.getInputData(e);void 0!==r&&(this.audionode[n.name].value=r)}}},o.prototype.onGetInputs=function(){return[["minDecibels","number"],["maxDecibels","number"],["smoothingTimeConstant","number"]]},o.prototype.onGetOutputs=function(){return[["freqs","array"],["samples","array"]]},o.title="Analyser",o.desc="Audio Analyser",e.registerNodeType("audio/analyser",o),s.prototype.onExecute=function(){if(this.inputs&&this.inputs.length)for(var t=1;t<this.inputs.length;++t){var e=this.inputs[t],n=this.getInputData(t);void 0!==n&&(this.audionode[e.name].value=n)}},n.createAudioNodeWrapper(s),s.title="Gain",s.desc="Audio gain",e.registerNodeType("audio/gain",s),n.createAudioNodeWrapper(a),a.prototype.onRemove=function(){this._dropped_url&&URL.revokeObjectURL(this._dropped_url)},a.prototype.onPropertyChanged=function(t,e){"impulse_src"==t?this.loadImpulse(e):"normalize"==t&&(this.audionode.normalize=e)},a.prototype.onDropFile=function(t){this._dropped_url&&URL.revokeObjectURL(this._dropped_url),this._dropped_url=URL.createObjectURL(t),this.properties.impulse_src=this._dropped_url,this.loadImpulse(this._dropped_url)},a.prototype.loadImpulse=function(t){var e=this;this._request&&(this._request.abort(),this._request=null),this._impulse_buffer=null,this._loading_impulse=!1,t&&(this._request=n.loadSound(t,function(t){e._impulse_buffer=t,e.audionode.buffer=t,console.log("Impulse signal set"),e._loading_impulse=!1}),this._loading_impulse=!0)},a.title="Convolver",a.desc="Convolves the signal (used for reverb)",e.registerNodeType("audio/convolver",a),n.createAudioNodeWrapper(u),u.prototype.onExecute=function(){if(this.inputs&&this.inputs.length)for(var t=1;t<this.inputs.length;++t){var e=this.inputs[t];if(null!=e.link){var n=this.getInputData(t);void 0!==n&&(this.audionode[e.name].value=n)}}},u.prototype.onGetInputs=function(){return[["threshold","number"],["knee","number"],["ratio","number"],["reduction","number"],["attack","number"],["release","number"]]},u.title="DynamicsCompressor",u.desc="Dynamics Compressor",e.registerNodeType("audio/dynamicsCompressor",u),l.prototype.onExecute=function(){if(this.inputs&&this.inputs.length){var t=this.getInputData(1);void 0!==t&&(this.audionode.curve=t)}},l.prototype.setWaveShape=function(t){this.audionode.curve=t},n.createAudioNodeWrapper(l),c.prototype.getAudioNodeInInputSlot=function(t){return 0==t?this.audionode1:2==t?this.audionode2:void 0},c.prototype.onPropertyChanged=function(t,e){"gain1"==t?this.audionode1.gain.value=e:"gain2"==t&&(this.audionode2.gain.value=e)},c.prototype.onExecute=function(){if(this.inputs&&this.inputs.length)for(var t=1;t<this.inputs.length;++t){var e=this.inputs[t];if(null!=e.link&&"audio"!=e.type){var n=this.getInputData(t);void 0!==n&&(1==t?this.audionode1.gain.value=n:3==t&&(this.audionode2.gain.value=n))}}},n.createAudioNodeWrapper(c),c.title="Mixer",c.desc="Audio mixer",e.registerNodeType("audio/mixer",c),p.prototype.onExecute=function(){var t=n.getAudioContext().currentTime,e=this.audionode.gain,r=this.getInputData(1),i=this.getInputOrProperty("A"),o=this.getInputOrProperty("D"),s=this.getInputOrProperty("S"),a=this.getInputOrProperty("R");!this.gate&&r?(e.cancelScheduledValues(0),e.setValueAtTime(0,t),e.linearRampToValueAtTime(1,t+i),e.linearRampToValueAtTime(s,t+i+o)):this.gate&&!r&&(e.cancelScheduledValues(0),e.setValueAtTime(e.value,t),e.linearRampToValueAtTime(0,t+a)),this.gate=r},p.prototype.onGetInputs=function(){return[["A","number"],["D","number"],["S","number"],["R","number"]]},n.createAudioNodeWrapper(p),p.title="ADSR",p.desc="Audio envelope",e.registerNodeType("audio/adsr",p),n.createAudioNodeWrapper(h),h.prototype.onExecute=function(){var t=this.getInputData(1);void 0!==t&&(this.audionode.delayTime.value=t)},h.title="Delay",h.desc="Audio delay",e.registerNodeType("audio/delay",h),d.prototype.onExecute=function(){if(this.inputs&&this.inputs.length)for(var t=1;t<this.inputs.length;++t){var e=this.inputs[t];if(null!=e.link){var n=this.getInputData(t);void 0!==n&&(this.audionode[e.name].value=n)}}},d.prototype.onGetInputs=function(){return[["frequency","number"],["detune","number"],["Q","number"]]},n.createAudioNodeWrapper(d),d.title="BiquadFilter",d.desc="Audio filter",e.registerNodeType("audio/biquadfilter",d),f.prototype.onStart=function(){if(!this.audionode.started){this.audionode.started=!0;try{this.audionode.start()}catch(t){}}},f.prototype.onStop=function(){this.audionode.started&&(this.audionode.started=!1,this.audionode.stop())},f.prototype.onPause=function(){this.onStop()},f.prototype.onUnpause=function(){this.onStart()},f.prototype.onExecute=function(){if(this.inputs&&this.inputs.length)for(var t=0;t<this.inputs.length;++t){var e=this.inputs[t];if(null!=e.link){var n=this.getInputData(t);void 0!==n&&(this.audionode[e.name].value=n)}}},f.prototype.onGetInputs=function(){return[["frequency","number"],["detune","number"],["type","string"]]},n.createAudioNodeWrapper(f),f.title="Oscillator",f.desc="Oscillator",e.registerNodeType("audio/oscillator",f),g.prototype.onExecute=function(){this._last_buffer=this.getInputData(0);var t=this.getInputData(1);void 0!==t&&(this.properties.mark=t),this.setDirtyCanvas(!0,!1)},g.prototype.onDrawForeground=function(t){if(this._last_buffer){var e=this._last_buffer,r=e.length/this.size[0],i=this.size[1];t.fillStyle="black",t.fillRect(0,0,this.size[0],this.size[1]),t.strokeStyle="white",t.beginPath();var o=0;if(this.properties.continuous){t.moveTo(o,i);for(var s=0;s<e.length;s+=r)t.lineTo(o,i-e[0|s]/255*i),o++}else for(s=0;s<e.length;s+=r)t.moveTo(o+.5,i),t.lineTo(o+.5,i-e[0|s]/255*i),o++;if(t.stroke(),this.properties.mark>=0){var a=n.getAudioContext().sampleRate/e.length;(o=this.properties.mark/a*2/r)>=this.size[0]&&(o=this.size[0]-1),t.strokeStyle="red",t.beginPath(),t.moveTo(o,i),t.lineTo(o,0),t.stroke()}}},g.title="Visualization",g.desc="Audio Visualization",e.registerNodeType("audio/visualization",g),v.prototype.onExecute=function(){if(this._freqs=this.getInputData(0),this._freqs){var t=this.properties.band;void 0!==(r=this.getInputData(1))&&(t=r);var e=t/(n.getAudioContext().sampleRate/this._freqs.length)*2,r=0;if(e<0&&(r=this._freqs[0]),e>=this._freqs.length)r=this._freqs[this._freqs.length-1];else{var i=0|e,o=e-i;r=this._freqs[i]*(1-o)+this._freqs[i+1]*o}this.setOutputData(0,r/255*this.properties.amplitude)}},v.prototype.onGetInputs=function(){return[["band","number"]]},v.title="Signal",v.desc="extract the signal of some frequency",e.registerNodeType("audio/signal",v),_.prototype.onAdded=function(t){t.status==LGraph.STATUS_RUNNING&&(this.audionode.onaudioprocess=this._callback)},_["@code"]={widget:"code"},_.prototype.onStart=function(){this.audionode.onaudioprocess=this._callback},_.prototype.onStop=function(){this.audionode.onaudioprocess=_._bypass_function},_.prototype.onPause=function(){this.audionode.onaudioprocess=_._bypass_function},_.prototype.onUnpause=function(){this.audionode.onaudioprocess=this._callback},_.prototype.onExecute=function(){},_.prototype.onRemoved=function(){this.audionode.onaudioprocess=_._bypass_function},_.prototype.processCode=function(){try{var t=new Function("properties",this.properties.code);this._script=new t(this.properties),this._old_code=this.properties.code,this._callback=this._script.onaudioprocess}catch(e){console.error("Error in onaudioprocess code",e),this._callback=_._bypass_function,this.audionode.onaudioprocess=this._callback}},_.prototype.onPropertyChanged=function(t,e){"code"==t&&(this.properties.code=e,this.processCode(),this.graph&&this.graph.status==LGraph.STATUS_RUNNING&&(this.audionode.onaudioprocess=this._callback))},_.default_function=function(){this.onaudioprocess=function(t){for(var e=t.inputBuffer,n=t.outputBuffer,r=0;r<n.numberOfChannels;r++)for(var i=e.getChannelData(r),o=n.getChannelData(r),s=0;s<e.length;s++)o[s]=i[s]}},n.createAudioNodeWrapper(_),_.title="Script",_.desc="apply script to signal",e.registerNodeType("audio/script",_),m.title="Destination",m.desc="Audio output",e.registerNodeType("audio/destination",m)}(this),function(t){var e=t.LiteGraph;function n(){this.size=[60,20],this.addInput("send",e.ACTION),this.addOutput("received",e.EVENT),this.addInput("in",0),this.addOutput("out",0),this.properties={url:"",room:"lgraph",only_send_changes:!0},this._ws=null,this._last_sent_data=[],this._last_received_data=[]}function r(){this.room_widget=this.addWidget("text","Room","lgraph",this.setRoom.bind(this)),this.addWidget("button","Reconnect",null,this.connectSocket.bind(this)),this.addInput("send",e.ACTION),this.addOutput("received",e.EVENT),this.addInput("in",0),this.addOutput("out",0),this.properties={url:"tamats.com:55000",room:"lgraph",only_send_changes:!0},this._server=null,this.connectSocket(),this._last_sent_data=[],this._last_received_data=[],"undefined"==typeof SillyClient&&console.warn("remember to add SillyClient.js to your project: https://tamats.com/projects/sillyserver/src/sillyclient.js")}n.title="WebSocket",n.desc="Send data through a websocket",n.prototype.onPropertyChanged=function(t,e){"url"==t&&this.connectSocket()},n.prototype.onExecute=function(){if(!this._ws&&this.properties.url&&this.connectSocket(),this._ws&&this._ws.readyState==WebSocket.OPEN){for(var t=this.properties.room,e=this.properties.only_send_changes,n=1;n<this.inputs.length;++n){var r=this.getInputData(n);if(null!=r){var i;try{i=JSON.stringify({type:0,room:t,channel:n,data:r})}catch(o){continue}e&&this._last_sent_data[n]==i||(this._last_sent_data[n]=i,this._ws.send(i))}}for(n=1;n<this.outputs.length;++n)this.setOutputData(n,this._last_received_data[n]);"#AFA"==this.boxcolor&&(this.boxcolor="#6C6")}},n.prototype.connectSocket=function(){var t=this,n=this.properties.url;"ws"!=n.substr(0,2)&&(n="ws://"+n),this._ws=new WebSocket(n),this._ws.onopen=function(){console.log("ready"),t.boxcolor="#6C6"},this._ws.onmessage=function(n){t.boxcolor="#AFA";var r=JSON.parse(n.data);if(!r.room||r.room==this.properties.room)if(1==n.data.type)if(r.data.object_class&&e[r.data.object_class]){var i=null;try{i=new e[r.data.object_class](r.data),t.triggerSlot(0,i)}catch(o){return}}else t.triggerSlot(0,r.data);else t._last_received_data[n.data.channel||0]=r.data},this._ws.onerror=function(e){console.log("couldnt connect to websocket"),t.boxcolor="#E88"},this._ws.onclose=function(e){console.log("connection closed"),t.boxcolor="#000"}},n.prototype.send=function(t){this._ws&&this._ws.readyState==WebSocket.OPEN&&this._ws.send(JSON.stringify({type:1,msg:t}))},n.prototype.onAction=function(t,e){this._ws&&this._ws.readyState==WebSocket.OPEN&&this._ws.send({type:1,room:this.properties.room,action:t,data:e})},n.prototype.onGetInputs=function(){return[["in",0]]},n.prototype.onGetOutputs=function(){return[["out",0]]},e.registerNodeType("network/websocket",n),r.title="SillyClient",r.desc="Connects to SillyServer to broadcast messages",r.prototype.onPropertyChanged=function(t,e){"room"==t&&(this.room_widget.value=e),this.connectSocket()},r.prototype.setRoom=function(t){this.properties.room=t,this.room_widget.value=t,this.connectSocket()},r.prototype.onDrawForeground=function(){for(var t=1;t<this.inputs.length;++t){this.inputs[t].label="in_"+t}for(t=1;t<this.outputs.length;++t){this.outputs[t].label="out_"+t}},r.prototype.onExecute=function(){if(this._server&&this._server.is_connected){for(var t=this.properties.only_send_changes,e=1;e<this.inputs.length;++e){var n=this.getInputData(e),r=this._last_sent_data[e];if(null!=n){if(t){var i=!0;if(n&&n.length&&r&&r.length==n.length&&n.constructor!==String){for(var o=0;o<n.length;++o)if(r[o]!=n[o]){i=!1;break}}else this._last_sent_data[e]!=n&&(i=!1);if(i)continue}if(this._server.sendMessage({type:0,channel:e,data:n}),n.length&&n.constructor!==String)if(this._last_sent_data[e]){this._last_sent_data[e].length=n.length;for(o=0;o<n.length;++o)this._last_sent_data[e][o]=n[o]}else n.constructor===Array?this._last_sent_data[e]=n.concat():this._last_sent_data[e]=new n.constructor(n);else this._last_sent_data[e]=n}}for(e=1;e<this.outputs.length;++e)this.setOutputData(e,this._last_received_data[e]);"#AFA"==this.boxcolor&&(this.boxcolor="#6C6")}},r.prototype.connectSocket=function(){var t=this;if("undefined"==typeof SillyClient)return this._error||console.error("SillyClient node cannot be used, you must include SillyServer.js"),void(this._error=!0);if(this._server=new SillyClient,this._server.on_ready=function(){console.log("ready"),t.boxcolor="#6C6"},this._server.on_message=function(n,r){var i=null;try{i=JSON.parse(r)}catch(s){return}if(1==i.type)if(i.data.object_class&&e[i.data.object_class]){var o=null;try{o=new e[i.data.object_class](i.data),t.triggerSlot(0,o)}catch(s){return}}else t.triggerSlot(0,i.data);else t._last_received_data[i.channel||0]=i.data;t.boxcolor="#AFA"},this._server.on_error=function(e){console.log("couldnt connect to websocket"),t.boxcolor="#E88"},this._server.on_close=function(e){console.log("connection closed"),t.boxcolor="#000"},this.properties.url&&this.properties.room){try{this._server.connect(this.properties.url,this.properties.room)}catch(n){return console.error("SillyServer error: "+n),void(this._server=null)}this._final_url=this.properties.url+"/"+this.properties.room}},r.prototype.send=function(t){this._server&&this._server.is_connected&&this._server.sendMessage({type:1,data:t})},r.prototype.onAction=function(t,e){this._server&&this._server.is_connected&&this._server.sendMessage({type:1,action:t,data:e})},r.prototype.onGetInputs=function(){return[["in",0]]},r.prototype.onGetOutputs=function(){return[["out",0]]},e.registerNodeType("network/sillyclient",r)}(this)}).call(this,n(29))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,l=[],c=!1,p=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):p=-1,l.length&&d())}function d(){if(!c){var t=a(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++p<e;)u&&u[p].run();p=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||c||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"===typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"===typeof t},e.isString=function(t){return"string"===typeof t},e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"===typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"===typeof t},e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=t.isBuffer}).call(this,n(37).Buffer)},function(t,e,n){"use strict";(function(e){"undefined"===typeof e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,n(29))},function(t,e,n){var r=n(37),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";(function(t,r){n.d(e,"a",function(){return d});var i=n(5),o=n(7),s=n(14).a.xsd,a=String.fromCharCode,u=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,l={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/,p={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},h=/$0^/,d=function(){function e(t){if(Object(i.a)(this,e),this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,this._number=/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s()\[\]\{\}"'<])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode)for(var n in this._n3Mode=!1,this)!(n in p)&&this[n]instanceof RegExp&&(this[n]=h);else this._n3Mode=!1!==t.n3;this._comments=!!t.comments,this._literalClosingPos=0}return Object(o.a)(e,[{key:"_tokenizeToEnd",value:function(t,e){for(var n=this._input,r=this._comments;;){for(var i,o;i=this._newline.exec(n);)r&&(o=this._comment.exec(i[0]))&&t(null,{line:this._line,type:"comment",value:o[1],prefix:""}),n=n.substr(i[0].length,n.length),this._line++;if(!i&&(i=this._whitespace.exec(n))&&(n=n.substr(i[0].length,n.length)),this._endOfFile.test(n))return e&&(r&&(o=this._comment.exec(n))&&t(null,{line:this._line,type:"comment",value:o[1],prefix:""}),t(n=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=n;var a=this._line,u="",l="",p="",h=n[0],d=null,f=0,g=!1;switch(h){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(f=1,u="^");break}if(this._previousMarker="^^","<"!==(n=n.substr(2))[0]){g=!0;break}case"<":if(d=this._unescapedIri.exec(n))u="IRI",l=d[1];else if(d=this._iri.exec(n)){if(null===(l=this._unescape(d[1]))||c.test(l))return y(this);u="IRI"}else this._n3Mode&&n.length>1&&"="===n[1]&&(u="inverse",f=2,l=">");break;case"_":((d=this._blank.exec(n))||e&&(d=this._blank.exec(n+" ")))&&(u="blank",p="_",l=d[1]);break;case'"':if(d=this._simpleQuotedString.exec(n))l=d[1];else{var v=this._parseLiteral(n);if(l=v.value,f=v.matchLength,null===l)return y(this)}null===d&&0===f||(u="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(d=this._simpleApostropheString.exec(n))l=d[1];else{var _=this._parseLiteral(n);if(l=_.value,f=_.matchLength,null===l)return y(this)}null===d&&0===f||(u="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(d=this._variable.exec(n))&&(u="var",l=d[0]);break;case"@":"literal"===this._previousMarker&&(d=this._langcode.exec(n))?(u="langcode",l=d[1]):(d=this._keyword.exec(n))&&(u=d[0]);break;case".":if(1===n.length?e:n[1]<"0"||n[1]>"9"){u=".",f=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(d=this._number.exec(n)||e&&(d=this._number.exec(n+" ")))&&(u="literal",l=d[0],p=d[1]?s.double:/^[+\-]?\d+$/.test(d[0])?s.integer:s.decimal);break;case"B":case"b":case"p":case"P":case"G":case"g":(d=this._sparqlKeyword.exec(n))?u=d[0].toUpperCase():g=!0;break;case"f":case"t":(d=this._boolean.exec(n))?(u="literal",l=d[0],p=s.boolean):g=!0;break;case"a":(d=this._shortPredicates.exec(n))?(u="abbreviation",l="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(u="abbreviation",">"!==n[1]?(f=1,l="="):(f=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(f=1,u=h);break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(d=this._prefix.exec(n))?((d=this._prefixed.exec(n))||e&&(d=this._prefixed.exec(n+" ")))&&(u="prefixed",p=d[1]||"",l=this._unescape(d[2])):(u="prefix",l=d[1]||"")),"^^"===this._previousMarker)switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return e||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?y(this):this._input=n;var m={line:a,type:u,value:l,prefix:p};t(null,m),this.previousToken=m,this._previousMarker=u,n=n.substr(f||d[0].length,n.length)}function y(e){t(e._syntaxError(/^\S*/.exec(n)[0]))}}},{key:"_unescape",value:function(t){try{return t.replace(u,function(t,e,n,r){var i;if(e){if(i=parseInt(e,16),isNaN(i))throw new Error;return a(i)}if(n){if(i=parseInt(n,16),isNaN(i))throw new Error;return i<=65535?a(i):a(55296+(i-=65536)/1024,56320+(1023&i))}var o=l[r];if(!o)throw new Error;return o})}catch(e){return null}}},{key:"_parseLiteral",value:function(t){if(t.length>=3){for(var e=t.match(/^(?:"""|"|'''|'|)/)[0],n=e.length,r=Math.max(this._literalClosingPos,n);(r=t.indexOf(e,r))>0;){for(var i=0;"\\"===t[r-i-1];)i++;if(i%2===0){var o=t.substring(n,r),s=o.split(/\r\n|\r|\n/).length-1,a=r+n;if(1===n&&0!==s||3===n&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:a}}r++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}},{key:"_syntaxError",value:function(t){this._input=null;var e=new Error('Unexpected "'+t+'" on line '+this._line+".");return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}},{key:"tokenize",value:function(e,n){var i=this;if(this._line=1,"string"===typeof e){if(this._input=e,"function"!==typeof n){var o,s=[];if(this._tokenizeToEnd(function(t,e){t?o=t:s.push(e)},!0),o)throw o;return s}t(function(){i._tokenizeToEnd(n,!0)})}else this._input="",this._pendingBuffer=null,"function"===typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",function(t){null!==i._input&&0!==t.length&&(i._pendingBuffer&&(t=r.concat([i._pendingBuffer,t]),i._pendingBuffer=null),128&t[t.length-1]?i._pendingBuffer=t:(i._input+=t,i._tokenizeToEnd(n,!1)))}),e.on("end",function(){null!==i._input&&i._tokenizeToEnd(n,!0)}),e.on("error",n)}}]),e}()}).call(this,n(48).setImmediate,n(37).Buffer)},function(t,e){t.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),i=n.n(r).a.createContext({})},function(t,e,n){"use strict";(function(t){var r=n(83),i=n(84),o=n(49);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?a(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e){if(c(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function f(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var p=!0,h=0;h<u;h++)if(l(t,o+h)!==l(e,h)){p=!1;break}if(p)return o}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function y(t,e,n,r){return U(z(e,t.length-n),t,n,r)}function b(t,e,n,r){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return b(t,e,n,r)}function E(t,e,n,r){return U(G(e),t,n,r)}function w(t,e,n,r){return U(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,l=t[i],c=null,p=l>239?4:l>223?3:l>191?2:1;if(i+p<=n)switch(p){case 1:l<128&&(c=l);break;case 2:128===(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],s=t[i+2],128===(192&o)&&128===(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,p=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=p}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?a(t,e):void 0!==n?"string"===typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return p(null,t)},u.allocUnsafeSlow=function(t){return p(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(r,i),c=t.slice(e,n),p=0;p<a;++p)if(l[p]!==c[p]){o=l[p],s=c[p];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B(t[o]);return i}function A(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function R(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,r,o){return o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,o){return o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:z(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(j,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function U(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(18))},function(t,e,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!==t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function p(t,e,n,r){var i,o,s,a;if(l(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"===typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(t))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return t}function h(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):g(i,i.length)}function f(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[t];if(void 0===u)return!1;if("function"===typeof u)o(u,this,e);else{var l=u.length,c=g(u,l);for(n=0;n<l;++n)o(c[n],this,e)}return!0},a.prototype.addListener=function(t,e){return p(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return p(this,t,e,!0)},a.prototype.once=function(t,e){return l(e),this.on(t,h(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,h(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return d(this,t,!0)},a.prototype.rawListeners=function(t){return d(this,t,!1)},a.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){(e=t.exports=n(50)).Stream=e,e.Readable=e,e.Writable=n(40),e.Duplex=n(24),e.Transform=n(54),e.PassThrough=n(89)},function(t,e,n){"use strict";(function(e,r,i){var o=n(31);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=m;var a,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;m.WritableState=_;var l=Object.create(n(30));l.inherits=n(25);var c={deprecate:n(88)},p=n(51),h=n(32).Buffer,d=i.Uint8Array||function(){};var f,g=n(52);function v(){}function _(t,e){a=a||n(24),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,l=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var p=!1===t.decodeStrings;this.decodeStrings=!p,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(T,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),T(t,e))}(t,n,r,e,i);else{var s=E(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||x(t,n),r?u(b,t,n,s,i):b(t,n,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function m(t){if(a=a||n(24),!f.call(m,this)&&!(this instanceof a))return new m(t);this._writableState=new _(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),p.call(this)}function y(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function b(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),T(t,e)}function x(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)i[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;i.allBuffers=u,y(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,p=n.callback;if(y(t,e,!1,e.objectMode?1:l.length,l,c,p),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function w(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),T(t,e)})}function T(t,e){var n=E(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(w,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(m,p),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(_.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===m&&(t&&t._writableState instanceof _)}})):f=function(t){return t instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(t,e,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=t,h.isBuffer(r)||r instanceof d);return a&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"===typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!==typeof n&&(n=v),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,t,n))&&(i.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=h.from(e,n));return e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,a,r,i,o);return u}(this,i,a,t,e,n)),s},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||x(this,t))},m.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(t,e,n){var r=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,T(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(29),n(48).setImmediate,n(18))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),s=u(o),a=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}var l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],p=function(t,e){e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.letterSpacing=t.letterSpacing,e.style.textTransform=t.textTransform},h=!("undefined"===typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),d=function(){return h?"_"+Math.random().toString(36).substr(2,12):void 0},f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.inputRef=function(t){n.input=t,"function"===typeof n.props.inputRef&&n.props.inputRef(t)},n.placeHolderSizerRef=function(t){n.placeHolderSizer=t},n.sizerRef=function(t){n.sizer=t},n.state={inputWidth:t.minWidth,inputId:t.id||d()},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),i(e,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=t.id;e!==this.props.id&&this.setState({inputId:e||d()})}},{key:"componentDidUpdate",value:function(t,e){e.inputWidth!==this.state.inputWidth&&"function"===typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var t=this.input&&window.getComputedStyle(this.input);t&&(p(t,this.sizer),this.placeHolderSizer&&p(t,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&"undefined"!==typeof this.sizer.scrollWidth){var t=void 0;t=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(t+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var t=this.props.injectStyles;return h&&t?s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var t=[this.props.defaultValue,this.props.value,""].reduce(function(t,e){return null!==t&&void 0!==t?t:e}),e=r({},this.props.style);e.display||(e.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(this.props,[]);return function(t){c.forEach(function(e){return delete t[e]})}(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=n,s.default.createElement("div",{className:this.props.className,style:e},this.renderStyles(),s.default.createElement("input",r({},i,{ref:this.inputRef})),s.default.createElement("div",{ref:this.sizerRef,style:l},t),this.props.placeholder?s.default.createElement("div",{ref:this.placeHolderSizerRef,style:l},this.props.placeholder):null)}}]),e}();f.propTypes={className:a.default.string,defaultValue:a.default.any,extraWidth:a.default.oneOfType([a.default.number,a.default.string]),id:a.default.string,injectStyles:a.default.bool,inputClassName:a.default.string,inputRef:a.default.func,inputStyle:a.default.object,minWidth:a.default.oneOfType([a.default.number,a.default.string]),onAutosize:a.default.func,onChange:a.default.func,placeholder:a.default.string,placeholderIsMinWidth:a.default.bool,style:a.default.object,value:a.default.any},f.defaultProps={minWidth:1,injectStyles:!0},e.default=f},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(0)),i=o(n(101));function o(t){return t&&t.__esModule?t:{default:t}}e.default=r.default.createContext||i.default,t.exports=e.default},function(t,e,n){var r=n(108);t.exports=d,t.exports.parse=o,t.exports.compile=function(t,e){return a(o(t,e),e)},t.exports.tokensToFunction=a,t.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,s=0,a="",c=e&&e.delimiter||"/";null!=(n=i.exec(t));){var p=n[0],h=n[1],d=n.index;if(a+=t.slice(s,d),s=d+p.length,h)a+=h[1];else{var f=t[s],g=n[2],v=n[3],_=n[4],m=n[5],y=n[6],b=n[7];a&&(r.push(a),a="");var x=null!=g&&null!=f&&f!==g,E="+"===y||"*"===y,w="?"===y||"*"===y,T=n[2]||c,O=_||m;r.push({name:v||o++,prefix:g||"",delimiter:T,optional:w,repeat:E,partial:x,asterisk:!!b,pattern:O?l(O):b?".*":"[^"+u(T)+"]+?"})}}return s<t.length&&(a+=t.substr(s)),a&&r.push(a),r}function s(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",p(e)));return function(e,i){for(var o="",a=e||{},u=(i||{}).pretty?s:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!==typeof c){var p,h=a[c.name];if(null==h){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(p=u(h[d]),!n[l].test(p))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===d?c.prefix:c.delimiter)+p}}else{if(p=c.asterisk?encodeURI(h).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):u(h),!n[l].test(p))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+p+'"');o+=c.prefix+p}}else o+=c}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t,e){return t.keys=e,t}function p(t){return t&&t.sensitive?"":"i"}function h(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,s="",a=0;a<t.length;a++){var l=t[a];if("string"===typeof l)s+=u(l);else{var h=u(l.prefix),d="(?:"+l.pattern+")";e.push(l),l.repeat&&(d+="(?:"+h+d+")*"),s+=d=l.optional?l.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var f=u(n.delimiter||"/"),g=s.slice(-f.length)===f;return i||(s=(g?s.slice(0,-f.length):s)+"(?:"+f+"(?=$))?"),s+=o?"$":i&&g?"":"(?="+f+"|$)",c(new RegExp("^"+s,p(n)),e)}function d(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(d(t[i],e,n).source);return c(new RegExp("(?:"+r.join("|")+")",p(n)),e)}(t,e,n):function(t,e,n){return h(o(t,n),e,n)}(t,e,n)}},,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(a[l]=n[l]);if(r){s=r(n);for(var c=0;c<s.length;c++)o.call(n,s[c])&&(a[s[c]]=n[s[c]])}}return a}},function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(82),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(18))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";(function(e,r){var i=n(31);t.exports=y;var o,s=n(49);y.ReadableState=m;n(38).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=n(51),l=n(32).Buffer,c=e.Uint8Array||function(){};var p=Object.create(n(30));p.inherits=n(25);var h=n(85),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var f,g=n(86),v=n(52);p.inherits(y,u);var _=["error","close","destroy","pause","resume"];function m(t,e){t=t||{};var r=e instanceof(o=o||n(24));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=n(53).StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function y(t){if(o=o||n(24),!(this instanceof y))return new y(t);this._readableState=new m(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function b(t,e,n,r,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,T(t)}(t,s)):(i||(o=function(t,e){var n;r=e,l.isBuffer(r)||r instanceof c||"string"===typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"===typeof e||s.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):x(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?x(t,s,e,!1):C(t,s)):x(t,s,e,!1))):r||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function x(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&T(t)),C(t,e)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(t,e){this.push(null),e(t)},y.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=l.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},y.prototype.unshift=function(t){return b(this,t,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(t){return f||(f=n(53).StringDecoder),this._readableState.decoder=new f(t),this._readableState.encoding=t,this};var E=8388608;function w(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=E?t=E:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function T(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(O,t):O(t))}function O(t){d("emit readable"),t.emit("readable"),A(t)}function C(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(S,t,e))}function S(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function k(t){d("readable nexttick read 0"),t.read(0)}function I(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function N(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=l.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function D(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(R,e,t))}function R(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function P(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}y.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?D(this):T(this),null;if(0===(t=w(t,e))&&e.ended)return 0===e.length&&D(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=w(n,e))),null===(r=t>0?N(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&D(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?c:y;function l(e,r){d("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),t.removeListener("close",_),t.removeListener("finish",m),t.removeListener("drain",p),t.removeListener("error",v),t.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",g),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||p())}function c(){d("onend"),t.end()}o.endEmitted?i.nextTick(u):n.once("end",u),t.on("unpipe",l);var p=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,A(t))}}(n);t.on("drain",p);var h=!1;var f=!1;function g(e){d("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==P(o.pipes,t))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function v(e){d("onerror",e),y(),t.removeListener("error",v),0===a(t,"error")&&t.emit("error",e)}function _(){t.removeListener("finish",m),y()}function m(){d("onfinish"),t.removeListener("close",_),y()}function y(){d("unpipe"),n.unpipe(t)}return n.on("data",g),function(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",v),t.once("close",_),t.once("finish",m),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},y.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=P(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},y.prototype.on=function(t,e){var n=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&T(this):i.nextTick(k,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(I,t,e))}(this,t)),this},y.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause())))}),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<_.length;o++)t.on(_[o],this.emit.bind(this,_[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=N}).call(this,n(18),n(29))},function(t,e,n){t.exports=n(38).EventEmitter},function(t,e,n){"use strict";var r=n(31);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var r=n(32).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!==typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=c,this.end=p,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"\ufffd"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function p(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=s;var r=n(24),i=Object.create(n(30));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"===typeof this._flush?this._flush(function(e,n){u(t,e,n)}):u(this,null,null)}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(25),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(1)),i=a(n(0)),o=a(n(17)),s=n(56);n(57);function a(t){return t&&t.__esModule?t:{default:t}}var u="unmounted";e.UNMOUNTED=u;var l="exited";e.EXITED=l;var c="entering";e.ENTERING=c;var p="entered";e.ENTERED=p;e.EXITING="exiting";var h=function(t){var e,n;function r(e,n){var r;r=t.call(this,e,n)||this;var i,o=n.transitionGroup,s=o&&!o.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?s?(i=l,r.appearStatus=c):i=p:i=e.unmountOnExit||e.mountOnEnter?u:l,r.state={status:i},r.nextCallback=null,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=r.prototype;return s.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===u?{status:l}:null},s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==c&&n!==p&&(e=c):n!==c&&n!==p||(e="exiting")}this.updateStatus(!1,e)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},s.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=o.default.findDOMNode(this);e===c?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:u})},s.performEnter=function(t,e){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts(),s=i?o.appear:o.enter;e||r?(this.props.onEnter(t,i),this.safeSetState({status:c},function(){n.props.onEntering(t,i),n.onTransitionEnd(t,s,function(){n.safeSetState({status:p},function(){n.props.onEntered(t,i)})})})):this.safeSetState({status:p},function(){n.props.onEntered(t)})},s.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:"exiting"},function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,function(){e.safeSetState({status:l},function(){e.props.onExited(t)})})})):this.safeSetState({status:l},function(){e.props.onExited(t)})},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},s.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(t,e,n){this.setNextCallback(n);var r=null==e&&!this.props.addEndListener;t&&!r?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},s.render=function(){var t=this.state.status;if(t===u)return null;var e=this.props,n=e.children,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(t,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function d(){}h.contextTypes={transitionGroup:r.object},h.childContextTypes={transitionGroup:function(){}},h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var f=(0,s.polyfill)(h);e.default=f},function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function i(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function o(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function s(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,s=null,a=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?s="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?a="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==a){var u=t.displayName||t.name,l="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=i),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=o;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",function(){return s}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(t,e,n){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0;var r;(r=n(1))&&r.__esModule;e.timeoutsShape=null;e.classNamesShape=null},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=a(n(1)),i=a(n(0)),o=n(56),s=n(100);function a(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},p=function(t){var e,n;function r(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(l(l(r)));return r.state={handleExited:i,firstRender:!0},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,s.getInitialChildMapping)(t,r):(0,s.getNextChildMapping)(t,n,r),firstRender:!1}},o.handleExited=function(t,e){var n=(0,s.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState(function(e){var n=u({},e.children);return delete n[t.key],{children:n}}))},o.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["component","childFactory"]),o=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o:i.default.createElement(e,r,o)},r}(i.default.Component);p.childContextTypes={transitionGroup:r.default.object.isRequired},p.propTypes={},p.defaultProps={component:"div",childFactory:function(t){return t}};var h=(0,o.polyfill)(p);e.default=h,t.exports=e.default},function(t,e,n){"use strict";(function(e){var n="__global_unique_id__";t.exports=function(){return e[n]=(e[n]||0)+1}}).call(this,n(18))},function(t,e,n){"use strict";t.exports=n(109)},function(t,e,n){"use strict";function r(t){return getComputedStyle(t)}function i(t,e){for(var n in e){var r=e[n];"number"===typeof r&&(r+="px"),t.style[n]=r}return t}function o(t){var e=document.createElement("div");return e.className=t,e}var s="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function a(t,e){if(!s)throw new Error("No element matching method supported");return s.call(t,e)}function u(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function l(t,e){return Array.prototype.filter.call(t.children,function(t){return a(t,e)})}var c={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},p={x:null,y:null};function h(t,e){var n=t.element.classList,r=c.state.scrolling(e);n.contains(r)?clearTimeout(p[e]):n.add(r)}function d(t,e){p[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(c.state.scrolling(e))},t.settings.scrollingThreshold)}var f=function(t){this.element=t,this.handlers={}},g={isEmpty:{configurable:!0}};f.prototype.bind=function(t,e){"undefined"===typeof this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},f.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)})},f.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},g.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(f.prototype,g);var v=function(){this.eventElements=[]};function _(t){if("function"===typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}v.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new f(t),this.eventElements.push(e)),e},v.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},v.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},v.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},v.prototype.once=function(t,e,n){var r=this.eventElement(t);r.bind(e,function t(i){r.unbind(e,t),n(i)})};var m=function(t,e,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,r,i){var o=n[0],s=n[1],a=n[2],u=n[3],l=n[4],c=n[5];void 0===r&&(r=!0);void 0===i&&(i=!1);var p=t.element;t.reach[u]=null,p[a]<1&&(t.reach[u]="start");p[a]>t[o]-t[s]-1&&(t.reach[u]="end");e&&(p.dispatchEvent(_("ps-scroll-"+u)),e<0?p.dispatchEvent(_("ps-scroll-"+l)):e>0&&p.dispatchEvent(_("ps-scroll-"+c)),r&&function(t,e){h(t,e),d(t,e)}(t,u));t.reach[u]&&(e||i)&&p.dispatchEvent(_("ps-"+u+"-reach-"+t.reach[u]))}(t,n,o,r,i)};function y(t){return parseInt(t,10)||0}var b={isWebKit:"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!==typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!==typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},x=function(t){var e=t.element,n=Math.floor(e.scrollTop);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(l(e,c.element.rail("x")).forEach(function(t){return u(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(l(e,c.element.rail("y")).forEach(function(t){return u(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=E(t,y(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=y((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=E(t,y(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=y(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},r=Math.floor(t.scrollTop);e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft;e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-r:n.top=e.scrollbarXTop+r;i(e.scrollbarXRail,n);var o={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?o.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:o.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?o.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:o.left=e.scrollbarYLeft+t.scrollLeft;i(e.scrollbarYRail,o),i(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),i(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(c.state.active("x")):(e.classList.remove(c.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(c.state.active("y")):(e.classList.remove(c.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)};function E(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function w(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],p=e[8],f=t.element,g=null,v=null,_=null;function m(e){f[u]=g+_*(e[i]-v),h(t,l),x(t),e.stopPropagation(),e.preventDefault()}function y(){d(t,l),t[p].classList.remove(c.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",m)}t.event.bind(t[s],"mousedown",function(e){g=f[u],v=e[i],_=(t[r]-t[n])/(t[o]-t[a]),t.event.bind(t.ownerDocument,"mousemove",m),t.event.once(t.ownerDocument,"mouseup",y),t[p].classList.add(c.state.clicking),e.stopPropagation(),e.preventDefault()})}var T={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=n*t.containerHeight,x(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=n*t.containerWidth,x(t),e.stopPropagation()})},"drag-thumb":function(t){w(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),w(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(a(e,":hover")||a(t.scrollbarX,":focus")||a(t.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(a(r=i,"input,[contenteditable]")||a(r,"select,[contenteditable]")||a(r,"textarea,[contenteditable]")||a(r,"button,[contenteditable]"))return}var o=0,s=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:s=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:s=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:s=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,e.scrollLeft+=o,x(t),function(n,r){var i=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,s)&&n.preventDefault())}})},wheel:function(t){var e=t.element;function n(n){var i=function(t){var e=t.deltaX,n=-1*t.deltaY;return"undefined"!==typeof e&&"undefined"!==typeof n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!==e&&n!==n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),o=i[0],s=i[1];if(!function(t,n,i){if(!b.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains(c.element.consuming))return!0;var s=r(o);if([s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/)){var a=o.scrollHeight-o.clientHeight;if(a>0&&!(0===o.scrollTop&&i>0)&&!(o.scrollTop===a&&i<0))return!0;var u=o.scrollWidth-o.clientWidth;if(u>0&&!(0===o.scrollLeft&&n<0)&&!(o.scrollLeft===u&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,s)){var a=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(s?e.scrollTop-=s*t.settings.wheelSpeed:e.scrollTop+=o*t.settings.wheelSpeed,a=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(o?e.scrollLeft+=o*t.settings.wheelSpeed:e.scrollLeft-=s*t.settings.wheelSpeed,a=!0):(e.scrollTop-=s*t.settings.wheelSpeed,e.scrollLeft+=o*t.settings.wheelSpeed),x(t),(a=a||function(n,r){var i=Math.floor(e.scrollTop),o=0===e.scrollTop,s=i+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,u=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||s:a||u)||!t.settings.wheelPropagation}(o,s))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}"undefined"!==typeof window.onwheel?t.event.bind(e,"wheel",n):"undefined"!==typeof window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(b.supportsTouch||b.supportsIePointer){var e=t.element,n={},i=0,o={},s=null;b.supportsTouch?(t.event.bind(e,"touchstart",p),t.event.bind(e,"touchmove",h),t.event.bind(e,"touchend",d)):b.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",p),t.event.bind(e,"pointermove",h),t.event.bind(e,"pointerup",d)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",p),t.event.bind(e,"MSPointerMove",h),t.event.bind(e,"MSPointerUp",d)))}function a(n,r){e.scrollTop-=r,e.scrollLeft-=n,x(t)}function u(t){return t.targetTouches?t.targetTouches[0]:t}function l(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function p(t){if(l(t)){var e=u(t);n.pageX=e.pageX,n.pageY=e.pageY,i=(new Date).getTime(),null!==s&&clearInterval(s)}}function h(s){if(l(s)){var p=u(s),h={pageX:p.pageX,pageY:p.pageY},d=h.pageX-n.pageX,f=h.pageY-n.pageY;if(function(t,n,i){if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains(c.element.consuming))return!0;var s=r(o);if([s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/)){var a=o.scrollHeight-o.clientHeight;if(a>0&&!(0===o.scrollTop&&i>0)&&!(o.scrollTop===a&&i<0))return!0;var u=o.scrollLeft-o.clientWidth;if(u>0&&!(0===o.scrollLeft&&n<0)&&!(o.scrollLeft===u&&n>0))return!0}o=o.parentNode}return!1}(s.target,d,f))return;a(d,f),n=h;var g=(new Date).getTime(),v=g-i;v>0&&(o.x=d/v,o.y=f/v,i=g),function(n,r){var i=Math.floor(e.scrollTop),o=e.scrollLeft,s=Math.abs(n),a=Math.abs(r);if(a>s){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&b.isChrome}else if(s>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(d,f)&&s.preventDefault()}}function d(){t.settings.swipeEasing&&(clearInterval(s),s=setInterval(function(){t.isInitialized?clearInterval(s):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(s):(a(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(s)},10))}}},O=function(t,e){var n=this;if(void 0===e&&(e={}),"string"===typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var s in this.element=t,t.classList.add(c.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)n.settings[s]=e[s];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var a=function(){return t.classList.add(c.state.focus)},u=function(){return t.classList.remove(c.state.focus)};this.isRtl="rtl"===r(t).direction,this.isNegativeScroll=function(){var e,n=t.scrollLeft;return t.scrollLeft=-1,e=t.scrollLeft<0,t.scrollLeft=n,e}(),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new v,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=o(c.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=o(c.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",u),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=r(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=y(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=y(l.borderLeftWidth)+y(l.borderRightWidth),i(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=y(l.marginLeft)+y(l.marginRight),i(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=o(c.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=o(c.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",u),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var p=r(this.scrollbarYRail);this.scrollbarYRight=parseInt(p.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=y(p.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=r(t);return y(e.width)+y(e.paddingLeft)+y(e.paddingRight)+y(e.borderLeftWidth)+y(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=y(p.borderTopWidth)+y(p.borderBottomWidth),i(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=y(p.marginTop)+y(p.marginBottom),i(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return T[t](n)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return n.onScroll(t)}),x(this)};O.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,i(this.scrollbarXRail,{display:"block"}),i(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=y(r(this.scrollbarXRail).marginLeft)+y(r(this.scrollbarXRail).marginRight),this.railYMarginHeight=y(r(this.scrollbarYRail).marginTop)+y(r(this.scrollbarYRail).marginBottom),i(this.scrollbarXRail,{display:"none"}),i(this.scrollbarYRail,{display:"none"}),x(this),m(this,"top",0,!1,!0),m(this,"left",0,!1,!0),i(this.scrollbarXRail,{display:""}),i(this.scrollbarYRail,{display:""}))},O.prototype.onScroll=function(t){this.isAlive&&(x(this),m(this,"top",this.element.scrollTop-this.lastScrollTop),m(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},O.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),u(this.scrollbarX),u(this.scrollbarY),u(this.scrollbarXRail),u(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},O.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")},e.a=O},function(t,e,n){(function(t,r){var i;(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,p="__lodash_placeholder__",h=1,d=2,f=4,g=1,v=2,_=1,m=2,y=4,b=8,x=16,E=32,w=64,T=128,O=256,C=512,S=30,k="...",I=800,A=16,N=1,D=2,R=1/0,P=9007199254740991,L=1.7976931348623157e308,M=NaN,F=4294967295,j=F-1,B=F>>>1,z=[["ary",T],["bind",_],["bindKey",m],["curry",b],["curryRight",x],["flip",C],["partial",E],["partialRight",w],["rearg",O]],G="[object Arguments]",U="[object Array]",H="[object AsyncFunction]",W="[object Boolean]",V="[object Date]",Y="[object DOMException]",X="[object Error]",q="[object Function]",$="[object GeneratorFunction]",K="[object Map]",Q="[object Number]",Z="[object Null]",J="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",rt="[object String]",it="[object Symbol]",ot="[object Undefined]",st="[object WeakMap]",at="[object WeakSet]",ut="[object ArrayBuffer]",lt="[object DataView]",ct="[object Float32Array]",pt="[object Float64Array]",ht="[object Int8Array]",dt="[object Int16Array]",ft="[object Int32Array]",gt="[object Uint8Array]",vt="[object Uint8ClampedArray]",_t="[object Uint16Array]",mt="[object Uint32Array]",yt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Et=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,Tt=RegExp(Et.source),Ot=RegExp(wt.source),Ct=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,kt=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/[\\^$.*+?()[\]{}|]/g,Rt=RegExp(Dt.source),Pt=/^\s+|\s+$/g,Lt=/^\s+/,Mt=/\s+$/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,jt=/\{\n\/\* \[wrapped with (.+)\] \*/,Bt=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gt=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ht=/\w*$/,Wt=/^[-+]0x[0-9a-f]+$/i,Vt=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,Xt=/^0o[0-7]+$/i,qt=/^(?:0|[1-9]\d*)$/,$t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Qt=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Jt+"]",ne="["+Zt+"]",re="\\d+",ie="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",se="[^\\ud800-\\udfff"+Jt+re+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",le="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",pe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",he="(?:"+oe+"|"+se+")",de="(?:"+pe+"|"+se+")",fe="(?:"+ne+"|"+ae+")"+"?",ge="[\\ufe0e\\ufe0f]?"+fe+("(?:\\u200d(?:"+[ue,le,ce].join("|")+")[\\ufe0e\\ufe0f]?"+fe+")*"),ve="(?:"+[ie,le,ce].join("|")+")"+ge,_e="(?:"+[ue+ne+"?",ne,le,ce,te].join("|")+")",me=RegExp("['\u2019]","g"),ye=RegExp(ne,"g"),be=RegExp(ae+"(?="+ae+")|"+_e+ge,"g"),xe=RegExp([pe+"?"+oe+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[ee,pe,"$"].join("|")+")",de+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[ee,pe+he,"$"].join("|")+")",pe+"?"+he+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",pe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",re,ve].join("|"),"g"),Ee=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),we=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Te=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Oe=-1,Ce={};Ce[ct]=Ce[pt]=Ce[ht]=Ce[dt]=Ce[ft]=Ce[gt]=Ce[vt]=Ce[_t]=Ce[mt]=!0,Ce[G]=Ce[U]=Ce[ut]=Ce[W]=Ce[lt]=Ce[V]=Ce[X]=Ce[q]=Ce[K]=Ce[Q]=Ce[J]=Ce[et]=Ce[nt]=Ce[rt]=Ce[st]=!1;var Se={};Se[G]=Se[U]=Se[ut]=Se[lt]=Se[W]=Se[V]=Se[ct]=Se[pt]=Se[ht]=Se[dt]=Se[ft]=Se[K]=Se[Q]=Se[J]=Se[et]=Se[nt]=Se[rt]=Se[it]=Se[gt]=Se[vt]=Se[_t]=Se[mt]=!0,Se[X]=Se[q]=Se[st]=!1;var ke={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ie=parseFloat,Ae=parseInt,Ne="object"==typeof t&&t&&t.Object===Object&&t,De="object"==typeof self&&self&&self.Object===Object&&self,Re=Ne||De||Function("return this")(),Pe=e&&!e.nodeType&&e,Le=Pe&&"object"==typeof r&&r&&!r.nodeType&&r,Me=Le&&Le.exports===Pe,Fe=Me&&Ne.process,je=function(){try{var t=Le&&Le.require&&Le.require("util").types;return t||Fe&&Fe.binding&&Fe.binding("util")}catch(e){}}(),Be=je&&je.isArrayBuffer,ze=je&&je.isDate,Ge=je&&je.isMap,Ue=je&&je.isRegExp,He=je&&je.isSet,We=je&&je.isTypedArray;function Ve(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ye(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function Xe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function qe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function $e(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ke(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Qe(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Ze(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Je(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function tn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function en(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function nn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var on=hn("length");function sn(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function an(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):an(t,cn,n)}function ln(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function cn(t){return t!==t}function pn(t,e){var n=null==t?0:t.length;return n?gn(t,e)/n:M}function hn(t){return function(e){return null==e?o:e[t]}}function dn(t){return function(e){return null==t?o:t[e]}}function fn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function gn(t,e){for(var n,r=-1,i=t.length;++r<i;){var s=e(t[r]);s!==o&&(n=n===o?s:n+s)}return n}function vn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function _n(t){return function(e){return t(e)}}function mn(t,e){return Je(e,function(e){return t[e]})}function yn(t,e){return t.has(e)}function bn(t,e){for(var n=-1,r=t.length;++n<r&&un(e,t[n],0)>-1;);return n}function xn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var En=dn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),wn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Tn(t){return"\\"+ke[t]}function On(t){return Ee.test(t)}function Cn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Sn(t,e){return function(n){return t(e(n))}}function kn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==p||(t[n]=p,o[i++]=n)}return o}function In(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function An(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Nn(t){return On(t)?function(t){var e=be.lastIndex=0;for(;be.test(t);)++e;return e}(t):on(t)}function Dn(t){return On(t)?function(t){return t.match(be)||[]}(t):function(t){return t.split("")}(t)}var Rn=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pn=function t(e){var n=(e=null==e?Re:Pn.defaults(Re.Object(),e,Pn.pick(Re,Te))).Array,r=e.Date,i=e.Error,Zt=e.Function,Jt=e.Math,te=e.Object,ee=e.RegExp,ne=e.String,re=e.TypeError,ie=n.prototype,oe=Zt.prototype,se=te.prototype,ae=e["__core-js_shared__"],ue=oe.toString,le=se.hasOwnProperty,ce=0,pe=function(){var t=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),he=se.toString,de=ue.call(te),fe=Re._,ge=ee("^"+ue.call(le).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=Me?e.Buffer:o,_e=e.Symbol,be=e.Uint8Array,Ee=ve?ve.allocUnsafe:o,ke=Sn(te.getPrototypeOf,te),Ne=te.create,De=se.propertyIsEnumerable,Pe=ie.splice,Le=_e?_e.isConcatSpreadable:o,Fe=_e?_e.iterator:o,je=_e?_e.toStringTag:o,on=function(){try{var t=jo(te,"defineProperty");return t({},"",{}),t}catch(e){}}(),dn=e.clearTimeout!==Re.clearTimeout&&e.clearTimeout,Ln=r&&r.now!==Re.Date.now&&r.now,Mn=e.setTimeout!==Re.setTimeout&&e.setTimeout,Fn=Jt.ceil,jn=Jt.floor,Bn=te.getOwnPropertySymbols,zn=ve?ve.isBuffer:o,Gn=e.isFinite,Un=ie.join,Hn=Sn(te.keys,te),Wn=Jt.max,Vn=Jt.min,Yn=r.now,Xn=e.parseInt,qn=Jt.random,$n=ie.reverse,Kn=jo(e,"DataView"),Qn=jo(e,"Map"),Zn=jo(e,"Promise"),Jn=jo(e,"Set"),tr=jo(e,"WeakMap"),er=jo(te,"create"),nr=tr&&new tr,rr={},ir=cs(Kn),or=cs(Qn),sr=cs(Zn),ar=cs(Jn),ur=cs(tr),lr=_e?_e.prototype:o,cr=lr?lr.valueOf:o,pr=lr?lr.toString:o;function hr(t){if(Sa(t)&&!va(t)&&!(t instanceof vr)){if(t instanceof gr)return t;if(le.call(t,"__wrapped__"))return ps(t)}return new gr(t)}var dr=function(){function t(){}return function(e){if(!Ca(e))return{};if(Ne)return Ne(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function fr(){}function gr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function vr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function _r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function mr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function yr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new yr;++e<n;)this.add(t[e])}function xr(t){var e=this.__data__=new mr(t);this.size=e.size}function Er(t,e){var n=va(t),r=!n&&ga(t),i=!n&&!r&&ba(t),o=!n&&!r&&!i&&La(t),s=n||r||i||o,a=s?vn(t.length,ne):[],u=a.length;for(var l in t)!e&&!le.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Vo(l,u))||a.push(l);return a}function wr(t){var e=t.length;return e?t[bi(0,e-1)]:o}function Tr(t,e){return as(eo(t),Rr(e,0,t.length))}function Or(t){return as(eo(t))}function Cr(t,e,n){(n===o||ha(t[e],n))&&(n!==o||e in t)||Nr(t,e,n)}function Sr(t,e,n){var r=t[e];le.call(t,e)&&ha(r,n)&&(n!==o||e in t)||Nr(t,e,n)}function kr(t,e){for(var n=t.length;n--;)if(ha(t[n][0],e))return n;return-1}function Ir(t,e,n,r){return jr(t,function(t,i,o){e(r,t,n(t),o)}),r}function Ar(t,e){return t&&no(e,ru(e),t)}function Nr(t,e,n){"__proto__"==e&&on?on(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Dr(t,e){for(var r=-1,i=e.length,s=n(i),a=null==t;++r<i;)s[r]=a?o:Za(t,e[r]);return s}function Rr(t,e,n){return t===t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Pr(t,e,n,r,i,s){var a,u=e&h,l=e&d,c=e&f;if(n&&(a=i?n(t,r,i,s):n(t)),a!==o)return a;if(!Ca(t))return t;var p=va(t);if(p){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&le.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return eo(t,a)}else{var g=Go(t),v=g==q||g==$;if(ba(t))return $i(t,u);if(g==J||g==G||v&&!i){if(a=l||v?{}:Ho(t),!u)return l?function(t,e){return no(t,zo(t),e)}(t,function(t,e){return t&&no(e,iu(e),t)}(a,t)):function(t,e){return no(t,Bo(t),e)}(t,Ar(a,t))}else{if(!Se[g])return i?t:{};a=function(t,e,n){var r,i=t.constructor;switch(e){case ut:return Ki(t);case W:case V:return new i(+t);case lt:return function(t,e){var n=e?Ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ct:case pt:case ht:case dt:case ft:case gt:case vt:case _t:case mt:return Qi(t,n);case K:return new i;case Q:case rt:return new i(t);case et:return function(t){var e=new t.constructor(t.source,Ht.exec(t));return e.lastIndex=t.lastIndex,e}(t);case nt:return new i;case it:return r=t,cr?te(cr.call(r)):{}}}(t,g,u)}}s||(s=new xr);var _=s.get(t);if(_)return _;s.set(t,a),Da(t)?t.forEach(function(r){a.add(Pr(r,e,n,r,t,s))}):ka(t)&&t.forEach(function(r,i){a.set(i,Pr(r,e,n,i,t,s))});var m=p?o:(c?l?No:Ao:l?iu:ru)(t);return Xe(m||t,function(r,i){m&&(r=t[i=r]),Sr(a,i,Pr(r,e,n,i,t,s))}),a}function Lr(t,e,n){var r=n.length;if(null==t)return!r;for(t=te(t);r--;){var i=n[r],s=e[i],a=t[i];if(a===o&&!(i in t)||!s(a))return!1}return!0}function Mr(t,e,n){if("function"!=typeof t)throw new re(u);return rs(function(){t.apply(o,n)},e)}function Fr(t,e,n,r){var i=-1,o=Qe,a=!0,u=t.length,l=[],c=e.length;if(!u)return l;n&&(e=Je(e,_n(n))),r?(o=Ze,a=!1):e.length>=s&&(o=yn,a=!1,e=new br(e));t:for(;++i<u;){var p=t[i],h=null==n?p:n(p);if(p=r||0!==p?p:0,a&&h===h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(p)}else o(e,h,r)||l.push(p)}return l}hr.templateSettings={escape:Ct,evaluate:St,interpolate:kt,variable:"",imports:{_:hr}},hr.prototype=fr.prototype,hr.prototype.constructor=hr,gr.prototype=dr(fr.prototype),gr.prototype.constructor=gr,vr.prototype=dr(fr.prototype),vr.prototype.constructor=vr,_r.prototype.clear=function(){this.__data__=er?er(null):{},this.size=0},_r.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},_r.prototype.get=function(t){var e=this.__data__;if(er){var n=e[t];return n===l?o:n}return le.call(e,t)?e[t]:o},_r.prototype.has=function(t){var e=this.__data__;return er?e[t]!==o:le.call(e,t)},_r.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=er&&e===o?l:e,this},mr.prototype.clear=function(){this.__data__=[],this.size=0},mr.prototype.delete=function(t){var e=this.__data__,n=kr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Pe.call(e,n,1),--this.size,!0)},mr.prototype.get=function(t){var e=this.__data__,n=kr(e,t);return n<0?o:e[n][1]},mr.prototype.has=function(t){return kr(this.__data__,t)>-1},mr.prototype.set=function(t,e){var n=this.__data__,r=kr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},yr.prototype.clear=function(){this.size=0,this.__data__={hash:new _r,map:new(Qn||mr),string:new _r}},yr.prototype.delete=function(t){var e=Mo(this,t).delete(t);return this.size-=e?1:0,e},yr.prototype.get=function(t){return Mo(this,t).get(t)},yr.prototype.has=function(t){return Mo(this,t).has(t)},yr.prototype.set=function(t,e){var n=Mo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},br.prototype.add=br.prototype.push=function(t){return this.__data__.set(t,l),this},br.prototype.has=function(t){return this.__data__.has(t)},xr.prototype.clear=function(){this.__data__=new mr,this.size=0},xr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xr.prototype.get=function(t){return this.__data__.get(t)},xr.prototype.has=function(t){return this.__data__.has(t)},xr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof mr){var r=n.__data__;if(!Qn||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yr(r)}return n.set(t,e),this.size=n.size,this};var jr=oo(Yr),Br=oo(Xr,!0);function zr(t,e){var n=!0;return jr(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Gr(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(null!=a&&(u===o?a===a&&!Pa(a):n(a,u)))var u=a,l=s}return l}function Ur(t,e){var n=[];return jr(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Hr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Wo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Hr(a,e-1,n,r,i):tn(i,a):r||(i[i.length]=a)}return i}var Wr=so(),Vr=so(!0);function Yr(t,e){return t&&Wr(t,e,ru)}function Xr(t,e){return t&&Vr(t,e,ru)}function qr(t,e){return Ke(e,function(e){return wa(t[e])})}function $r(t,e){for(var n=0,r=(e=Vi(e,t)).length;null!=t&&n<r;)t=t[ls(e[n++])];return n&&n==r?t:o}function Kr(t,e,n){var r=e(t);return va(t)?r:tn(r,n(t))}function Qr(t){return null==t?t===o?ot:Z:je&&je in te(t)?function(t){var e=le.call(t,je),n=t[je];try{t[je]=o;var r=!0}catch(s){}var i=he.call(t);return r&&(e?t[je]=n:delete t[je]),i}(t):function(t){return he.call(t)}(t)}function Zr(t,e){return t>e}function Jr(t,e){return null!=t&&le.call(t,e)}function ti(t,e){return null!=t&&e in te(t)}function ei(t,e,r){for(var i=r?Ze:Qe,s=t[0].length,a=t.length,u=a,l=n(a),c=1/0,p=[];u--;){var h=t[u];u&&e&&(h=Je(h,_n(e))),c=Vn(h.length,c),l[u]=!r&&(e||s>=120&&h.length>=120)?new br(u&&h):o}h=t[0];var d=-1,f=l[0];t:for(;++d<s&&p.length<c;){var g=h[d],v=e?e(g):g;if(g=r||0!==g?g:0,!(f?yn(f,v):i(p,v,r))){for(u=a;--u;){var _=l[u];if(!(_?yn(_,v):i(t[u],v,r)))continue t}f&&f.push(v),p.push(g)}}return p}function ni(t,e,n){var r=null==(t=ts(t,e=Vi(e,t)))?t:t[ls(Es(e))];return null==r?o:Ve(r,t,n)}function ri(t){return Sa(t)&&Qr(t)==G}function ii(t,e,n,r,i){return t===e||(null==t||null==e||!Sa(t)&&!Sa(e)?t!==t&&e!==e:function(t,e,n,r,i,s){var a=va(t),u=va(e),l=a?U:Go(t),c=u?U:Go(e),p=(l=l==G?J:l)==J,h=(c=c==G?J:c)==J,d=l==c;if(d&&ba(t)){if(!ba(e))return!1;a=!0,p=!1}if(d&&!p)return s||(s=new xr),a||La(t)?ko(t,e,n,r,i,s):function(t,e,n,r,i,o,s){switch(n){case lt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new be(t),new be(e)));case W:case V:case Q:return ha(+t,+e);case X:return t.name==e.name&&t.message==e.message;case et:case rt:return t==e+"";case K:var a=Cn;case nt:var u=r&g;if(a||(a=In),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=v,s.set(t,e);var c=ko(a(t),a(e),r,i,o,s);return s.delete(t),c;case it:if(cr)return cr.call(t)==cr.call(e)}return!1}(t,e,l,n,r,i,s);if(!(n&g)){var f=p&&le.call(t,"__wrapped__"),_=h&&le.call(e,"__wrapped__");if(f||_){var m=f?t.value():t,y=_?e.value():e;return s||(s=new xr),i(m,y,n,r,s)}}return!!d&&(s||(s=new xr),function(t,e,n,r,i,s){var a=n&g,u=Ao(t),l=u.length,c=Ao(e).length;if(l!=c&&!a)return!1;for(var p=l;p--;){var h=u[p];if(!(a?h in e:le.call(e,h)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var f=!0;s.set(t,e),s.set(e,t);for(var v=a;++p<l;){h=u[p];var _=t[h],m=e[h];if(r)var y=a?r(m,_,h,e,t,s):r(_,m,h,t,e,s);if(!(y===o?_===m||i(_,m,n,r,s):y)){f=!1;break}v||(v="constructor"==h)}if(f&&!v){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(f=!1)}return s.delete(t),s.delete(e),f}(t,e,n,r,i,s))}(t,e,n,r,ii,i))}function oi(t,e,n,r){var i=n.length,s=i,a=!r;if(null==t)return!s;for(t=te(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var l=(u=n[i])[0],c=t[l],p=u[1];if(a&&u[2]){if(c===o&&!(l in t))return!1}else{var h=new xr;if(r)var d=r(c,p,l,t,e,h);if(!(d===o?ii(p,c,g|v,r,h):d))return!1}}return!0}function si(t){return!(!Ca(t)||(e=t,pe&&pe in e))&&(wa(t)?ge:Yt).test(cs(t));var e}function ai(t){return"function"==typeof t?t:null==t?Iu:"object"==typeof t?va(t)?di(t[0],t[1]):hi(t):ju(t)}function ui(t){if(!Ko(t))return Hn(t);var e=[];for(var n in te(t))le.call(t,n)&&"constructor"!=n&&e.push(n);return e}function li(t){if(!Ca(t))return function(t){var e=[];if(null!=t)for(var n in te(t))e.push(n);return e}(t);var e=Ko(t),n=[];for(var r in t)("constructor"!=r||!e&&le.call(t,r))&&n.push(r);return n}function ci(t,e){return t<e}function pi(t,e){var r=-1,i=ma(t)?n(t.length):[];return jr(t,function(t,n,o){i[++r]=e(t,n,o)}),i}function hi(t){var e=Fo(t);return 1==e.length&&e[0][2]?Zo(e[0][0],e[0][1]):function(n){return n===t||oi(n,t,e)}}function di(t,e){return Xo(t)&&Qo(e)?Zo(ls(t),e):function(n){var r=Za(n,t);return r===o&&r===e?Ja(n,t):ii(e,r,g|v)}}function fi(t,e,n,r,i){t!==e&&Wr(e,function(s,a){if(i||(i=new xr),Ca(s))!function(t,e,n,r,i,s,a){var u=es(t,n),l=es(e,n),c=a.get(l);if(c)Cr(t,n,c);else{var p=s?s(u,l,n+"",t,e,a):o,h=p===o;if(h){var d=va(l),f=!d&&ba(l),g=!d&&!f&&La(l);p=l,d||f||g?va(u)?p=u:ya(u)?p=eo(u):f?(h=!1,p=$i(l,!0)):g?(h=!1,p=Qi(l,!0)):p=[]:Aa(l)||ga(l)?(p=u,ga(u)?p=Ha(u):Ca(u)&&!wa(u)||(p=Ho(l))):h=!1}h&&(a.set(l,p),i(p,l,r,s,a),a.delete(l)),Cr(t,n,p)}}(t,e,a,n,fi,r,i);else{var u=r?r(es(t,a),s,a+"",t,e,i):o;u===o&&(u=s),Cr(t,a,u)}},iu)}function gi(t,e){var n=t.length;if(n)return Vo(e+=e<0?n:0,n)?t[e]:o}function vi(t,e,n){var r=-1;return e=Je(e.length?e:[Iu],_n(Lo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(pi(t,function(t,n,i){return{criteria:Je(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Zi(i[r],o[r]);if(u){if(r>=a)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)})}function _i(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=$r(t,s);n(a,s)&&Oi(o,Vi(s,t),a)}return o}function mi(t,e,n,r){var i=r?ln:un,o=-1,s=e.length,a=t;for(t===e&&(e=eo(e)),n&&(a=Je(t,_n(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==t&&Pe.call(a,u,1),Pe.call(t,u,1);return t}function yi(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Vo(i)?Pe.call(t,i,1):Fi(t,i)}}return t}function bi(t,e){return t+jn(qn()*(e-t+1))}function xi(t,e){var n="";if(!t||e<1||e>P)return n;do{e%2&&(n+=t),(e=jn(e/2))&&(t+=t)}while(e);return n}function Ei(t,e){return is(Jo(t,e,Iu),t+"")}function wi(t){return wr(hu(t))}function Ti(t,e){var n=hu(t);return as(n,Rr(e,0,n.length))}function Oi(t,e,n,r){if(!Ca(t))return t;for(var i=-1,s=(e=Vi(e,t)).length,a=s-1,u=t;null!=u&&++i<s;){var l=ls(e[i]),c=n;if(i!=a){var p=u[l];(c=r?r(p,l,u):o)===o&&(c=Ca(p)?p:Vo(e[i+1])?[]:{})}Sr(u,l,c),u=u[l]}return t}var Ci=nr?function(t,e){return nr.set(t,e),t}:Iu,Si=on?function(t,e){return on(t,"toString",{configurable:!0,enumerable:!1,value:Cu(e),writable:!0})}:Iu;function ki(t){return as(hu(t))}function Ii(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=n(o);++i<o;)s[i]=t[i+e];return s}function Ai(t,e){var n;return jr(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Ni(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=B){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Pa(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return Di(t,e,Iu,n)}function Di(t,e,n,r){e=n(e);for(var i=0,s=null==t?0:t.length,a=e!==e,u=null===e,l=Pa(e),c=e===o;i<s;){var p=jn((i+s)/2),h=n(t[p]),d=h!==o,f=null===h,g=h===h,v=Pa(h);if(a)var _=r||g;else _=c?g&&(r||d):u?g&&d&&(r||!f):l?g&&d&&!f&&(r||!v):!f&&!v&&(r?h<=e:h<e);_?i=p+1:s=p}return Vn(s,j)}function Ri(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!ha(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Pi(t){return"number"==typeof t?t:Pa(t)?M:+t}function Li(t){if("string"==typeof t)return t;if(va(t))return Je(t,Li)+"";if(Pa(t))return pr?pr.call(t):"";var e=t+"";return"0"==e&&1/t==-R?"-0":e}function Mi(t,e,n){var r=-1,i=Qe,o=t.length,a=!0,u=[],l=u;if(n)a=!1,i=Ze;else if(o>=s){var c=e?null:Eo(t);if(c)return In(c);a=!1,i=yn,l=new br}else l=e?[]:u;t:for(;++r<o;){var p=t[r],h=e?e(p):p;if(p=n||0!==p?p:0,a&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),u.push(p)}else i(l,h,n)||(l!==u&&l.push(h),u.push(p))}return u}function Fi(t,e){return null==(t=ts(t,e=Vi(e,t)))||delete t[ls(Es(e))]}function ji(t,e,n,r){return Oi(t,e,n($r(t,e)),r)}function Bi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ii(t,r?0:o,r?o+1:i):Ii(t,r?o+1:0,r?i:o)}function zi(t,e){var n=t;return n instanceof vr&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function Gi(t,e,r){var i=t.length;if(i<2)return i?Mi(t[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=Fr(s[o]||a,t[u],e,r));return Mi(Hr(s,1),e,r)}function Ui(t,e,n){for(var r=-1,i=t.length,s=e.length,a={};++r<i;){var u=r<s?e[r]:o;n(a,t[r],u)}return a}function Hi(t){return ya(t)?t:[]}function Wi(t){return"function"==typeof t?t:Iu}function Vi(t,e){return va(t)?t:Xo(t,e)?[t]:us(Wa(t))}var Yi=Ei;function Xi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:Ii(t,e,n)}var qi=dn||function(t){return Re.clearTimeout(t)};function $i(t,e){if(e)return t.slice();var n=t.length,r=Ee?Ee(n):new t.constructor(n);return t.copy(r),r}function Ki(t){var e=new t.constructor(t.byteLength);return new be(e).set(new be(t)),e}function Qi(t,e){var n=e?Ki(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Zi(t,e){if(t!==e){var n=t!==o,r=null===t,i=t===t,s=Pa(t),a=e!==o,u=null===e,l=e===e,c=Pa(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||u&&n&&i||!a&&i||!l)return-1}return 0}function Ji(t,e,r,i){for(var o=-1,s=t.length,a=r.length,u=-1,l=e.length,c=Wn(s-a,0),p=n(l+c),h=!i;++u<l;)p[u]=e[u];for(;++o<a;)(h||o<s)&&(p[r[o]]=t[o]);for(;c--;)p[u++]=t[o++];return p}function to(t,e,r,i){for(var o=-1,s=t.length,a=-1,u=r.length,l=-1,c=e.length,p=Wn(s-u,0),h=n(p+c),d=!i;++o<p;)h[o]=t[o];for(var f=o;++l<c;)h[f+l]=e[l];for(;++a<u;)(d||o<s)&&(h[f+r[a]]=t[o++]);return h}function eo(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function no(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=r?r(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),i?Nr(n,u,l):Sr(n,u,l)}return n}function ro(t,e){return function(n,r){var i=va(n)?Ye:Ir,o=e?e():{};return i(n,t,Lo(r,2),o)}}function io(t){return Ei(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=t.length>3&&"function"==typeof s?(i--,s):o,a&&Yo(n[0],n[1],a)&&(s=i<3?o:s,i=1),e=te(e);++r<i;){var u=n[r];u&&t(e,u,r,s)}return e})}function oo(t,e){return function(n,r){if(null==n)return n;if(!ma(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=te(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function so(t){return function(e,n,r){for(var i=-1,o=te(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function ao(t){return function(e){var n=On(e=Wa(e))?Dn(e):o,r=n?n[0]:e.charAt(0),i=n?Xi(n,1).join(""):e.slice(1);return r[t]()+i}}function uo(t){return function(e){return en(wu(gu(e).replace(me,"")),t,"")}}function lo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dr(t.prototype),r=t.apply(n,e);return Ca(r)?r:n}}function co(t){return function(e,n,r){var i=te(e);if(!ma(e)){var s=Lo(n,3);e=ru(e),n=function(t){return s(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:o}}function po(t){return Io(function(e){var n=e.length,r=n,i=gr.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new re(u);if(i&&!a&&"wrapper"==Ro(s))var a=new gr([],!0)}for(r=a?r:n;++r<n;){var l=Ro(s=e[r]),c="wrapper"==l?Do(s):o;a=c&&qo(c[0])&&c[1]==(T|b|E|O)&&!c[4].length&&1==c[9]?a[Ro(c[0])].apply(a,c[3]):1==s.length&&qo(s)?a[l]():a.thru(s)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&va(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function ho(t,e,r,i,s,a,u,l,c,p){var h=e&T,d=e&_,f=e&m,g=e&(b|x),v=e&C,y=f?o:lo(t);return function _(){for(var m=arguments.length,b=n(m),x=m;x--;)b[x]=arguments[x];if(g)var E=Po(_),w=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,E);if(i&&(b=Ji(b,i,s,g)),a&&(b=to(b,a,u,g)),m-=w,g&&m<p){var T=kn(b,E);return bo(t,e,ho,_.placeholder,r,b,T,l,c,p-m)}var O=d?r:this,C=f?O[t]:t;return m=b.length,l?b=function(t,e){for(var n=t.length,r=Vn(e.length,n),i=eo(t);r--;){var s=e[r];t[r]=Vo(s,n)?i[s]:o}return t}(b,l):v&&m>1&&b.reverse(),h&&c<m&&(b.length=c),this&&this!==Re&&this instanceof _&&(C=y||lo(C)),C.apply(O,b)}}function fo(t,e){return function(n,r){return function(t,e,n,r){return Yr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function go(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Li(n),r=Li(r)):(n=Pi(n),r=Pi(r)),i=t(n,r)}return i}}function vo(t){return Io(function(e){return e=Je(e,_n(Lo())),Ei(function(n){var r=this;return t(e,function(t){return Ve(t,r,n)})})})}function _o(t,e){var n=(e=e===o?" ":Li(e)).length;if(n<2)return n?xi(e,t):e;var r=xi(e,Fn(t/Nn(e)));return On(e)?Xi(Dn(r),0,t).join(""):r.slice(0,t)}function mo(t){return function(e,r,i){return i&&"number"!=typeof i&&Yo(e,r,i)&&(r=i=o),e=Ba(e),r===o?(r=e,e=0):r=Ba(r),function(t,e,r,i){for(var o=-1,s=Wn(Fn((e-t)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=t,t+=r;return a}(e,r,i=i===o?e<r?1:-1:Ba(i),t)}}function yo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ua(e),n=Ua(n)),t(e,n)}}function bo(t,e,n,r,i,s,a,u,l,c){var p=e&b;e|=p?E:w,(e&=~(p?w:E))&y||(e&=~(_|m));var h=[t,e,i,p?s:o,p?a:o,p?o:s,p?o:a,u,l,c],d=n.apply(o,h);return qo(t)&&ns(d,h),d.placeholder=r,os(d,t,e)}function xo(t){var e=Jt[t];return function(t,n){if(t=Ua(t),(n=null==n?0:Vn(za(n),292))&&Gn(t)){var r=(Wa(t)+"e").split("e");return+((r=(Wa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Eo=Jn&&1/In(new Jn([,-0]))[1]==R?function(t){return new Jn(t)}:Pu;function wo(t){return function(e){var n=Go(e);return n==K?Cn(e):n==nt?An(e):function(t,e){return Je(e,function(e){return[e,t[e]]})}(e,t(e))}}function To(t,e,r,i,s,a,l,c){var h=e&m;if(!h&&"function"!=typeof t)throw new re(u);var d=i?i.length:0;if(d||(e&=~(E|w),i=s=o),l=l===o?l:Wn(za(l),0),c=c===o?c:za(c),d-=s?s.length:0,e&w){var f=i,g=s;i=s=o}var v=h?o:Do(t),C=[t,e,r,i,s,f,g,a,l,c];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(_|m|T),s=r==T&&n==b||r==T&&n==O&&t[7].length<=e[8]||r==(T|O)&&e[7].length<=e[8]&&n==b;if(!o&&!s)return t;r&_&&(t[2]=e[2],i|=n&_?0:y);var a=e[3];if(a){var u=t[3];t[3]=u?Ji(u,a,e[4]):a,t[4]=u?kn(t[3],p):e[4]}(a=e[5])&&(u=t[5],t[5]=u?to(u,a,e[6]):a,t[6]=u?kn(t[5],p):e[6]),(a=e[7])&&(t[7]=a),r&T&&(t[8]=null==t[8]?e[8]:Vn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(C,v),t=C[0],e=C[1],r=C[2],i=C[3],s=C[4],!(c=C[9]=C[9]===o?h?0:t.length:Wn(C[9]-d,0))&&e&(b|x)&&(e&=~(b|x)),e&&e!=_)S=e==b||e==x?function(t,e,r){var i=lo(t);return function s(){for(var a=arguments.length,u=n(a),l=a,c=Po(s);l--;)u[l]=arguments[l];var p=a<3&&u[0]!==c&&u[a-1]!==c?[]:kn(u,c);return(a-=p.length)<r?bo(t,e,ho,s.placeholder,o,u,p,o,o,r-a):Ve(this&&this!==Re&&this instanceof s?i:t,this,u)}}(t,e,c):e!=E&&e!=(_|E)||s.length?ho.apply(o,C):function(t,e,r,i){var o=e&_,s=lo(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=i.length,p=n(c+u),h=this&&this!==Re&&this instanceof e?s:t;++l<c;)p[l]=i[l];for(;u--;)p[l++]=arguments[++a];return Ve(h,o?r:this,p)}}(t,e,r,i);else var S=function(t,e,n){var r=e&_,i=lo(t);return function e(){return(this&&this!==Re&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return os((v?Ci:ns)(S,C),t,e)}function Oo(t,e,n,r){return t===o||ha(t,se[n])&&!le.call(r,n)?e:t}function Co(t,e,n,r,i,s){return Ca(t)&&Ca(e)&&(s.set(e,t),fi(t,e,o,Co,s),s.delete(e)),t}function So(t){return Aa(t)?o:t}function ko(t,e,n,r,i,s){var a=n&g,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var p=-1,h=!0,d=n&v?new br:o;for(s.set(t,e),s.set(e,t);++p<u;){var f=t[p],_=e[p];if(r)var m=a?r(_,f,p,e,t,s):r(f,_,p,t,e,s);if(m!==o){if(m)continue;h=!1;break}if(d){if(!rn(e,function(t,e){if(!yn(d,e)&&(f===t||i(f,t,n,r,s)))return d.push(e)})){h=!1;break}}else if(f!==_&&!i(f,_,n,r,s)){h=!1;break}}return s.delete(t),s.delete(e),h}function Io(t){return is(Jo(t,o,_s),t+"")}function Ao(t){return Kr(t,ru,Bo)}function No(t){return Kr(t,iu,zo)}var Do=nr?function(t){return nr.get(t)}:Pu;function Ro(t){for(var e=t.name+"",n=rr[e],r=le.call(rr,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Po(t){return(le.call(hr,"placeholder")?hr:t).placeholder}function Lo(){var t=hr.iteratee||Au;return t=t===Au?ai:t,arguments.length?t(arguments[0],arguments[1]):t}function Mo(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Fo(t){for(var e=ru(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Qo(i)]}return e}function jo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return si(n)?n:o}var Bo=Bn?function(t){return null==t?[]:(t=te(t),Ke(Bn(t),function(e){return De.call(t,e)}))}:Gu,zo=Bn?function(t){for(var e=[];t;)tn(e,Bo(t)),t=ke(t);return e}:Gu,Go=Qr;function Uo(t,e,n){for(var r=-1,i=(e=Vi(e,t)).length,o=!1;++r<i;){var s=ls(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Oa(i)&&Vo(s,i)&&(va(t)||ga(t))}function Ho(t){return"function"!=typeof t.constructor||Ko(t)?{}:dr(ke(t))}function Wo(t){return va(t)||ga(t)||!!(Le&&t&&t[Le])}function Vo(t,e){var n=typeof t;return!!(e=null==e?P:e)&&("number"==n||"symbol"!=n&&qt.test(t))&&t>-1&&t%1==0&&t<e}function Yo(t,e,n){if(!Ca(n))return!1;var r=typeof e;return!!("number"==r?ma(n)&&Vo(e,n.length):"string"==r&&e in n)&&ha(n[e],t)}function Xo(t,e){if(va(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Pa(t))||At.test(t)||!It.test(t)||null!=e&&t in te(e)}function qo(t){var e=Ro(t),n=hr[e];if("function"!=typeof n||!(e in vr.prototype))return!1;if(t===n)return!0;var r=Do(n);return!!r&&t===r[0]}(Kn&&Go(new Kn(new ArrayBuffer(1)))!=lt||Qn&&Go(new Qn)!=K||Zn&&"[object Promise]"!=Go(Zn.resolve())||Jn&&Go(new Jn)!=nt||tr&&Go(new tr)!=st)&&(Go=function(t){var e=Qr(t),n=e==J?t.constructor:o,r=n?cs(n):"";if(r)switch(r){case ir:return lt;case or:return K;case sr:return"[object Promise]";case ar:return nt;case ur:return st}return e});var $o=ae?wa:Uu;function Ko(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Qo(t){return t===t&&!Ca(t)}function Zo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in te(n))}}function Jo(t,e,r){return e=Wn(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=Wn(i.length-e,0),a=n(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(a),Ve(t,this,u)}}function ts(t,e){return e.length<2?t:$r(t,Ii(e,0,-1))}function es(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var ns=ss(Ci),rs=Mn||function(t,e){return Re.setTimeout(t,e)},is=ss(Si);function os(t,e,n){var r=e+"";return is(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Xe(z,function(n){var r="_."+n[0];e&n[1]&&!Qe(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(jt);return e?e[1].split(Bt):[]}(r),n)))}function ss(t){var e=0,n=0;return function(){var r=Yn(),i=A-(r-n);if(n=r,i>0){if(++e>=I)return arguments[0]}else e=0;return t.apply(o,arguments)}}function as(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var s=bi(n,i),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var us=function(t){var e=sa(t,function(t){return n.size===c&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Nt,function(t,n,r,i){e.push(r?i.replace(Gt,"$1"):n||t)}),e});function ls(t){if("string"==typeof t||Pa(t))return t;var e=t+"";return"0"==e&&1/t==-R?"-0":e}function cs(t){if(null!=t){try{return ue.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function ps(t){if(t instanceof vr)return t.clone();var e=new gr(t.__wrapped__,t.__chain__);return e.__actions__=eo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var hs=Ei(function(t,e){return ya(t)?Fr(t,Hr(e,1,ya,!0)):[]}),ds=Ei(function(t,e){var n=Es(e);return ya(n)&&(n=o),ya(t)?Fr(t,Hr(e,1,ya,!0),Lo(n,2)):[]}),fs=Ei(function(t,e){var n=Es(e);return ya(n)&&(n=o),ya(t)?Fr(t,Hr(e,1,ya,!0),o,n):[]});function gs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:za(n);return i<0&&(i=Wn(r+i,0)),an(t,Lo(e,3),i)}function vs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=za(n),i=n<0?Wn(r+i,0):Vn(i,r-1)),an(t,Lo(e,3),i,!0)}function _s(t){return null!=t&&t.length?Hr(t,1):[]}function ms(t){return t&&t.length?t[0]:o}var ys=Ei(function(t){var e=Je(t,Hi);return e.length&&e[0]===t[0]?ei(e):[]}),bs=Ei(function(t){var e=Es(t),n=Je(t,Hi);return e===Es(n)?e=o:n.pop(),n.length&&n[0]===t[0]?ei(n,Lo(e,2)):[]}),xs=Ei(function(t){var e=Es(t),n=Je(t,Hi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?ei(n,o,e):[]});function Es(t){var e=null==t?0:t.length;return e?t[e-1]:o}var ws=Ei(Ts);function Ts(t,e){return t&&t.length&&e&&e.length?mi(t,e):t}var Os=Io(function(t,e){var n=null==t?0:t.length,r=Dr(t,e);return yi(t,Je(e,function(t){return Vo(t,n)?+t:t}).sort(Zi)),r});function Cs(t){return null==t?t:$n.call(t)}var Ss=Ei(function(t){return Mi(Hr(t,1,ya,!0))}),ks=Ei(function(t){var e=Es(t);return ya(e)&&(e=o),Mi(Hr(t,1,ya,!0),Lo(e,2))}),Is=Ei(function(t){var e=Es(t);return e="function"==typeof e?e:o,Mi(Hr(t,1,ya,!0),o,e)});function As(t){if(!t||!t.length)return[];var e=0;return t=Ke(t,function(t){if(ya(t))return e=Wn(t.length,e),!0}),vn(e,function(e){return Je(t,hn(e))})}function Ns(t,e){if(!t||!t.length)return[];var n=As(t);return null==e?n:Je(n,function(t){return Ve(e,o,t)})}var Ds=Ei(function(t,e){return ya(t)?Fr(t,e):[]}),Rs=Ei(function(t){return Gi(Ke(t,ya))}),Ps=Ei(function(t){var e=Es(t);return ya(e)&&(e=o),Gi(Ke(t,ya),Lo(e,2))}),Ls=Ei(function(t){var e=Es(t);return e="function"==typeof e?e:o,Gi(Ke(t,ya),o,e)}),Ms=Ei(As);var Fs=Ei(function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,Ns(t,n)});function js(t){var e=hr(t);return e.__chain__=!0,e}function Bs(t,e){return e(t)}var zs=Io(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Dr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof vr&&Vo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Bs,args:[i],thisArg:o}),new gr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var Gs=ro(function(t,e,n){le.call(t,n)?++t[n]:Nr(t,n,1)});var Us=co(gs),Hs=co(vs);function Ws(t,e){return(va(t)?Xe:jr)(t,Lo(e,3))}function Vs(t,e){return(va(t)?qe:Br)(t,Lo(e,3))}var Ys=ro(function(t,e,n){le.call(t,n)?t[n].push(e):Nr(t,n,[e])});var Xs=Ei(function(t,e,r){var i=-1,o="function"==typeof e,s=ma(t)?n(t.length):[];return jr(t,function(t){s[++i]=o?Ve(e,t,r):ni(t,e,r)}),s}),qs=ro(function(t,e,n){Nr(t,n,e)});function $s(t,e){return(va(t)?Je:pi)(t,Lo(e,3))}var Ks=ro(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Qs=Ei(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Yo(t,e[0],e[1])?e=[]:n>2&&Yo(e[0],e[1],e[2])&&(e=[e[0]]),vi(t,Hr(e,1),[])}),Zs=Ln||function(){return Re.Date.now()};function Js(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,To(t,T,o,o,o,o,e)}function ta(t,e){var n;if("function"!=typeof e)throw new re(u);return t=za(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var ea=Ei(function(t,e,n){var r=_;if(n.length){var i=kn(n,Po(ea));r|=E}return To(t,r,e,n,i)}),na=Ei(function(t,e,n){var r=_|m;if(n.length){var i=kn(n,Po(na));r|=E}return To(e,r,t,n,i)});function ra(t,e,n){var r,i,s,a,l,c,p=0,h=!1,d=!1,f=!0;if("function"!=typeof t)throw new re(u);function g(e){var n=r,s=i;return r=i=o,p=e,a=t.apply(s,n)}function v(t){var n=t-c;return c===o||n>=e||n<0||d&&t-p>=s}function _(){var t=Zs();if(v(t))return m(t);l=rs(_,function(t){var n=e-(t-c);return d?Vn(n,s-(t-p)):n}(t))}function m(t){return l=o,f&&r?g(t):(r=i=o,a)}function y(){var t=Zs(),n=v(t);if(r=arguments,i=this,c=t,n){if(l===o)return function(t){return p=t,l=rs(_,e),h?g(t):a}(c);if(d)return qi(l),l=rs(_,e),g(c)}return l===o&&(l=rs(_,e)),a}return e=Ua(e)||0,Ca(n)&&(h=!!n.leading,s=(d="maxWait"in n)?Wn(Ua(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),y.cancel=function(){l!==o&&qi(l),p=0,r=c=i=l=o},y.flush=function(){return l===o?a:m(Zs())},y}var ia=Ei(function(t,e){return Mr(t,1,e)}),oa=Ei(function(t,e,n){return Mr(t,Ua(e)||0,n)});function sa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(u);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(sa.Cache||yr),n}function aa(t){if("function"!=typeof t)throw new re(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}sa.Cache=yr;var ua=Yi(function(t,e){var n=(e=1==e.length&&va(e[0])?Je(e[0],_n(Lo())):Je(Hr(e,1),_n(Lo()))).length;return Ei(function(r){for(var i=-1,o=Vn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ve(t,this,r)})}),la=Ei(function(t,e){var n=kn(e,Po(la));return To(t,E,o,e,n)}),ca=Ei(function(t,e){var n=kn(e,Po(ca));return To(t,w,o,e,n)}),pa=Io(function(t,e){return To(t,O,o,o,o,e)});function ha(t,e){return t===e||t!==t&&e!==e}var da=yo(Zr),fa=yo(function(t,e){return t>=e}),ga=ri(function(){return arguments}())?ri:function(t){return Sa(t)&&le.call(t,"callee")&&!De.call(t,"callee")},va=n.isArray,_a=Be?_n(Be):function(t){return Sa(t)&&Qr(t)==ut};function ma(t){return null!=t&&Oa(t.length)&&!wa(t)}function ya(t){return Sa(t)&&ma(t)}var ba=zn||Uu,xa=ze?_n(ze):function(t){return Sa(t)&&Qr(t)==V};function Ea(t){if(!Sa(t))return!1;var e=Qr(t);return e==X||e==Y||"string"==typeof t.message&&"string"==typeof t.name&&!Aa(t)}function wa(t){if(!Ca(t))return!1;var e=Qr(t);return e==q||e==$||e==H||e==tt}function Ta(t){return"number"==typeof t&&t==za(t)}function Oa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=P}function Ca(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Sa(t){return null!=t&&"object"==typeof t}var ka=Ge?_n(Ge):function(t){return Sa(t)&&Go(t)==K};function Ia(t){return"number"==typeof t||Sa(t)&&Qr(t)==Q}function Aa(t){if(!Sa(t)||Qr(t)!=J)return!1;var e=ke(t);if(null===e)return!0;var n=le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ue.call(n)==de}var Na=Ue?_n(Ue):function(t){return Sa(t)&&Qr(t)==et};var Da=He?_n(He):function(t){return Sa(t)&&Go(t)==nt};function Ra(t){return"string"==typeof t||!va(t)&&Sa(t)&&Qr(t)==rt}function Pa(t){return"symbol"==typeof t||Sa(t)&&Qr(t)==it}var La=We?_n(We):function(t){return Sa(t)&&Oa(t.length)&&!!Ce[Qr(t)]};var Ma=yo(ci),Fa=yo(function(t,e){return t<=e});function ja(t){if(!t)return[];if(ma(t))return Ra(t)?Dn(t):eo(t);if(Fe&&t[Fe])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Fe]());var e=Go(t);return(e==K?Cn:e==nt?In:hu)(t)}function Ba(t){return t?(t=Ua(t))===R||t===-R?(t<0?-1:1)*L:t===t?t:0:0===t?t:0}function za(t){var e=Ba(t),n=e%1;return e===e?n?e-n:e:0}function Ga(t){return t?Rr(za(t),0,F):0}function Ua(t){if("number"==typeof t)return t;if(Pa(t))return M;if(Ca(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ca(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Pt,"");var n=Vt.test(t);return n||Xt.test(t)?Ae(t.slice(2),n?2:8):Wt.test(t)?M:+t}function Ha(t){return no(t,iu(t))}function Wa(t){return null==t?"":Li(t)}var Va=io(function(t,e){if(Ko(e)||ma(e))no(e,ru(e),t);else for(var n in e)le.call(e,n)&&Sr(t,n,e[n])}),Ya=io(function(t,e){no(e,iu(e),t)}),Xa=io(function(t,e,n,r){no(e,iu(e),t,r)}),qa=io(function(t,e,n,r){no(e,ru(e),t,r)}),$a=Io(Dr);var Ka=Ei(function(t,e){t=te(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&Yo(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],a=iu(s),u=-1,l=a.length;++u<l;){var c=a[u],p=t[c];(p===o||ha(p,se[c])&&!le.call(t,c))&&(t[c]=s[c])}return t}),Qa=Ei(function(t){return t.push(o,Co),Ve(su,o,t)});function Za(t,e,n){var r=null==t?o:$r(t,e);return r===o?n:r}function Ja(t,e){return null!=t&&Uo(t,e,ti)}var tu=fo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=he.call(e)),t[e]=n},Cu(Iu)),eu=fo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=he.call(e)),le.call(t,e)?t[e].push(n):t[e]=[n]},Lo),nu=Ei(ni);function ru(t){return ma(t)?Er(t):ui(t)}function iu(t){return ma(t)?Er(t,!0):li(t)}var ou=io(function(t,e,n){fi(t,e,n)}),su=io(function(t,e,n,r){fi(t,e,n,r)}),au=Io(function(t,e){var n={};if(null==t)return n;var r=!1;e=Je(e,function(e){return e=Vi(e,t),r||(r=e.length>1),e}),no(t,No(t),n),r&&(n=Pr(n,h|d|f,So));for(var i=e.length;i--;)Fi(n,e[i]);return n});var uu=Io(function(t,e){return null==t?{}:function(t,e){return _i(t,e,function(e,n){return Ja(t,n)})}(t,e)});function lu(t,e){if(null==t)return{};var n=Je(No(t),function(t){return[t]});return e=Lo(e),_i(t,n,function(t,n){return e(t,n[0])})}var cu=wo(ru),pu=wo(iu);function hu(t){return null==t?[]:mn(t,ru(t))}var du=uo(function(t,e,n){return e=e.toLowerCase(),t+(n?fu(e):e)});function fu(t){return Eu(Wa(t).toLowerCase())}function gu(t){return(t=Wa(t))&&t.replace($t,En).replace(ye,"")}var vu=uo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),_u=uo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),mu=ao("toLowerCase");var yu=uo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var bu=uo(function(t,e,n){return t+(n?" ":"")+Eu(e)});var xu=uo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Eu=ao("toUpperCase");function wu(t,e,n){return t=Wa(t),(e=n?o:e)===o?function(t){return we.test(t)}(t)?function(t){return t.match(xe)||[]}(t):function(t){return t.match(zt)||[]}(t):t.match(e)||[]}var Tu=Ei(function(t,e){try{return Ve(t,o,e)}catch(n){return Ea(n)?n:new i(n)}}),Ou=Io(function(t,e){return Xe(e,function(e){e=ls(e),Nr(t,e,ea(t[e],t))}),t});function Cu(t){return function(){return t}}var Su=po(),ku=po(!0);function Iu(t){return t}function Au(t){return ai("function"==typeof t?t:Pr(t,h))}var Nu=Ei(function(t,e){return function(n){return ni(n,t,e)}}),Du=Ei(function(t,e){return function(n){return ni(t,n,e)}});function Ru(t,e,n){var r=ru(e),i=qr(e,r);null!=n||Ca(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=qr(e,ru(e)));var o=!(Ca(n)&&"chain"in n)||!!n.chain,s=wa(t);return Xe(i,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=eo(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,tn([this.value()],arguments))})}),t}function Pu(){}var Lu=vo(Je),Mu=vo($e),Fu=vo(rn);function ju(t){return Xo(t)?hn(ls(t)):function(t){return function(e){return $r(e,t)}}(t)}var Bu=mo(),zu=mo(!0);function Gu(){return[]}function Uu(){return!1}var Hu=go(function(t,e){return t+e},0),Wu=xo("ceil"),Vu=go(function(t,e){return t/e},1),Yu=xo("floor");var Xu=go(function(t,e){return t*e},1),qu=xo("round"),$u=go(function(t,e){return t-e},0);return hr.after=function(t,e){if("function"!=typeof e)throw new re(u);return t=za(t),function(){if(--t<1)return e.apply(this,arguments)}},hr.ary=Js,hr.assign=Va,hr.assignIn=Ya,hr.assignInWith=Xa,hr.assignWith=qa,hr.at=$a,hr.before=ta,hr.bind=ea,hr.bindAll=Ou,hr.bindKey=na,hr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return va(t)?t:[t]},hr.chain=js,hr.chunk=function(t,e,r){e=(r?Yo(t,e,r):e===o)?1:Wn(za(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,a=0,u=n(Fn(i/e));s<i;)u[a++]=Ii(t,s,s+=e);return u},hr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},hr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return tn(va(r)?eo(r):[r],Hr(e,1))},hr.cond=function(t){var e=null==t?0:t.length,n=Lo();return t=e?Je(t,function(t){if("function"!=typeof t[1])throw new re(u);return[n(t[0]),t[1]]}):[],Ei(function(n){for(var r=-1;++r<e;){var i=t[r];if(Ve(i[0],this,n))return Ve(i[1],this,n)}})},hr.conforms=function(t){return function(t){var e=ru(t);return function(n){return Lr(n,t,e)}}(Pr(t,h))},hr.constant=Cu,hr.countBy=Gs,hr.create=function(t,e){var n=dr(t);return null==e?n:Ar(n,e)},hr.curry=function t(e,n,r){var i=To(e,b,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},hr.curryRight=function t(e,n,r){var i=To(e,x,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},hr.debounce=ra,hr.defaults=Ka,hr.defaultsDeep=Qa,hr.defer=ia,hr.delay=oa,hr.difference=hs,hr.differenceBy=ds,hr.differenceWith=fs,hr.drop=function(t,e,n){var r=null==t?0:t.length;return r?Ii(t,(e=n||e===o?1:za(e))<0?0:e,r):[]},hr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Ii(t,0,(e=r-(e=n||e===o?1:za(e)))<0?0:e):[]},hr.dropRightWhile=function(t,e){return t&&t.length?Bi(t,Lo(e,3),!0,!0):[]},hr.dropWhile=function(t,e){return t&&t.length?Bi(t,Lo(e,3),!0):[]},hr.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Yo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=za(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:za(r))<0&&(r+=i),r=n>r?0:Ga(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},hr.filter=function(t,e){return(va(t)?Ke:Ur)(t,Lo(e,3))},hr.flatMap=function(t,e){return Hr($s(t,e),1)},hr.flatMapDeep=function(t,e){return Hr($s(t,e),R)},hr.flatMapDepth=function(t,e,n){return n=n===o?1:za(n),Hr($s(t,e),n)},hr.flatten=_s,hr.flattenDeep=function(t){return null!=t&&t.length?Hr(t,R):[]},hr.flattenDepth=function(t,e){return null!=t&&t.length?Hr(t,e=e===o?1:za(e)):[]},hr.flip=function(t){return To(t,C)},hr.flow=Su,hr.flowRight=ku,hr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},hr.functions=function(t){return null==t?[]:qr(t,ru(t))},hr.functionsIn=function(t){return null==t?[]:qr(t,iu(t))},hr.groupBy=Ys,hr.initial=function(t){return null!=t&&t.length?Ii(t,0,-1):[]},hr.intersection=ys,hr.intersectionBy=bs,hr.intersectionWith=xs,hr.invert=tu,hr.invertBy=eu,hr.invokeMap=Xs,hr.iteratee=Au,hr.keyBy=qs,hr.keys=ru,hr.keysIn=iu,hr.map=$s,hr.mapKeys=function(t,e){var n={};return e=Lo(e,3),Yr(t,function(t,r,i){Nr(n,e(t,r,i),t)}),n},hr.mapValues=function(t,e){var n={};return e=Lo(e,3),Yr(t,function(t,r,i){Nr(n,r,e(t,r,i))}),n},hr.matches=function(t){return hi(Pr(t,h))},hr.matchesProperty=function(t,e){return di(t,Pr(e,h))},hr.memoize=sa,hr.merge=ou,hr.mergeWith=su,hr.method=Nu,hr.methodOf=Du,hr.mixin=Ru,hr.negate=aa,hr.nthArg=function(t){return t=za(t),Ei(function(e){return gi(e,t)})},hr.omit=au,hr.omitBy=function(t,e){return lu(t,aa(Lo(e)))},hr.once=function(t){return ta(2,t)},hr.orderBy=function(t,e,n,r){return null==t?[]:(va(e)||(e=null==e?[]:[e]),va(n=r?o:n)||(n=null==n?[]:[n]),vi(t,e,n))},hr.over=Lu,hr.overArgs=ua,hr.overEvery=Mu,hr.overSome=Fu,hr.partial=la,hr.partialRight=ca,hr.partition=Ks,hr.pick=uu,hr.pickBy=lu,hr.property=ju,hr.propertyOf=function(t){return function(e){return null==t?o:$r(t,e)}},hr.pull=ws,hr.pullAll=Ts,hr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?mi(t,e,Lo(n,2)):t},hr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?mi(t,e,o,n):t},hr.pullAt=Os,hr.range=Bu,hr.rangeRight=zu,hr.rearg=pa,hr.reject=function(t,e){return(va(t)?Ke:Ur)(t,aa(Lo(e,3)))},hr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Lo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return yi(t,i),n},hr.rest=function(t,e){if("function"!=typeof t)throw new re(u);return Ei(t,e=e===o?e:za(e))},hr.reverse=Cs,hr.sampleSize=function(t,e,n){return e=(n?Yo(t,e,n):e===o)?1:za(e),(va(t)?Tr:Ti)(t,e)},hr.set=function(t,e,n){return null==t?t:Oi(t,e,n)},hr.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:Oi(t,e,n,r)},hr.shuffle=function(t){return(va(t)?Or:ki)(t)},hr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Yo(t,e,n)?(e=0,n=r):(e=null==e?0:za(e),n=n===o?r:za(n)),Ii(t,e,n)):[]},hr.sortBy=Qs,hr.sortedUniq=function(t){return t&&t.length?Ri(t):[]},hr.sortedUniqBy=function(t,e){return t&&t.length?Ri(t,Lo(e,2)):[]},hr.split=function(t,e,n){return n&&"number"!=typeof n&&Yo(t,e,n)&&(e=n=o),(n=n===o?F:n>>>0)?(t=Wa(t))&&("string"==typeof e||null!=e&&!Na(e))&&!(e=Li(e))&&On(t)?Xi(Dn(t),0,n):t.split(e,n):[]},hr.spread=function(t,e){if("function"!=typeof t)throw new re(u);return e=null==e?0:Wn(za(e),0),Ei(function(n){var r=n[e],i=Xi(n,0,e);return r&&tn(i,r),Ve(t,this,i)})},hr.tail=function(t){var e=null==t?0:t.length;return e?Ii(t,1,e):[]},hr.take=function(t,e,n){return t&&t.length?Ii(t,0,(e=n||e===o?1:za(e))<0?0:e):[]},hr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Ii(t,(e=r-(e=n||e===o?1:za(e)))<0?0:e,r):[]},hr.takeRightWhile=function(t,e){return t&&t.length?Bi(t,Lo(e,3),!1,!0):[]},hr.takeWhile=function(t,e){return t&&t.length?Bi(t,Lo(e,3)):[]},hr.tap=function(t,e){return e(t),t},hr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new re(u);return Ca(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ra(t,e,{leading:r,maxWait:e,trailing:i})},hr.thru=Bs,hr.toArray=ja,hr.toPairs=cu,hr.toPairsIn=pu,hr.toPath=function(t){return va(t)?Je(t,ls):Pa(t)?[t]:eo(us(Wa(t)))},hr.toPlainObject=Ha,hr.transform=function(t,e,n){var r=va(t),i=r||ba(t)||La(t);if(e=Lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Ca(t)&&wa(o)?dr(ke(t)):{}}return(i?Xe:Yr)(t,function(t,r,i){return e(n,t,r,i)}),n},hr.unary=function(t){return Js(t,1)},hr.union=Ss,hr.unionBy=ks,hr.unionWith=Is,hr.uniq=function(t){return t&&t.length?Mi(t):[]},hr.uniqBy=function(t,e){return t&&t.length?Mi(t,Lo(e,2)):[]},hr.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Mi(t,o,e):[]},hr.unset=function(t,e){return null==t||Fi(t,e)},hr.unzip=As,hr.unzipWith=Ns,hr.update=function(t,e,n){return null==t?t:ji(t,e,Wi(n))},hr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:ji(t,e,Wi(n),r)},hr.values=hu,hr.valuesIn=function(t){return null==t?[]:mn(t,iu(t))},hr.without=Ds,hr.words=wu,hr.wrap=function(t,e){return la(Wi(e),t)},hr.xor=Rs,hr.xorBy=Ps,hr.xorWith=Ls,hr.zip=Ms,hr.zipObject=function(t,e){return Ui(t||[],e||[],Sr)},hr.zipObjectDeep=function(t,e){return Ui(t||[],e||[],Oi)},hr.zipWith=Fs,hr.entries=cu,hr.entriesIn=pu,hr.extend=Ya,hr.extendWith=Xa,Ru(hr,hr),hr.add=Hu,hr.attempt=Tu,hr.camelCase=du,hr.capitalize=fu,hr.ceil=Wu,hr.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Ua(n))===n?n:0),e!==o&&(e=(e=Ua(e))===e?e:0),Rr(Ua(t),e,n)},hr.clone=function(t){return Pr(t,f)},hr.cloneDeep=function(t){return Pr(t,h|f)},hr.cloneDeepWith=function(t,e){return Pr(t,h|f,e="function"==typeof e?e:o)},hr.cloneWith=function(t,e){return Pr(t,f,e="function"==typeof e?e:o)},hr.conformsTo=function(t,e){return null==e||Lr(t,e,ru(e))},hr.deburr=gu,hr.defaultTo=function(t,e){return null==t||t!==t?e:t},hr.divide=Vu,hr.endsWith=function(t,e,n){t=Wa(t),e=Li(e);var r=t.length,i=n=n===o?r:Rr(za(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},hr.eq=ha,hr.escape=function(t){return(t=Wa(t))&&Ot.test(t)?t.replace(wt,wn):t},hr.escapeRegExp=function(t){return(t=Wa(t))&&Rt.test(t)?t.replace(Dt,"\\$&"):t},hr.every=function(t,e,n){var r=va(t)?$e:zr;return n&&Yo(t,e,n)&&(e=o),r(t,Lo(e,3))},hr.find=Us,hr.findIndex=gs,hr.findKey=function(t,e){return sn(t,Lo(e,3),Yr)},hr.findLast=Hs,hr.findLastIndex=vs,hr.findLastKey=function(t,e){return sn(t,Lo(e,3),Xr)},hr.floor=Yu,hr.forEach=Ws,hr.forEachRight=Vs,hr.forIn=function(t,e){return null==t?t:Wr(t,Lo(e,3),iu)},hr.forInRight=function(t,e){return null==t?t:Vr(t,Lo(e,3),iu)},hr.forOwn=function(t,e){return t&&Yr(t,Lo(e,3))},hr.forOwnRight=function(t,e){return t&&Xr(t,Lo(e,3))},hr.get=Za,hr.gt=da,hr.gte=fa,hr.has=function(t,e){return null!=t&&Uo(t,e,Jr)},hr.hasIn=Ja,hr.head=ms,hr.identity=Iu,hr.includes=function(t,e,n,r){t=ma(t)?t:hu(t),n=n&&!r?za(n):0;var i=t.length;return n<0&&(n=Wn(i+n,0)),Ra(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&un(t,e,n)>-1},hr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:za(n);return i<0&&(i=Wn(r+i,0)),un(t,e,i)},hr.inRange=function(t,e,n){return e=Ba(e),n===o?(n=e,e=0):n=Ba(n),function(t,e,n){return t>=Vn(e,n)&&t<Wn(e,n)}(t=Ua(t),e,n)},hr.invoke=nu,hr.isArguments=ga,hr.isArray=va,hr.isArrayBuffer=_a,hr.isArrayLike=ma,hr.isArrayLikeObject=ya,hr.isBoolean=function(t){return!0===t||!1===t||Sa(t)&&Qr(t)==W},hr.isBuffer=ba,hr.isDate=xa,hr.isElement=function(t){return Sa(t)&&1===t.nodeType&&!Aa(t)},hr.isEmpty=function(t){if(null==t)return!0;if(ma(t)&&(va(t)||"string"==typeof t||"function"==typeof t.splice||ba(t)||La(t)||ga(t)))return!t.length;var e=Go(t);if(e==K||e==nt)return!t.size;if(Ko(t))return!ui(t).length;for(var n in t)if(le.call(t,n))return!1;return!0},hr.isEqual=function(t,e){return ii(t,e)},hr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?ii(t,e,o,n):!!r},hr.isError=Ea,hr.isFinite=function(t){return"number"==typeof t&&Gn(t)},hr.isFunction=wa,hr.isInteger=Ta,hr.isLength=Oa,hr.isMap=ka,hr.isMatch=function(t,e){return t===e||oi(t,e,Fo(e))},hr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,oi(t,e,Fo(e),n)},hr.isNaN=function(t){return Ia(t)&&t!=+t},hr.isNative=function(t){if($o(t))throw new i(a);return si(t)},hr.isNil=function(t){return null==t},hr.isNull=function(t){return null===t},hr.isNumber=Ia,hr.isObject=Ca,hr.isObjectLike=Sa,hr.isPlainObject=Aa,hr.isRegExp=Na,hr.isSafeInteger=function(t){return Ta(t)&&t>=-P&&t<=P},hr.isSet=Da,hr.isString=Ra,hr.isSymbol=Pa,hr.isTypedArray=La,hr.isUndefined=function(t){return t===o},hr.isWeakMap=function(t){return Sa(t)&&Go(t)==st},hr.isWeakSet=function(t){return Sa(t)&&Qr(t)==at},hr.join=function(t,e){return null==t?"":Un.call(t,e)},hr.kebabCase=vu,hr.last=Es,hr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=za(n))<0?Wn(r+i,0):Vn(i,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):an(t,cn,i,!0)},hr.lowerCase=_u,hr.lowerFirst=mu,hr.lt=Ma,hr.lte=Fa,hr.max=function(t){return t&&t.length?Gr(t,Iu,Zr):o},hr.maxBy=function(t,e){return t&&t.length?Gr(t,Lo(e,2),Zr):o},hr.mean=function(t){return pn(t,Iu)},hr.meanBy=function(t,e){return pn(t,Lo(e,2))},hr.min=function(t){return t&&t.length?Gr(t,Iu,ci):o},hr.minBy=function(t,e){return t&&t.length?Gr(t,Lo(e,2),ci):o},hr.stubArray=Gu,hr.stubFalse=Uu,hr.stubObject=function(){return{}},hr.stubString=function(){return""},hr.stubTrue=function(){return!0},hr.multiply=Xu,hr.nth=function(t,e){return t&&t.length?gi(t,za(e)):o},hr.noConflict=function(){return Re._===this&&(Re._=fe),this},hr.noop=Pu,hr.now=Zs,hr.pad=function(t,e,n){t=Wa(t);var r=(e=za(e))?Nn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return _o(jn(i),n)+t+_o(Fn(i),n)},hr.padEnd=function(t,e,n){t=Wa(t);var r=(e=za(e))?Nn(t):0;return e&&r<e?t+_o(e-r,n):t},hr.padStart=function(t,e,n){t=Wa(t);var r=(e=za(e))?Nn(t):0;return e&&r<e?_o(e-r,n)+t:t},hr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Xn(Wa(t).replace(Lt,""),e||0)},hr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Yo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Ba(t),e===o?(e=t,t=0):e=Ba(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=qn();return Vn(t+i*(e-t+Ie("1e-"+((i+"").length-1))),e)}return bi(t,e)},hr.reduce=function(t,e,n){var r=va(t)?en:fn,i=arguments.length<3;return r(t,Lo(e,4),n,i,jr)},hr.reduceRight=function(t,e,n){var r=va(t)?nn:fn,i=arguments.length<3;return r(t,Lo(e,4),n,i,Br)},hr.repeat=function(t,e,n){return e=(n?Yo(t,e,n):e===o)?1:za(e),xi(Wa(t),e)},hr.replace=function(){var t=arguments,e=Wa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},hr.result=function(t,e,n){var r=-1,i=(e=Vi(e,t)).length;for(i||(i=1,t=o);++r<i;){var s=null==t?o:t[ls(e[r])];s===o&&(r=i,s=n),t=wa(s)?s.call(t):s}return t},hr.round=qu,hr.runInContext=t,hr.sample=function(t){return(va(t)?wr:wi)(t)},hr.size=function(t){if(null==t)return 0;if(ma(t))return Ra(t)?Nn(t):t.length;var e=Go(t);return e==K||e==nt?t.size:ui(t).length},hr.snakeCase=yu,hr.some=function(t,e,n){var r=va(t)?rn:Ai;return n&&Yo(t,e,n)&&(e=o),r(t,Lo(e,3))},hr.sortedIndex=function(t,e){return Ni(t,e)},hr.sortedIndexBy=function(t,e,n){return Di(t,e,Lo(n,2))},hr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ni(t,e);if(r<n&&ha(t[r],e))return r}return-1},hr.sortedLastIndex=function(t,e){return Ni(t,e,!0)},hr.sortedLastIndexBy=function(t,e,n){return Di(t,e,Lo(n,2),!0)},hr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ni(t,e,!0)-1;if(ha(t[n],e))return n}return-1},hr.startCase=bu,hr.startsWith=function(t,e,n){return t=Wa(t),n=null==n?0:Rr(za(n),0,t.length),e=Li(e),t.slice(n,n+e.length)==e},hr.subtract=$u,hr.sum=function(t){return t&&t.length?gn(t,Iu):0},hr.sumBy=function(t,e){return t&&t.length?gn(t,Lo(e,2)):0},hr.template=function(t,e,n){var r=hr.templateSettings;n&&Yo(t,e,n)&&(e=o),t=Wa(t),e=Xa({},e,r,Oo);var i,s,a=Xa({},e.imports,r.imports,Oo),u=ru(a),l=mn(a,u),c=0,p=e.interpolate||Kt,h="__p += '",d=ee((e.escape||Kt).source+"|"+p.source+"|"+(p===kt?Ut:Kt).source+"|"+(e.evaluate||Kt).source+"|$","g"),f="//# sourceURL="+(le.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Oe+"]")+"\n";t.replace(d,function(e,n,r,o,a,u){return r||(r=o),h+=t.slice(c,u).replace(Qt,Tn),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),h+="';\n";var g=le.call(e,"variable")&&e.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(yt,""):h).replace(bt,"$1").replace(xt,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Tu(function(){return Zt(u,f+"return "+h).apply(o,l)});if(v.source=h,Ea(v))throw v;return v},hr.times=function(t,e){if((t=za(t))<1||t>P)return[];var n=F,r=Vn(t,F);e=Lo(e),t-=F;for(var i=vn(r,e);++n<t;)e(n);return i},hr.toFinite=Ba,hr.toInteger=za,hr.toLength=Ga,hr.toLower=function(t){return Wa(t).toLowerCase()},hr.toNumber=Ua,hr.toSafeInteger=function(t){return t?Rr(za(t),-P,P):0===t?t:0},hr.toString=Wa,hr.toUpper=function(t){return Wa(t).toUpperCase()},hr.trim=function(t,e,n){if((t=Wa(t))&&(n||e===o))return t.replace(Pt,"");if(!t||!(e=Li(e)))return t;var r=Dn(t),i=Dn(e);return Xi(r,bn(r,i),xn(r,i)+1).join("")},hr.trimEnd=function(t,e,n){if((t=Wa(t))&&(n||e===o))return t.replace(Mt,"");if(!t||!(e=Li(e)))return t;var r=Dn(t);return Xi(r,0,xn(r,Dn(e))+1).join("")},hr.trimStart=function(t,e,n){if((t=Wa(t))&&(n||e===o))return t.replace(Lt,"");if(!t||!(e=Li(e)))return t;var r=Dn(t);return Xi(r,bn(r,Dn(e))).join("")},hr.truncate=function(t,e){var n=S,r=k;if(Ca(e)){var i="separator"in e?e.separator:i;n="length"in e?za(e.length):n,r="omission"in e?Li(e.omission):r}var s=(t=Wa(t)).length;if(On(t)){var a=Dn(t);s=a.length}if(n>=s)return t;var u=n-Nn(r);if(u<1)return r;var l=a?Xi(a,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(a&&(u+=l.length-u),Na(i)){if(t.slice(u).search(i)){var c,p=l;for(i.global||(i=ee(i.source,Wa(Ht.exec(i))+"g")),i.lastIndex=0;c=i.exec(p);)var h=c.index;l=l.slice(0,h===o?u:h)}}else if(t.indexOf(Li(i),u)!=u){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r},hr.unescape=function(t){return(t=Wa(t))&&Tt.test(t)?t.replace(Et,Rn):t},hr.uniqueId=function(t){var e=++ce;return Wa(t)+e},hr.upperCase=xu,hr.upperFirst=Eu,hr.each=Ws,hr.eachRight=Vs,hr.first=ms,Ru(hr,function(){var t={};return Yr(hr,function(e,n){le.call(hr.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),hr.VERSION="4.17.15",Xe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){hr[t].placeholder=hr}),Xe(["drop","take"],function(t,e){vr.prototype[t]=function(n){n=n===o?1:Wn(za(n),0);var r=this.__filtered__&&!e?new vr(this):this.clone();return r.__filtered__?r.__takeCount__=Vn(n,r.__takeCount__):r.__views__.push({size:Vn(n,F),type:t+(r.__dir__<0?"Right":"")}),r},vr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Xe(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==N||3==n;vr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Xe(["head","last"],function(t,e){var n="take"+(e?"Right":"");vr.prototype[t]=function(){return this[n](1).value()[0]}}),Xe(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vr.prototype[t]=function(){return this.__filtered__?new vr(this):this[n](1)}}),vr.prototype.compact=function(){return this.filter(Iu)},vr.prototype.find=function(t){return this.filter(t).head()},vr.prototype.findLast=function(t){return this.reverse().find(t)},vr.prototype.invokeMap=Ei(function(t,e){return"function"==typeof t?new vr(this):this.map(function(n){return ni(n,t,e)})}),vr.prototype.reject=function(t){return this.filter(aa(Lo(t)))},vr.prototype.slice=function(t,e){t=za(t);var n=this;return n.__filtered__&&(t>0||e<0)?new vr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=za(e))<0?n.dropRight(-e):n.take(e-t)),n)},vr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vr.prototype.toArray=function(){return this.take(F)},Yr(vr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=hr[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);i&&(hr.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof vr,l=a[0],c=u||va(e),p=function(t){var e=i.apply(hr,tn([t],a));return r&&h?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,d=!!this.__actions__.length,f=s&&!h,g=u&&!d;if(!s&&c){e=g?e:new vr(this);var v=t.apply(e,a);return v.__actions__.push({func:Bs,args:[p],thisArg:o}),new gr(v,h)}return f&&g?t.apply(this,a):(v=this.thru(p),f?r?v.value()[0]:v.value():v)})}),Xe(["pop","push","shift","sort","splice","unshift"],function(t){var e=ie[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);hr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(va(i)?i:[],t)}return this[n](function(n){return e.apply(va(n)?n:[],t)})}}),Yr(vr.prototype,function(t,e){var n=hr[e];if(n){var r=n.name+"";le.call(rr,r)||(rr[r]=[]),rr[r].push({name:e,func:n})}}),rr[ho(o,m).name]=[{name:"wrapper",func:o}],vr.prototype.clone=function(){var t=new vr(this.__wrapped__);return t.__actions__=eo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=eo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=eo(this.__views__),t},vr.prototype.reverse=function(){if(this.__filtered__){var t=new vr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=va(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Vn(e,t+s);break;case"takeRight":t=Wn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,p=c.length,h=0,d=Vn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return zi(t,this.__actions__);var f=[];t:for(;u--&&h<d;){for(var g=-1,v=t[l+=e];++g<p;){var _=c[g],m=_.iteratee,y=_.type,b=m(v);if(y==D)v=b;else if(!b){if(y==N)continue t;break t}}f[h++]=v}return f},hr.prototype.at=zs,hr.prototype.chain=function(){return js(this)},hr.prototype.commit=function(){return new gr(this.value(),this.__chain__)},hr.prototype.next=function(){this.__values__===o&&(this.__values__=ja(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},hr.prototype.plant=function(t){for(var e,n=this;n instanceof fr;){var r=ps(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},hr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vr){var e=t;return this.__actions__.length&&(e=new vr(this)),(e=e.reverse()).__actions__.push({func:Bs,args:[Cs],thisArg:o}),new gr(e,this.__chain__)}return this.thru(Cs)},hr.prototype.toJSON=hr.prototype.valueOf=hr.prototype.value=function(){return zi(this.__wrapped__,this.__actions__)},hr.prototype.first=hr.prototype.head,Fe&&(hr.prototype[Fe]=function(){return this}),hr}();Re._=Pn,(i=function(){return Pn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(this,n(18),n(78)(t))},function(t,e,n){(function(e){var n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Null]",s="[object Proxy]",a="[object Undefined]",u="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),p=Object.prototype,h=p.hasOwnProperty,d=p.toString,f=c.Symbol,g=f?f.toStringTag:void 0;function v(t){return null==t?void 0===t?a:o:g&&g in Object(t)?function(t){var e=h.call(t,g),n=t[g];try{t[g]=void 0;var r=!0}catch(o){}var i=d.call(t);r&&(e?t[g]=n:delete t[g]);return i}(t):function(t){return d.call(t)}(t)}t.exports=function(t){if(!function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}(t))return!1;var e=v(t);return e==r||e==i||e==n||e==s}}).call(this,n(18))},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(0)),i=o(n(105));function o(t){return t&&t.__esModule?t:{default:t}}e.default=r.default.createContext||i.default,t.exports=e.default},function(t,e,n){"use strict";var r=n(60),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(t){return r.isMemo(t)?s:a[t.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var l=Object.defineProperty,c=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(f){var i=d(n);i&&i!==f&&t(e,i,r)}var s=c(n);p&&(s=s.concat(p(n)));for(var a=u(e),g=u(n),v=0;v<s.length;++v){var _=s[v];if(!o[_]&&(!r||!r[_])&&(!g||!g[_])&&(!a||!a[_])){var m=h(n,_);try{l(e,_,m)}catch(y){}}}}return e}},,,function(t,e,n){"use strict";var r=n(47),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,_="function"===typeof Symbol&&Symbol.iterator;function m(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,i,o,s,a){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],l=0;(t=Error(e.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||y}function E(){}function w(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&m("85"),this.updater.enqueueSetState(this,t,e,"setState")},x.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},E.prototype=x.prototype;var T=w.prototype=new E;T.constructor=w,r(T,x.prototype),T.isPureReactComponent=!0;var O={current:null},C={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function I(t,e,n){var r=void 0,i={},s=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)S.call(e,r)&&!k.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:s,ref:a,props:i,_owner:C.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var N=/\/+/g,D=[];function R(t,e,n,r){if(D.length){var i=D.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function P(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>D.length&&D.push(t)}function L(t,e,n){return null==t?0:function t(e,n,r,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case s:u=!0}}if(u)return r(i,e,""===n?"."+M(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+M(a=e[l],l);u+=t(a,c,r,i)}else if(c=null===e||"object"!==typeof e?null:"function"===typeof(c=_&&e[_]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)u+=t(a=a.value,c=n+M(a,l++),r,i);else"object"===a&&m("31","[object Object]"===(r=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return u}(t,"",e,n)}function M(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function F(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?B(t,r,n,function(t){return t}):null!=t&&(A(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(N,"$&/")+"/")+n)),r.push(t))}function B(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),L(t,j,e=R(e,o,r,i)),P(e)}function z(){var t=O.current;return null===t&&m("321"),t}var G={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return B(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;L(t,F,e=R(null,null,e,n)),P(e)},count:function(t){return L(t,function(){return null},null)},toArray:function(t){var e=[];return B(t,e,null,function(t){return t}),e},only:function(t){return A(t)||m("143"),t}},createRef:function(){return{current:null}},Component:x,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:p,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:d,render:t}},lazy:function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:g,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return z().useCallback(t,e)},useContext:function(t,e){return z().useContext(t,e)},useEffect:function(t,e){return z().useEffect(t,e)},useImperativeHandle:function(t,e,n){return z().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return z().useLayoutEffect(t,e)},useMemo:function(t,e){return z().useMemo(t,e)},useReducer:function(t,e,n){return z().useReducer(t,e,n)},useRef:function(t){return z().useRef(t)},useState:function(t){return z().useState(t)},Fragment:a,StrictMode:u,Suspense:f,createElement:I,cloneElement:function(t,e,n){(null===t||void 0===t)&&m("267",t);var i=void 0,s=r({},t.props),a=t.key,u=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(u=e.ref,l=C.current),void 0!==e.key&&(a=""+e.key);var c=void 0;for(i in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)S.call(e,i)&&!k.hasOwnProperty(i)&&(s[i]=void 0===e[i]&&void 0!==c?c[i]:e[i])}if(1===(i=arguments.length-2))s.children=n;else if(1<i){c=Array(i);for(var p=0;p<i;p++)c[p]=arguments[p+2];s.children=c}return{$$typeof:o,type:t.type,key:a,ref:u,props:s,_owner:l}},createFactory:function(t){var e=I.bind(null,t);return e.type=t,e},isValidElement:A,version:"16.8.6",unstable_ConcurrentMode:h,unstable_Profiler:l,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:O,ReactCurrentOwner:C,assign:r}},U={default:G},H=U&&G||U;t.exports=H.default||H},function(t,e,n){"use strict";var r=n(0),i=n(47),o=n(70);function s(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,i,o,s,a){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],l=0;(t=Error(e.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||s("227");var a=!1,u=null,l=!1,c=null,p={onError:function(t){a=!0,u=t}};function h(t,e,n,r,i,o,s,l,c){a=!1,u=null,function(t,e,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}.apply(p,arguments)}var d=null,f={};function g(){if(d)for(var t in f){var e=f[t],n=d.indexOf(t);if(-1<n||s("96",t),!_[n])for(var r in e.extractEvents||s("97",t),_[n]=e,n=e.eventTypes){var i=void 0,o=n[r],a=e,u=r;m.hasOwnProperty(u)&&s("99",u),m[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&v(l[i],a,u);i=!0}else o.registrationName?(v(o.registrationName,a,u),i=!0):i=!1;i||s("98",r,t)}}}function v(t,e,n){y[t]&&s("100",t),y[t]=e,b[t]=e.eventTypes[n].dependencies}var _=[],m={},y={},b={},x=null,E=null,w=null;function T(t,e,n){var r=t.type||"unknown-event";t.currentTarget=w(n),function(t,e,n,r,i,o,p,d,f){if(h.apply(this,arguments),a){if(a){var g=u;a=!1,u=null}else s("198"),g=void 0;l||(l=!0,c=g)}}(r,e,void 0,t),t.currentTarget=null}function O(t,e){return null==e&&s("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function C(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var S=null;function k(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)T(t,e[r],n[r]);else e&&T(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}var I={injectEventPluginOrder:function(t){d&&s("101"),d=Array.prototype.slice.call(t),g()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];f.hasOwnProperty(e)&&f[e]===r||(f[e]&&s("102",e),f[e]=r,n=!0)}n&&g()}};function A(t,e){var n=t.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&s("231",e,typeof n),n)}function N(t){if(null!==t&&(S=O(S,t)),t=S,S=null,t&&(C(t,k),S&&s("95"),l))throw t=c,l=!1,c=null,t}var D=Math.random().toString(36).slice(2),R="__reactInternalInstance$"+D,P="__reactEventHandlers$"+D;function L(t){if(t[R])return t[R];for(;!t[R];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[R]).tag||6===t.tag?t:null}function M(t){return!(t=t[R])||5!==t.tag&&6!==t.tag?null:t}function F(t){if(5===t.tag||6===t.tag)return t.stateNode;s("33")}function j(t){return t[P]||null}function B(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function z(t,e,n){(e=A(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=O(n._dispatchListeners,e),n._dispatchInstances=O(n._dispatchInstances,t))}function G(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=B(e);for(e=n.length;0<e--;)z(n[e],"captured",t);for(e=0;e<n.length;e++)z(n[e],"bubbled",t)}}function U(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=A(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=O(n._dispatchListeners,e),n._dispatchInstances=O(n._dispatchInstances,t))}function H(t){t&&t.dispatchConfig.registrationName&&U(t._targetInst,null,t)}function W(t){C(t,G)}var V=!("undefined"===typeof window||!window.document||!window.document.createElement);function Y(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var X={animationend:Y("Animation","AnimationEnd"),animationiteration:Y("Animation","AnimationIteration"),animationstart:Y("Animation","AnimationStart"),transitionend:Y("Transition","TransitionEnd")},q={},$={};function K(t){if(q[t])return q[t];if(!X[t])return t;var e,n=X[t];for(e in n)if(n.hasOwnProperty(e)&&e in $)return q[t]=n[e];return t}V&&($=document.createElement("div").style,"AnimationEvent"in window||(delete X.animationend.animation,delete X.animationiteration.animation,delete X.animationstart.animation),"TransitionEvent"in window||delete X.transitionend.transition);var Q=K("animationend"),Z=K("animationiteration"),J=K("animationstart"),tt=K("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nt=null,rt=null,it=null;function ot(){if(it)return it;var t,e,n=rt,r=n.length,i="value"in nt?nt.value:nt.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var s=r-t;for(e=1;e<=s&&n[r-e]===i[o-e];e++);return it=i.slice(t,1<e?1-e:void 0)}function st(){return!0}function at(){return!1}function ut(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?st:at,this.isPropagationStopped=at,this}function lt(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function ct(t){t instanceof this||s("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function pt(t){t.eventPool=[],t.getPooled=lt,t.release=ct}i(ut.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=st)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=st)},persist:function(){this.isPersistent=st},isPersistent:at,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=at,this._dispatchInstances=this._dispatchListeners=null}}),ut.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ut.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,pt(n),n},pt(ut);var ht=ut.extend({data:null}),dt=ut.extend({data:null}),ft=[9,13,27,32],gt=V&&"CompositionEvent"in window,vt=null;V&&"documentMode"in document&&(vt=document.documentMode);var _t=V&&"TextEvent"in window&&!vt,mt=V&&(!gt||vt&&8<vt&&11>=vt),yt=String.fromCharCode(32),bt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xt=!1;function Et(t,e){switch(t){case"keyup":return-1!==ft.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function wt(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Tt=!1;var Ot={eventTypes:bt,extractEvents:function(t,e,n,r){var i=void 0,o=void 0;if(gt)t:{switch(t){case"compositionstart":i=bt.compositionStart;break t;case"compositionend":i=bt.compositionEnd;break t;case"compositionupdate":i=bt.compositionUpdate;break t}i=void 0}else Tt?Et(t,n)&&(i=bt.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=bt.compositionStart);return i?(mt&&"ko"!==n.locale&&(Tt||i!==bt.compositionStart?i===bt.compositionEnd&&Tt&&(o=ot()):(rt="value"in(nt=r)?nt.value:nt.textContent,Tt=!0)),i=ht.getPooled(i,e,n,r),o?i.data=o:null!==(o=wt(n))&&(i.data=o),W(i),o=i):o=null,(t=_t?function(t,e){switch(t){case"compositionend":return wt(e);case"keypress":return 32!==e.which?null:(xt=!0,yt);case"textInput":return(t=e.data)===yt&&xt?null:t;default:return null}}(t,n):function(t,e){if(Tt)return"compositionend"===t||!gt&&Et(t,e)?(t=ot(),it=rt=nt=null,Tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mt&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=dt.getPooled(bt.beforeInput,e,n,r)).data=t,W(e)):e=null,null===o?e:null===e?o:[o,e]}},Ct=null,St=null,kt=null;function It(t){if(t=E(t)){"function"!==typeof Ct&&s("280");var e=x(t.stateNode);Ct(t.stateNode,t.type,e)}}function At(t){St?kt?kt.push(t):kt=[t]:St=t}function Nt(){if(St){var t=St,e=kt;if(kt=St=null,It(t),e)for(t=0;t<e.length;t++)It(e[t])}}function Dt(t,e){return t(e)}function Rt(t,e,n){return t(e,n)}function Pt(){}var Lt=!1;function Mt(t,e){if(Lt)return t(e);Lt=!0;try{return Dt(t,e)}finally{Lt=!1,(null!==St||null!==kt)&&(Pt(),Nt())}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ft[t.type]:"textarea"===e}function Bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function zt(t){if(!V)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}function Gt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Ut(t){t._valueTracker||(t._valueTracker=function(t){var e=Gt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Ht(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var Wt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Wt.hasOwnProperty("ReactCurrentDispatcher")||(Wt.ReactCurrentDispatcher={current:null});var Vt=/^(.*)[\\\/]/,Yt="function"===typeof Symbol&&Symbol.for,Xt=Yt?Symbol.for("react.element"):60103,qt=Yt?Symbol.for("react.portal"):60106,$t=Yt?Symbol.for("react.fragment"):60107,Kt=Yt?Symbol.for("react.strict_mode"):60108,Qt=Yt?Symbol.for("react.profiler"):60114,Zt=Yt?Symbol.for("react.provider"):60109,Jt=Yt?Symbol.for("react.context"):60110,te=Yt?Symbol.for("react.concurrent_mode"):60111,ee=Yt?Symbol.for("react.forward_ref"):60112,ne=Yt?Symbol.for("react.suspense"):60113,re=Yt?Symbol.for("react.memo"):60115,ie=Yt?Symbol.for("react.lazy"):60116,oe="function"===typeof Symbol&&Symbol.iterator;function se(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=oe&&t[oe]||t["@@iterator"])?t:null}function ae(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case te:return"ConcurrentMode";case $t:return"Fragment";case qt:return"Portal";case Qt:return"Profiler";case Kt:return"StrictMode";case ne:return"Suspense"}if("object"===typeof t)switch(t.$$typeof){case Jt:return"Context.Consumer";case Zt:return"Context.Provider";case ee:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case re:return ae(t.type);case ie:if(t=1===t._status?t._result:null)return ae(t)}return null}function ue(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=ae(t.type);n=null,r&&(n=ae(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Vt,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var le=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ce=Object.prototype.hasOwnProperty,pe={},he={};function de(t,e,n,r,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new de(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new de(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new de(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new de(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new de(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new de(t,3,!0,t,null)}),["capture","download"].forEach(function(t){fe[t]=new de(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){fe[t]=new de(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){fe[t]=new de(t,5,!1,t.toLowerCase(),null)});var ge=/[\-:]([a-z])/g;function ve(t){return t[1].toUpperCase()}function _e(t,e,n,r){var i=fe.hasOwnProperty(e)?fe[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!ce.call(he,t)||!ce.call(pe,t)&&(le.test(t)?he[t]=!0:(pe[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function me(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function ye(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function be(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=me(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function xe(t,e){null!=(e=e.checked)&&_e(t,"checked",e,!1)}function Ee(t,e){xe(t,e);var n=me(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Te(t,e.type,n):e.hasOwnProperty("defaultValue")&&Te(t,e.type,me(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function we(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Te(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ge,ve);fe[e]=new de(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ge,ve);fe[e]=new de(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ge,ve);fe[e]=new de(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new de(t,1,!1,t.toLowerCase(),null)});var Oe={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ce(t,e,n){return(t=ut.getPooled(Oe.change,t,e,n)).type="change",At(n),W(t),t}var Se=null,ke=null;function Ie(t){N(t)}function Ae(t){if(Ht(F(t)))return t}function Ne(t,e){if("change"===t)return e}var De=!1;function Re(){Se&&(Se.detachEvent("onpropertychange",Pe),ke=Se=null)}function Pe(t){"value"===t.propertyName&&Ae(ke)&&Mt(Ie,t=Ce(ke,t,Bt(t)))}function Le(t,e,n){"focus"===t?(Re(),ke=n,(Se=e).attachEvent("onpropertychange",Pe)):"blur"===t&&Re()}function Me(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Ae(ke)}function Fe(t,e){if("click"===t)return Ae(e)}function je(t,e){if("input"===t||"change"===t)return Ae(e)}V&&(De=zt("input")&&(!document.documentMode||9<document.documentMode));var Be={eventTypes:Oe,_isInputEventSupported:De,extractEvents:function(t,e,n,r){var i=e?F(e):window,o=void 0,s=void 0,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type?o=Ne:jt(i)?De?o=je:(o=Me,s=Le):(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Fe),o&&(o=o(t,e)))return Ce(o,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Te(i,"number",i.value)}},ze=ut.extend({view:null,detail:null}),Ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ue(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ge[t])&&!!e[t]}function He(){return Ue}var We=0,Ve=0,Ye=!1,Xe=!1,qe=ze.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:He,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=We;return We=t.screenX,Ye?"mousemove"===t.type?t.screenX-e:0:(Ye=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ve;return Ve=t.screenY,Xe?"mousemove"===t.type?t.screenY-e:0:(Xe=!0,0)}}),$e=qe.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ke={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qe={eventTypes:Ke,extractEvents:function(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?L(e):null):o=null,o===e)return null;var s=void 0,a=void 0,u=void 0,l=void 0;"mouseout"===t||"mouseover"===t?(s=qe,a=Ke.mouseLeave,u=Ke.mouseEnter,l="mouse"):"pointerout"!==t&&"pointerover"!==t||(s=$e,a=Ke.pointerLeave,u=Ke.pointerEnter,l="pointer");var c=null==o?i:F(o);if(i=null==e?i:F(e),(t=s.getPooled(a,o,n,r)).type=l+"leave",t.target=c,t.relatedTarget=i,(n=s.getPooled(u,e,n,r)).type=l+"enter",n.target=i,n.relatedTarget=c,r=e,o&&r)t:{for(i=r,l=0,s=e=o;s;s=B(s))l++;for(s=0,u=i;u;u=B(u))s++;for(;0<l-s;)e=B(e),l--;for(;0<s-l;)i=B(i),s--;for(;l--;){if(e===i||e===i.alternate)break t;e=B(e),i=B(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(l=o.alternate)||l!==i);)e.push(o),o=B(o);for(o=[];r&&r!==i&&(null===(l=r.alternate)||l!==i);)o.push(r),r=B(r);for(r=0;r<e.length;r++)U(e[r],"bubbled",t);for(r=o.length;0<r--;)U(o[r],"captured",n);return[t,n]}};function Ze(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e}var Je=Object.prototype.hasOwnProperty;function tn(t,e){if(Ze(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Je.call(e,n[r])||!Ze(t[n[r]],e[n[r]]))return!1;return!0}function en(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function nn(t){2!==en(t)&&s("188")}function rn(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=en(t))&&s("188"),1===e?null:t;for(var n=t,r=e;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return nn(i),t;if(a===r)return nn(i),e;a=a.sibling}s("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}a||s("189")}}n.alternate!==r&&s("190")}return 3!==n.tag&&s("188"),n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var on=ut.extend({animationName:null,elapsedTime:null,pseudoElement:null}),sn=ut.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),an=ze.extend({relatedTarget:null});function un(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn=ze.extend({key:function(t){if(t.key){var e=ln[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=un(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?cn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:He,charCode:function(t){return"keypress"===t.type?un(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?un(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),hn=qe.extend({dataTransfer:null}),dn=ze.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:He}),fn=ut.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=qe.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[Q,"animationEnd"],[Z,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[tt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],_n={},mn={};function yn(t,e){var n=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},_n[t]=e,mn[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){yn(t,!0)}),vn.forEach(function(t){yn(t,!1)});var bn={eventTypes:_n,isInteractiveTopLevelEventType:function(t){return void 0!==(t=mn[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var i=mn[t];if(!i)return null;switch(t){case"keypress":if(0===un(n))return null;case"keydown":case"keyup":t=pn;break;case"blur":case"focus":t=an;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=qe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=dn;break;case Q:case Z:case J:t=on;break;case tt:t=fn;break;case"scroll":t=ze;break;case"wheel":t=gn;break;case"copy":case"cut":case"paste":t=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=$e;break;default:t=ut}return W(e=t.getPooled(i,e,n,r)),e}},xn=bn.isInteractiveTopLevelEventType,En=[];function wn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=L(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Bt(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,s=null,a=0;a<_.length;a++){var u=_[a];u&&(u=u.extractEvents(r,e,o,i))&&(s=O(s,u))}N(s)}}var Tn=!0;function On(t,e){if(!e)return null;var n=(xn(t)?Sn:kn).bind(null,t);e.addEventListener(t,n,!1)}function Cn(t,e){if(!e)return null;var n=(xn(t)?Sn:kn).bind(null,t);e.addEventListener(t,n,!0)}function Sn(t,e){Rt(kn,t,e)}function kn(t,e){if(Tn){var n=Bt(e);if(null===(n=L(n))||"number"!==typeof n.tag||2===en(n)||(n=null),En.length){var r=En.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Mt(wn,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>En.length&&En.push(t)}}}var In={},An=0,Nn="_reactListenersID"+(""+Math.random()).slice(2);function Dn(t){return Object.prototype.hasOwnProperty.call(t,Nn)||(t[Nn]=An++,In[t[Nn]]={}),In[t[Nn]]}function Rn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Pn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ln(t,e){var n,r=Pn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Pn(r)}}function Mn(){for(var t=window,e=Rn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Rn((t=e.contentWindow).document)}return e}function Fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function jn(t){var e=Mn(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Fn(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Ln(n,o);var s=Ln(n,r);i&&s&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Bn=V&&"documentMode"in document&&11>=document.documentMode,zn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gn=null,Un=null,Hn=null,Wn=!1;function Vn(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Wn||null==Gn||Gn!==Rn(n)?null:("selectionStart"in(n=Gn)&&Fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hn&&tn(Hn,n)?null:(Hn=n,(t=ut.getPooled(zn.select,Un,t,e)).type="select",t.target=Gn,W(t),t))}var Yn={eventTypes:zn,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=Dn(o),i=b.onSelect;for(var s=0;s<i.length;s++){var a=i[s];if(!o.hasOwnProperty(a)||!o[a]){o=!1;break t}}o=!0}i=!o}if(i)return null;switch(o=e?F(e):window,t){case"focus":(jt(o)||"true"===o.contentEditable)&&(Gn=o,Un=e,Hn=null);break;case"blur":Hn=Un=Gn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wn=!1,Vn(n,r);case"selectionchange":if(Bn)break;case"keydown":case"keyup":return Vn(n,r)}return null}};function Xn(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function qn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+me(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function $n(t,e){return null!=e.dangerouslySetInnerHTML&&s("91"),i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kn(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&s("92"),Array.isArray(e)&&(1>=e.length||s("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:me(n)}}function Qn(t,e){var n=me(e.value),r=me(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Zn(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}I.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=j,E=M,w=F,I.injectEventPluginsByName({SimpleEventPlugin:bn,EnterLeaveEventPlugin:Qe,ChangeEventPlugin:Be,SelectEventPlugin:Yn,BeforeInputEventPlugin:Ot});var Jn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function tr(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?tr(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var nr,rr=void 0,ir=(nr=function(t,e){if(t.namespaceURI!==Jn.svg||"innerHTML"in t)t.innerHTML=e;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(t,e)})}:nr);function or(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var sr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];function ur(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||sr.hasOwnProperty(t)&&sr[t]?(""+e).trim():e+"px"}function lr(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ur(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(sr).forEach(function(t){ar.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sr[e]=sr[t]})});var cr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pr(t,e){e&&(cr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&s("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&s("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||s("61")),null!=e.style&&"object"!==typeof e.style&&s("62",""))}function hr(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function dr(t,e){var n=Dn(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=b[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Cn("scroll",t);break;case"focus":case"blur":Cn("focus",t),Cn("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":zt(i)&&Cn(i,t);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(i)&&On(i,t)}n[i]=!0}}}function fr(){}var gr=null,vr=null;function _r(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var yr="function"===typeof setTimeout?setTimeout:void 0,br="function"===typeof clearTimeout?clearTimeout:void 0,xr=o.unstable_scheduleCallback,Er=o.unstable_cancelCallback;function wr(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function Tr(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var Or=[],Cr=-1;function Sr(t){0>Cr||(t.current=Or[Cr],Or[Cr]=null,Cr--)}function kr(t,e){Or[++Cr]=t.current,t.current=e}var Ir={},Ar={current:Ir},Nr={current:!1},Dr=Ir;function Rr(t,e){var n=t.type.contextTypes;if(!n)return Ir;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Pr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Lr(t){Sr(Nr),Sr(Ar)}function Mr(t){Sr(Nr),Sr(Ar)}function Fr(t,e,n){Ar.current!==Ir&&s("168"),kr(Ar,e),kr(Nr,n)}function jr(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in t||s("108",ae(e)||"Unknown",o);return i({},n,r)}function Br(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Ir,Dr=Ar.current,kr(Ar,e),kr(Nr,Nr.current),!0}function zr(t,e,n){var r=t.stateNode;r||s("169"),n?(e=jr(t,e,Dr),r.__reactInternalMemoizedMergedChildContext=e,Sr(Nr),Sr(Ar),kr(Ar,e)):Sr(Nr),kr(Nr,n)}var Gr=null,Ur=null;function Hr(t){return function(e){try{return t(e)}catch(n){}}}function Wr(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Vr(t,e,n,r){return new Wr(t,e,n,r)}function Yr(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Xr(t,e){var n=t.alternate;return null===n?((n=Vr(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.contextDependencies=t.contextDependencies,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qr(t,e,n,r,i,o){var a=2;if(r=t,"function"===typeof t)Yr(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case $t:return $r(n.children,i,o,e);case te:return Kr(n,3|i,o,e);case Kt:return Kr(n,2|i,o,e);case Qt:return(t=Vr(12,n,e,4|i)).elementType=Qt,t.type=Qt,t.expirationTime=o,t;case ne:return(t=Vr(13,n,e,i)).elementType=ne,t.type=ne,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case Zt:a=10;break t;case Jt:a=9;break t;case ee:a=11;break t;case re:a=14;break t;case ie:a=16,r=null;break t}s("130",null==t?t:typeof t,"")}return(e=Vr(a,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function $r(t,e,n,r){return(t=Vr(7,t,r,e)).expirationTime=n,t}function Kr(t,e,n,r){return t=Vr(8,t,r,e),e=0===(1&e)?Kt:te,t.elementType=e,t.type=e,t.expirationTime=n,t}function Qr(t,e,n){return(t=Vr(6,t,null,e)).expirationTime=n,t}function Zr(t,e,n){return(e=Vr(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jr(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n<e?t.earliestPendingTime=e:t.latestPendingTime>e&&(t.latestPendingTime=e),ni(e,t)}function ti(t,e){t.didError=!1,t.latestPingedTime>=e&&(t.latestPingedTime=0);var n=t.earliestPendingTime,r=t.latestPendingTime;n===e?t.earliestPendingTime=r===e?t.latestPendingTime=0:r:r===e&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,r=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=e:n<e?t.earliestSuspendedTime=e:r>e&&(t.latestSuspendedTime=e),ni(e,t)}function ei(t,e){var n=t.earliestPendingTime;return n>e&&(e=n),(t=t.earliestSuspendedTime)>e&&(e=t),e}function ni(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,i=e.earliestPendingTime,o=e.latestPingedTime;0===(i=0!==i?i:o)&&(0===t||r<t)&&(i=r),0!==(t=i)&&n>t&&(t=n),e.nextExpirationTimeToWorkOn=i,e.expirationTime=t}function ri(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var ii=(new r.Component).refs;function oi(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var si={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===en(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Ea(),i=Ko(r=$s(r,t));i.payload=e,void 0!==n&&null!==n&&(i.callback=n),Hs(),Zo(t,i),Zs(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Ea(),i=Ko(r=$s(r,t));i.tag=Wo,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),Hs(),Zo(t,i),Zs(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Ea(),r=Ko(n=$s(n,t));r.tag=Vo,void 0!==e&&null!==e&&(r.callback=e),Hs(),Zo(t,r),Zs(t,n)}};function ai(t,e,n,r,i,o,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!tn(n,r)||!tn(i,o))}function ui(t,e,n){var r=!1,i=Ir,o=e.contextType;return"object"===typeof o&&null!==o?o=Uo(o):(i=Pr(e)?Dr:Ar.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Rr(t,i):Ir),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=si,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function li(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&si.enqueueReplaceState(e,e.state,null)}function ci(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ii;var o=e.contextType;"object"===typeof o&&null!==o?i.context=Uo(o):(o=Pr(e)?Dr:Ar.current,i.context=Rr(t,o)),null!==(o=t.updateQueue)&&(ns(t,o,n,i,r),i.state=t.memoizedState),"function"===typeof(o=e.getDerivedStateFromProps)&&(oi(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&si.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(ns(t,o,n,i,r),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var pi=Array.isArray;function hi(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&s("309"),r=n.stateNode),r||s("147",t);var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===ii&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}"string"!==typeof t&&s("284"),n._owner||s("290",t)}return t}function di(t,e){"textarea"!==t.type&&s("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function fi(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=Xr(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Qr(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=hi(t,e,n),r.return=t,r):((r=qr(n.type,n.key,n.props,null,t.mode,r)).ref=hi(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Zr(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function p(t,e,n,r,o){return null===e||7!==e.tag?((e=$r(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Qr(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Xt:return(n=qr(e.type,e.key,e.props,null,t.mode,n)).ref=hi(t,null,e),n.return=t,n;case qt:return(e=Zr(e,t.mode,n)).return=t,e}if(pi(e)||se(e))return(e=$r(e,t.mode,n,null)).return=t,e;di(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Xt:return n.key===i?n.type===$t?p(t,e,n.props.children,r,i):l(t,e,n,r):null;case qt:return n.key===i?c(t,e,n,r):null}if(pi(n)||se(n))return null!==i?null:p(t,e,n,r,null);di(t,n)}return null}function f(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Xt:return t=t.get(null===r.key?n:r.key)||null,r.type===$t?p(e,t,r.props.children,i,r.key):l(e,t,r,i);case qt:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(pi(r)||se(r))return p(e,t=t.get(n)||null,r,i,null);di(e,r)}return null}function g(i,s,a,u){for(var l=null,c=null,p=s,g=s=0,v=null;null!==p&&g<a.length;g++){p.index>g?(v=p,p=null):v=p.sibling;var _=d(i,p,a[g],u);if(null===_){null===p&&(p=v);break}t&&p&&null===_.alternate&&e(i,p),s=o(_,s,g),null===c?l=_:c.sibling=_,c=_,p=v}if(g===a.length)return n(i,p),l;if(null===p){for(;g<a.length;g++)(p=h(i,a[g],u))&&(s=o(p,s,g),null===c?l=p:c.sibling=p,c=p);return l}for(p=r(i,p);g<a.length;g++)(v=f(p,i,g,a[g],u))&&(t&&null!==v.alternate&&p.delete(null===v.key?g:v.key),s=o(v,s,g),null===c?l=v:c.sibling=v,c=v);return t&&p.forEach(function(t){return e(i,t)}),l}function v(i,a,u,l){var c=se(u);"function"!==typeof c&&s("150"),null==(u=c.call(u))&&s("151");for(var p=c=null,g=a,v=a=0,_=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(_=g,g=null):_=g.sibling;var y=d(i,g,m.value,l);if(null===y){g||(g=_);break}t&&g&&null===y.alternate&&e(i,g),a=o(y,a,v),null===p?c=y:p.sibling=y,p=y,g=_}if(m.done)return n(i,g),c;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=h(i,m.value,l))&&(a=o(m,a,v),null===p?c=m:p.sibling=m,p=m);return c}for(g=r(i,g);!m.done;v++,m=u.next())null!==(m=f(g,i,v,m.value,l))&&(t&&null!==m.alternate&&g.delete(null===m.key?v:m.key),a=o(m,a,v),null===p?c=m:p.sibling=m,p=m);return t&&g.forEach(function(t){return e(i,t)}),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===$t&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case Xt:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag?o.type===$t:l.elementType===o.type){n(t,l.sibling),(r=i(l,o.type===$t?o.props.children:o.props)).ref=hi(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===$t?((r=$r(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=qr(o.type,o.key,o.props,null,t.mode,u)).ref=hi(t,r,o),u.return=t,t=u)}return a(t);case qt:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Zr(o,t.mode,u)).return=t,t=r}return a(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Qr(o,t.mode,u)).return=t,t=r),a(t);if(pi(o))return g(t,r,o,u);if(se(o))return v(t,r,o,u);if(c&&di(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 0:s("152",(u=t.type).displayName||u.name||"Component")}return n(t,r)}}var gi=fi(!0),vi=fi(!1),_i={},mi={current:_i},yi={current:_i},bi={current:_i};function xi(t){return t===_i&&s("174"),t}function Ei(t,e){kr(bi,e),kr(yi,t),kr(mi,_i);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:er(null,"");break;default:e=er(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}Sr(mi),kr(mi,e)}function wi(t){Sr(mi),Sr(yi),Sr(bi)}function Ti(t){xi(bi.current);var e=xi(mi.current),n=er(e,t.type);e!==n&&(kr(yi,t),kr(mi,n))}function Oi(t){yi.current===t&&(Sr(mi),Sr(yi))}var Ci=0,Si=2,ki=4,Ii=8,Ai=16,Ni=32,Di=64,Ri=128,Pi=Wt.ReactCurrentDispatcher,Li=0,Mi=null,Fi=null,ji=null,Bi=null,zi=null,Gi=null,Ui=0,Hi=null,Wi=0,Vi=!1,Yi=null,Xi=0;function qi(){s("321")}function $i(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ze(t[n],e[n]))return!1;return!0}function Ki(t,e,n,r,i,o){if(Li=o,Mi=e,ji=null!==t?t.memoizedState:null,Pi.current=null===ji?lo:co,e=n(r,i),Vi){do{Vi=!1,Xi+=1,ji=null!==t?t.memoizedState:null,Gi=Bi,Hi=zi=Fi=null,Pi.current=co,e=n(r,i)}while(Vi);Yi=null,Xi=0}return Pi.current=uo,(t=Mi).memoizedState=Bi,t.expirationTime=Ui,t.updateQueue=Hi,t.effectTag|=Wi,t=null!==Fi&&null!==Fi.next,Li=0,Gi=zi=Bi=ji=Fi=Mi=null,Ui=0,Hi=null,Wi=0,t&&s("300"),e}function Qi(){Pi.current=uo,Li=0,Gi=zi=Bi=ji=Fi=Mi=null,Ui=0,Hi=null,Wi=0,Vi=!1,Yi=null,Xi=0}function Zi(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===zi?Bi=zi=t:zi=zi.next=t,zi}function Ji(){if(null!==Gi)Gi=(zi=Gi).next,ji=null!==(Fi=ji)?Fi.next:null;else{null===ji&&s("310");var t={memoizedState:(Fi=ji).memoizedState,baseState:Fi.baseState,queue:Fi.queue,baseUpdate:Fi.baseUpdate,next:null};zi=null===zi?Bi=t:zi.next=t,ji=Fi.next}return zi}function to(t,e){return"function"===typeof e?e(t):e}function eo(t){var e=Ji(),n=e.queue;if(null===n&&s("311"),n.lastRenderedReducer=t,0<Xi){var r=n.dispatch;if(null!==Yi){var i=Yi.get(n);if(void 0!==i){Yi.delete(n);var o=e.memoizedState;do{o=t(o,i.action),i=i.next}while(null!==i);return Ze(o,e.memoizedState)||(Eo=!0),e.memoizedState=o,e.baseUpdate===n.last&&(e.baseState=o),n.lastRenderedState=o,[o,r]}}return[e.memoizedState,r]}r=n.last;var a=e.baseUpdate;if(o=e.baseState,null!==a?(null!==r&&(r.next=null),r=a.next):r=null!==r?r.next:null,null!==r){var u=i=null,l=r,c=!1;do{var p=l.expirationTime;p<Li?(c||(c=!0,u=a,i=o),p>Ui&&(Ui=p)):o=l.eagerReducer===t?l.eagerState:t(o,l.action),a=l,l=l.next}while(null!==l&&l!==r);c||(u=a,i=o),Ze(o,e.memoizedState)||(Eo=!0),e.memoizedState=o,e.baseUpdate=u,e.baseState=i,n.lastRenderedState=o}return[e.memoizedState,n.dispatch]}function no(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===Hi?(Hi={lastEffect:null}).lastEffect=t.next=t:null===(e=Hi.lastEffect)?Hi.lastEffect=t.next=t:(n=e.next,e.next=t,t.next=n,Hi.lastEffect=t),t}function ro(t,e,n,r){var i=Zi();Wi|=t,i.memoizedState=no(e,n,void 0,void 0===r?null:r)}function io(t,e,n,r){var i=Ji();r=void 0===r?null:r;var o=void 0;if(null!==Fi){var s=Fi.memoizedState;if(o=s.destroy,null!==r&&$i(r,s.deps))return void no(Ci,n,o,r)}Wi|=t,i.memoizedState=no(e,n,o,r)}function oo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function so(){}function ao(t,e,n){25>Xi||s("301");var r=t.alternate;if(t===Mi||null!==r&&r===Mi)if(Vi=!0,t={expirationTime:Li,action:n,eagerReducer:null,eagerState:null,next:null},null===Yi&&(Yi=new Map),void 0===(n=Yi.get(e)))Yi.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}else{Hs();var i=Ea(),o={expirationTime:i=$s(i,t),action:n,eagerReducer:null,eagerState:null,next:null},a=e.last;if(null===a)o.next=o;else{var u=a.next;null!==u&&(o.next=u),a.next=o}if(e.last=o,0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=e.lastRenderedReducer))try{var l=e.lastRenderedState,c=r(l,n);if(o.eagerReducer=r,o.eagerState=c,Ze(c,l))return}catch(p){}Zs(t,i)}}var uo={readContext:Uo,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi},lo={readContext:Uo,useCallback:function(t,e){return Zi().memoizedState=[t,void 0===e?null:e],t},useContext:Uo,useEffect:function(t,e){return ro(516,Ri|Di,t,e)},useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ro(4,ki|Ni,oo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ro(4,ki|Ni,t,e)},useMemo:function(t,e){var n=Zi();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zi();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ao.bind(null,Mi,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Zi().memoizedState=t},useState:function(t){var e=Zi();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:to,lastRenderedState:t}).dispatch=ao.bind(null,Mi,t),[e.memoizedState,t]},useDebugValue:so},co={readContext:Uo,useCallback:function(t,e){var n=Ji();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$i(e,r[1])?r[0]:(n.memoizedState=[t,e],t)},useContext:Uo,useEffect:function(t,e){return io(516,Ri|Di,t,e)},useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,io(4,ki|Ni,oo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return io(4,ki|Ni,t,e)},useMemo:function(t,e){var n=Ji();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$i(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)},useReducer:eo,useRef:function(){return Ji().memoizedState},useState:function(t){return eo(to)},useDebugValue:so},po=null,ho=null,fo=!1;function go(t,e){var n=Vr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function vo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function _o(t){if(fo){var e=ho;if(e){var n=e;if(!vo(t,e)){if(!(e=wr(n))||!vo(t,e))return t.effectTag|=2,fo=!1,void(po=t);go(po,n)}po=t,ho=Tr(e)}else t.effectTag|=2,fo=!1,po=t}}function mo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&18!==t.tag;)t=t.return;po=t}function yo(t){if(t!==po)return!1;if(!fo)return mo(t),fo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!mr(e,t.memoizedProps))for(e=ho;e;)go(t,e),e=wr(e);return mo(t),ho=po?wr(t.stateNode):null,!0}function bo(){ho=po=null,fo=!1}var xo=Wt.ReactCurrentOwner,Eo=!1;function wo(t,e,n,r){e.child=null===t?vi(e,null,n,r):gi(e,t.child,n,r)}function To(t,e,n,r,i){n=n.render;var o=e.ref;return Go(e,i),r=Ki(t,e,n,r,o,i),null===t||Eo?(e.effectTag|=1,wo(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Ro(t,e,i))}function Oo(t,e,n,r,i,o){if(null===t){var s=n.type;return"function"!==typeof s||Yr(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=qr(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Co(t,e,s,r,i,o))}return s=t.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:tn)(i,r)&&t.ref===e.ref)?Ro(t,e,o):(e.effectTag|=1,(t=Xr(s,r)).ref=e.ref,t.return=e,e.child=t)}function Co(t,e,n,r,i,o){return null!==t&&tn(t.memoizedProps,r)&&t.ref===e.ref&&(Eo=!1,i<o)?Ro(t,e,o):ko(t,e,n,r,o)}function So(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function ko(t,e,n,r,i){var o=Pr(n)?Dr:Ar.current;return o=Rr(e,o),Go(e,i),n=Ki(t,e,n,r,o,i),null===t||Eo?(e.effectTag|=1,wo(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Ro(t,e,i))}function Io(t,e,n,r,i){if(Pr(n)){var o=!0;Br(e)}else o=!1;if(Go(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),ui(e,n,r),ci(e,n,r,i),r=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Uo(l):l=Rr(e,l=Pr(n)?Dr:Ar.current);var c=n.getDerivedStateFromProps,p="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;p||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&li(e,s,r,l),Xo=!1;var h=e.memoizedState;u=s.state=h;var d=e.updateQueue;null!==d&&(ns(e,d,r,s,i),u=e.memoizedState),a!==r||h!==u||Nr.current||Xo?("function"===typeof c&&(oi(e,n,c,r),u=e.memoizedState),(a=Xo||ai(e,n,a,r,h,u,l))?(p||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):("function"===typeof s.componentDidMount&&(e.effectTag|=4),r=!1)}else s=e.stateNode,a=e.memoizedProps,s.props=e.type===e.elementType?a:ri(e.type,a),u=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Uo(l):l=Rr(e,l=Pr(n)?Dr:Ar.current),(p="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==l)&&li(e,s,r,l),Xo=!1,u=e.memoizedState,h=s.state=u,null!==(d=e.updateQueue)&&(ns(e,d,r,s,i),h=e.memoizedState),a!==r||u!==h||Nr.current||Xo?("function"===typeof c&&(oi(e,n,c,r),h=e.memoizedState),(c=Xo||ai(e,n,a,r,u,h,l))?(p||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Ao(t,e,n,r,o,i)}function Ao(t,e,n,r,i,o){So(t,e);var s=0!==(64&e.effectTag);if(!r&&!s)return i&&zr(e,n,!1),Ro(t,e,o);r=e.stateNode,xo.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&s?(e.child=gi(e,t.child,null,o),e.child=gi(e,null,a,o)):wo(t,e,a,o),e.memoizedState=r.state,i&&zr(e,n,!0),e.child}function No(t){var e=t.stateNode;e.pendingContext?Fr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Fr(0,e.context,!1),Ei(t,e.containerInfo)}function Do(t,e,n){var r=e.mode,i=e.pendingProps,o=e.memoizedState;if(0===(64&e.effectTag)){o=null;var s=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},s=!0,e.effectTag&=-65;if(null===t)if(s){var a=i.fallback;t=$r(null,r,0,null),0===(1&e.mode)&&(t.child=null!==e.memoizedState?e.child.child:e.child),r=$r(a,r,n,null),t.sibling=r,(n=t).return=r.return=e}else n=r=vi(e,null,i.children,n);else null!==t.memoizedState?(a=(r=t.child).sibling,s?(n=i.fallback,i=Xr(r,r.pendingProps),0===(1&e.mode)&&((s=null!==e.memoizedState?e.child.child:e.child)!==r.child&&(i.child=s)),r=i.sibling=Xr(a,n,a.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=e):n=r=gi(e,r.child,i.children,n)):(a=t.child,s?(s=i.fallback,(i=$r(null,r,0,null)).child=a,0===(1&e.mode)&&(i.child=null!==e.memoizedState?e.child.child:e.child),(r=i.sibling=$r(s,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=e):r=n=gi(e,a,i.children,n)),e.stateNode=t.stateNode;return e.memoizedState=o,e.child=n,r}function Ro(t,e,n){if(null!==t&&(e.contextDependencies=t.contextDependencies),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child&&s("153"),null!==e.child){for(n=Xr(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Xr(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function Po(t,e,n){var r=e.expirationTime;if(null!==t){if(t.memoizedProps!==e.pendingProps||Nr.current)Eo=!0;else if(r<n){switch(Eo=!1,e.tag){case 3:No(e),bo();break;case 5:Ti(e);break;case 1:Pr(e.type)&&Br(e);break;case 4:Ei(e,e.stateNode.containerInfo);break;case 10:Bo(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Do(t,e,n):null!==(e=Ro(t,e,n))?e.sibling:null}return Ro(t,e,n)}}else Eo=!1;switch(e.expirationTime=0,e.tag){case 2:r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var i=Rr(e,Ar.current);if(Go(e,n),i=Ki(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,Qi(),Pr(r)){var o=!0;Br(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var a=r.getDerivedStateFromProps;"function"===typeof a&&oi(e,r,a,t),i.updater=si,e.stateNode=i,i._reactInternalFiber=e,ci(e,r,t,n),e=Ao(null,e,r,!0,o,n)}else e.tag=0,wo(null,e,i,n),e=e.child;return e;case 16:switch(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),o=e.pendingProps,t=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:switch(t._status=0,(e=(e=t._ctor)()).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._status){case 1:return t._result;case 2:throw t._result}throw t._result=e,e}}(i),e.type=t,i=e.tag=function(t){if("function"===typeof t)return Yr(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ee)return 11;if(t===re)return 14}return 2}(t),o=ri(t,o),a=void 0,i){case 0:a=ko(null,e,t,o,n);break;case 1:a=Io(null,e,t,o,n);break;case 11:a=To(null,e,t,o,n);break;case 14:a=Oo(null,e,t,ri(t.type,o),r,n);break;default:s("306",t,"")}return a;case 0:return r=e.type,i=e.pendingProps,ko(t,e,r,i=e.elementType===r?i:ri(r,i),n);case 1:return r=e.type,i=e.pendingProps,Io(t,e,r,i=e.elementType===r?i:ri(r,i),n);case 3:return No(e),null===(r=e.updateQueue)&&s("282"),i=null!==(i=e.memoizedState)?i.element:null,ns(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i?(bo(),e=Ro(t,e,n)):(i=e.stateNode,(i=(null===t||null===t.child)&&i.hydrate)&&(ho=Tr(e.stateNode.containerInfo),po=e,i=fo=!0),i?(e.effectTag|=2,e.child=vi(e,null,r,n)):(wo(t,e,r,n),bo()),e=e.child),e;case 5:return Ti(e),null===t&&_o(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,mr(r,i)?a=null:null!==o&&mr(r,o)&&(e.effectTag|=16),So(t,e),1!==n&&1&e.mode&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(wo(t,e,a,n),e=e.child),e;case 6:return null===t&&_o(e),null;case 13:return Do(t,e,n);case 4:return Ei(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=gi(e,null,r,n):wo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,To(t,e,r,i=e.elementType===r?i:ri(r,i),n);case 7:return wo(t,e,e.pendingProps,n),e.child;case 8:case 12:return wo(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,Bo(e,o=i.value),null!==a){var u=a.value;if(0===(o=Ze(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!Nr.current){e=Ro(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.contextDependencies;if(null!==l){a=u.child;for(var c=l.first;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=Ko(n)).tag=Vo,Zo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),c=n;for(var p=u.return;null!==p;){var h=p.alternate;if(p.childExpirationTime<c)p.childExpirationTime=c,null!==h&&h.childExpirationTime<c&&(h.childExpirationTime=c);else{if(!(null!==h&&h.childExpirationTime<c))break;h.childExpirationTime=c}p=p.return}l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else a=10===u.tag&&u.type===e.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===e){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}}wo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,Go(e,n),r=r(i=Uo(i,o.unstable_observedBits)),e.effectTag|=1,wo(t,e,r,n),e.child;case 14:return o=ri(i=e.type,e.pendingProps),Oo(t,e,i,o=ri(i.type,o),r,n);case 15:return Co(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Pr(r)?(t=!0,Br(e)):t=!1,Go(e,n),ui(e,r,i),ci(e,r,i,n),Ao(null,e,r,!0,t,n)}s("156")}var Lo={current:null},Mo=null,Fo=null,jo=null;function Bo(t,e){var n=t.type._context;kr(Lo,n._currentValue),n._currentValue=e}function zo(t){var e=Lo.current;Sr(Lo),t.type._context._currentValue=e}function Go(t,e){Mo=t,jo=Fo=null;var n=t.contextDependencies;null!==n&&n.expirationTime>=e&&(Eo=!0),t.contextDependencies=null}function Uo(t,e){return jo!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(jo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Fo?(null===Mo&&s("308"),Fo=e,Mo.contextDependencies={first:e,expirationTime:0}):Fo=Fo.next=e),t._currentValue}var Ho=0,Wo=1,Vo=2,Yo=3,Xo=!1;function qo(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function $o(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ko(t){return{expirationTime:t,tag:Ho,payload:null,callback:null,next:null,nextEffect:null}}function Qo(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function Zo(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=qo(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=qo(t.memoizedState),i=n.updateQueue=qo(n.memoizedState)):r=t.updateQueue=$o(i):null===i&&(i=n.updateQueue=$o(r));null===i||r===i?Qo(r,e):null===r.lastUpdate||null===i.lastUpdate?(Qo(r,e),Qo(i,e)):(Qo(r,e),i.lastUpdate=e)}function Jo(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=qo(t.memoizedState):ts(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function ts(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=$o(e)),e}function es(t,e,n,r,o,s){switch(n.tag){case Wo:return"function"===typeof(t=n.payload)?t.call(s,r,o):t;case Yo:t.effectTag=-2049&t.effectTag|64;case Ho:if(null===(o="function"===typeof(t=n.payload)?t.call(s,r,o):t)||void 0===o)break;return i({},r,o);case Vo:Xo=!0}return r}function ns(t,e,n,r,i){Xo=!1;for(var o=(e=ts(t,e)).baseState,s=null,a=0,u=e.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c<i?(null===s&&(s=u,o=l),a<c&&(a=c)):(l=es(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(c=null,u=e.firstCapturedUpdate;null!==u;){var p=u.expirationTime;p<i?(null===c&&(c=u,null===s&&(o=l)),a<p&&(a=p)):(l=es(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===s&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===s&&null===c&&(o=l),e.baseState=o,e.firstUpdate=s,e.firstCapturedUpdate=c,t.expirationTime=a,t.memoizedState=l}function rs(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),is(e.firstEffect,n),e.firstEffect=e.lastEffect=null,is(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function is(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;"function"!==typeof n&&s("191",n),n.call(r)}t=t.nextEffect}}function os(t,e){return{value:t,source:e,stack:ue(e)}}function ss(t){t.effectTag|=4}var as=void 0,us=void 0,ls=void 0,cs=void 0;as=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},us=function(){},ls=function(t,e,n,r,o){var s=t.memoizedProps;if(s!==r){var a=e.stateNode;switch(xi(mi.current),t=null,n){case"input":s=ye(a,s),r=ye(a,r),t=[];break;case"option":s=Xn(a,s),r=Xn(a,r),t=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":s=$n(a,s),r=$n(a,r),t=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(a.onclick=fr)}pr(n,r),a=n=void 0;var u=null;for(n in s)if(!r.hasOwnProperty(n)&&s.hasOwnProperty(n)&&null!=s[n])if("style"===n){var l=s[n];for(a in l)l.hasOwnProperty(a)&&(u||(u={}),u[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(y.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var c=r[n];if(l=null!=s?s[n]:void 0,r.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if("style"===n)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(u||(u={}),u[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(u||(u={}),u[a]=c[a])}else u||(t||(t=[]),t.push(n,u)),u=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(n,""+c)):"children"===n?l===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(y.hasOwnProperty(n)?(null!=c&&dr(o,n),t||l===c||(t=[])):(t=t||[]).push(n,c))}u&&(t=t||[]).push("style",u),o=t,(e.updateQueue=o)&&ss(e)}},cs=function(t,e,n,r){n!==r&&ss(e)};var ps="function"===typeof WeakSet?WeakSet:Set;function hs(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=ue(n)),null!==n&&ae(n.type),e=e.value,null!==t&&1===t.tag&&ae(t.type);try{console.error(e)}catch(i){setTimeout(function(){throw i})}}function ds(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){qs(t,n)}else e.current=null}function fs(t,e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&t)!==Ci){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&e)!==Ci&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function gs(t){switch("function"===typeof Ur&&Ur(t),t.tag){case 0:case 11:case 14:case 15:var e=t.updateQueue;if(null!==e&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n.destroy;if(void 0!==r){var i=t;try{r()}catch(o){qs(i,o)}}n=n.next}while(n!==e)}break;case 1:if(ds(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){qs(t,o)}break;case 5:ds(t);break;case 4:ms(t)}}function vs(t){return 5===t.tag||3===t.tag||4===t.tag}function _s(t){t:{for(var e=t.return;null!==e;){if(vs(e)){var n=e;break t}e=e.return}s("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:s("161")}16&n.effectTag&&(or(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=e,a=i.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(a,u):o.insertBefore(a,u)}else e.insertBefore(i.stateNode,n);else r?(a=e,u=i.stateNode,8===a.nodeType?(o=a.parentNode).insertBefore(u,a):(o=a).appendChild(u),null!==(a=a._reactRootContainer)&&void 0!==a||null!==o.onclick||(o.onclick=fr)):e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ms(t){for(var e=t,n=!1,r=void 0,i=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&s("160"),n.tag){case 5:r=n.stateNode,i=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var o=e,a=o;;)if(gs(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}i?(o=r,a=e.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):r.removeChild(e.stateNode)}else if(4===e.tag){if(null!==e.child){r=e.stateNode.containerInfo,i=!0,e.child.return=e,e=e.child;continue}}else if(gs(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function ys(t,e){switch(e.tag){case 0:case 11:case 14:case 15:fs(ki,Ii,e);break;case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var i=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&function(t,e,n,r,i){t[P]=i,"input"===n&&"radio"===i.type&&null!=i.name&&xe(t,i),hr(n,r),r=hr(n,i);for(var o=0;o<e.length;o+=2){var s=e[o],a=e[o+1];"style"===s?lr(t,a):"dangerouslySetInnerHTML"===s?ir(t,a):"children"===s?or(t,a):_e(t,s,a,r)}switch(n){case"input":Ee(t,i);break;case"textarea":Qn(t,i);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?qn(t,!!i.multiple,n,!1):e!==!!i.multiple&&(null!=i.defaultValue?qn(t,!!i.multiple,i.defaultValue,!0):qn(t,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,t,r)}break;case 6:null===e.stateNode&&s("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:break;case 13:if(n=e.memoizedState,r=void 0,t=e,null===n?r=!1:(r=!0,t=e.child,0===n.timedOutAt&&(n.timedOutAt=Ea())),null!==t&&function(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ur("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(t,r),null!==(n=e.updateQueue)){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new ps),n.forEach(function(t){var n=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),e=$s(e=Ea(),t),null!==(t=Qs(t,e))&&(Jr(t,e),0!==(e=t.expirationTime)&&wa(t,e))}.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))})}break;case 17:break;default:s("163")}}var bs="function"===typeof WeakMap?WeakMap:Map;function xs(t,e,n){(n=Ko(n)).tag=Yo,n.payload={element:null};var r=e.value;return n.callback=function(){Da(r),hs(t,e)},n}function Es(t,e,n){(n=Ko(n)).tag=Yo;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===js?js=new Set([this]):js.add(this));var n=e.value,i=e.stack;hs(t,e),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function ws(t){switch(t.tag){case 1:Pr(t.type)&&Lr();var e=t.effectTag;return 2048&e?(t.effectTag=-2049&e|64,t):null;case 3:return wi(),Mr(),0!==(64&(e=t.effectTag))&&s("285"),t.effectTag=-2049&e|64,t;case 5:return Oi(t),null;case 13:return 2048&(e=t.effectTag)?(t.effectTag=-2049&e|64,t):null;case 18:return null;case 4:return wi(),null;case 10:return zo(t),null;default:return null}}var Ts=Wt.ReactCurrentDispatcher,Os=Wt.ReactCurrentOwner,Cs=1073741822,Ss=!1,ks=null,Is=null,As=0,Ns=-1,Ds=!1,Rs=null,Ps=!1,Ls=null,Ms=null,Fs=null,js=null;function Bs(){if(null!==ks)for(var t=ks.return;null!==t;){var e=t;switch(e.tag){case 1:var n=e.type.childContextTypes;null!==n&&void 0!==n&&Lr();break;case 3:wi(),Mr();break;case 5:Oi(e);break;case 4:wi();break;case 10:zo(e)}t=t.return}Is=null,As=0,Ns=-1,Ds=!1,ks=null}function zs(){for(;null!==Rs;){var t=Rs.effectTag;if(16&t&&or(Rs.stateNode,""),128&t){var e=Rs.alternate;null!==e&&(null!==(e=e.ref)&&("function"===typeof e?e(null):e.current=null))}switch(14&t){case 2:_s(Rs),Rs.effectTag&=-3;break;case 6:_s(Rs),Rs.effectTag&=-3,ys(Rs.alternate,Rs);break;case 4:ys(Rs.alternate,Rs);break;case 8:ms(t=Rs),t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,null!==(t=t.alternate)&&(t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null)}Rs=Rs.nextEffect}}function Gs(){for(;null!==Rs;){if(256&Rs.effectTag)t:{var t=Rs.alternate,e=Rs;switch(e.tag){case 0:case 11:case 15:fs(Si,Ci,e);break t;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:ri(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}break t;case 3:case 5:case 6:case 4:case 17:break t;default:s("163")}}Rs=Rs.nextEffect}}function Us(t,e){for(;null!==Rs;){var n=Rs.effectTag;if(36&n){var r=Rs.alternate,i=Rs,o=e;switch(i.tag){case 0:case 11:case 15:fs(Ai,Ni,i);break;case 1:var a=i.stateNode;if(4&i.effectTag)if(null===r)a.componentDidMount();else{var u=i.elementType===i.type?r.memoizedProps:ri(i.type,r.memoizedProps);a.componentDidUpdate(u,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&rs(0,r,a);break;case 3:if(null!==(r=i.updateQueue)){if(a=null,null!==i.child)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}rs(0,r,a)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&_r(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:s("163")}}128&n&&(null!==(i=Rs.ref)&&(o=Rs.stateNode,"function"===typeof i?i(o):i.current=o)),512&n&&(Ls=t),Rs=Rs.nextEffect}}function Hs(){null!==Ms&&Er(Ms),null!==Fs&&Fs()}function Ws(t,e){Ps=Ss=!0,t.current===e&&s("177");var n=t.pendingCommitExpirationTime;0===n&&s("261"),t.pendingCommitExpirationTime=0;var r=e.expirationTime,i=e.childExpirationTime;for(function(t,e){if(t.didError=!1,0===e)t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0;else{e<t.latestPingedTime&&(t.latestPingedTime=0);var n=t.latestPendingTime;0!==n&&(n>e?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime>e&&(t.earliestPendingTime=t.latestPendingTime)),0===(n=t.earliestSuspendedTime)?Jr(t,e):e<t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,Jr(t,e)):e>n&&Jr(t,e)}ni(0,t)}(t,i>r?i:r),Os.current=null,r=void 0,1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e,r=e.firstEffect):r=e:r=e.firstEffect,gr=Tn,vr=function(){var t=Mn();if(Fn(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(e=(e=t.ownerDocument)&&e.defaultView||window).getSelection&&e.getSelection();if(n&&0!==n.rangeCount){e=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{e.nodeType,i.nodeType}catch(d){e=null;break t}var o=0,s=-1,a=-1,u=0,l=0,c=t,p=null;e:for(;;){for(var h;c!==e||0!==r&&3!==c.nodeType||(s=o+r),c!==i||0!==n&&3!==c.nodeType||(a=o+n),3===c.nodeType&&(o+=c.nodeValue.length),null!==(h=c.firstChild);)p=c,c=h;for(;;){if(c===t)break e;if(p===e&&++u===r&&(s=o),p===i&&++l===n&&(a=o),null!==(h=c.nextSibling))break;p=(c=p).parentNode}c=h}e=-1===s||-1===a?null:{start:s,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;return{focusedElem:t,selectionRange:e}}(),Tn=!1,Rs=r;null!==Rs;){i=!1;var a=void 0;try{Gs()}catch(l){i=!0,a=l}i&&(null===Rs&&s("178"),qs(Rs,a),null!==Rs&&(Rs=Rs.nextEffect))}for(Rs=r;null!==Rs;){i=!1,a=void 0;try{zs()}catch(l){i=!0,a=l}i&&(null===Rs&&s("178"),qs(Rs,a),null!==Rs&&(Rs=Rs.nextEffect))}for(jn(vr),vr=null,Tn=!!gr,gr=null,t.current=e,Rs=r;null!==Rs;){i=!1,a=void 0;try{Us(t,n)}catch(l){i=!0,a=l}i&&(null===Rs&&s("178"),qs(Rs,a),null!==Rs&&(Rs=Rs.nextEffect))}if(null!==r&&null!==Ls){var u=function(t,e){Fs=Ms=Ls=null;var n=ia;ia=!0;do{if(512&e.effectTag){var r=!1,i=void 0;try{var o=e;fs(Ri,Ci,o),fs(Ci,Di,o)}catch(u){r=!0,i=u}r&&qs(e,i)}e=e.nextEffect}while(null!==e);ia=n,0!==(n=t.expirationTime)&&wa(t,n),ca||ia||ka(1073741823,!1)}.bind(null,t,r);Ms=o.unstable_runWithPriority(o.unstable_NormalPriority,function(){return xr(u)}),Fs=u}Ss=Ps=!1,"function"===typeof Gr&&Gr(e.stateNode),n=e.expirationTime,0===(e=(e=e.childExpirationTime)>n?e:n)&&(js=null),function(t,e){t.expirationTime=e,t.finishedWork=null}(t,e)}function Vs(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0===(1024&t.effectTag)){ks=t;t:{var o=e,a=As,u=(e=t).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:Pr(e.type)&&Lr();break;case 3:wi(),Mr(),(u=e.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==o&&null!==o.child||(yo(e),e.effectTag&=-3),us(e);break;case 5:Oi(e);var l=xi(bi.current);if(a=e.type,null!==o&&null!=e.stateNode)ls(o,e,a,u,l),o.ref!==e.ref&&(e.effectTag|=128);else if(u){var c=xi(mi.current);if(yo(e)){o=(u=e).stateNode;var p=u.type,h=u.memoizedProps,d=l;switch(o[R]=u,o[P]=h,a=void 0,l=p){case"iframe":case"object":On("load",o);break;case"video":case"audio":for(p=0;p<et.length;p++)On(et[p],o);break;case"source":On("error",o);break;case"img":case"image":case"link":On("error",o),On("load",o);break;case"form":On("reset",o),On("submit",o);break;case"details":On("toggle",o);break;case"input":be(o,h),On("invalid",o),dr(d,"onChange");break;case"select":o._wrapperState={wasMultiple:!!h.multiple},On("invalid",o),dr(d,"onChange");break;case"textarea":Kn(o,h),On("invalid",o),dr(d,"onChange")}for(a in pr(l,h),p=null,h)h.hasOwnProperty(a)&&(c=h[a],"children"===a?"string"===typeof c?o.textContent!==c&&(p=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(p=["children",""+c]):y.hasOwnProperty(a)&&null!=c&&dr(d,a));switch(l){case"input":Ut(o),we(o,h,!0);break;case"textarea":Ut(o),Zn(o);break;case"select":case"option":break;default:"function"===typeof h.onClick&&(o.onclick=fr)}a=p,u.updateQueue=a,(u=null!==a)&&ss(e)}else{h=e,d=a,o=u,p=9===l.nodeType?l:l.ownerDocument,c===Jn.html&&(c=tr(d)),c===Jn.html?"script"===d?((o=p.createElement("div")).innerHTML="<script><\/script>",p=o.removeChild(o.firstChild)):"string"===typeof o.is?p=p.createElement(d,{is:o.is}):(p=p.createElement(d),"select"===d&&(d=p,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):p=p.createElementNS(c,d),(o=p)[R]=h,o[P]=u,as(o,e,!1,!1),d=o;var f=l,g=hr(p=a,h=u);switch(p){case"iframe":case"object":On("load",d),l=h;break;case"video":case"audio":for(l=0;l<et.length;l++)On(et[l],d);l=h;break;case"source":On("error",d),l=h;break;case"img":case"image":case"link":On("error",d),On("load",d),l=h;break;case"form":On("reset",d),On("submit",d),l=h;break;case"details":On("toggle",d),l=h;break;case"input":be(d,h),l=ye(d,h),On("invalid",d),dr(f,"onChange");break;case"option":l=Xn(d,h);break;case"select":d._wrapperState={wasMultiple:!!h.multiple},l=i({},h,{value:void 0}),On("invalid",d),dr(f,"onChange");break;case"textarea":Kn(d,h),l=$n(d,h),On("invalid",d),dr(f,"onChange");break;default:l=h}pr(p,l),c=void 0;var v=p,_=d,m=l;for(c in m)if(m.hasOwnProperty(c)){var b=m[c];"style"===c?lr(_,b):"dangerouslySetInnerHTML"===c?null!=(b=b?b.__html:void 0)&&ir(_,b):"children"===c?"string"===typeof b?("textarea"!==v||""!==b)&&or(_,b):"number"===typeof b&&or(_,""+b):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(y.hasOwnProperty(c)?null!=b&&dr(f,c):null!=b&&_e(_,c,b,g))}switch(p){case"input":Ut(d),we(d,h,!1);break;case"textarea":Ut(d),Zn(d);break;case"option":null!=h.value&&d.setAttribute("value",""+me(h.value));break;case"select":(l=d).multiple=!!h.multiple,null!=(d=h.value)?qn(l,!!h.multiple,d,!1):null!=h.defaultValue&&qn(l,!!h.multiple,h.defaultValue,!0);break;default:"function"===typeof l.onClick&&(d.onclick=fr)}(u=_r(a,u))&&ss(e),e.stateNode=o}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&s("166");break;case 6:o&&null!=e.stateNode?cs(o,e,o.memoizedProps,u):("string"!==typeof u&&(null===e.stateNode&&s("166")),o=xi(bi.current),xi(mi.current),yo(e)?(a=(u=e).stateNode,o=u.memoizedProps,a[R]=u,(u=a.nodeValue!==o)&&ss(e)):(a=e,(u=(9===o.nodeType?o:o.ownerDocument).createTextNode(u))[R]=e,a.stateNode=u));break;case 11:break;case 13:if(u=e.memoizedState,0!==(64&e.effectTag)){e.expirationTime=a,ks=e;break t}u=null!==u,a=null!==o&&null!==o.memoizedState,null!==o&&!u&&a&&(null!==(o=o.child.sibling)&&(null!==(l=e.firstEffect)?(e.firstEffect=o,o.nextEffect=l):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(u||a)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:wi(),us(e);break;case 10:zo(e);break;case 9:case 14:break;case 17:Pr(e.type)&&Lr();break;case 18:break;default:s("156")}ks=null}if(e=t,1===As||1!==e.childExpirationTime){for(u=0,a=e.child;null!==a;)(o=a.expirationTime)>u&&(u=o),(l=a.childExpirationTime)>u&&(u=l),a=a.sibling;e.childExpirationTime=u}if(null!==ks)return ks;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=ws(t)))return t.effectTag&=1023,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;t=n}return null}function Ys(t){var e=Po(t.alternate,t,As);return t.memoizedProps=t.pendingProps,null===e&&(e=Vs(t)),Os.current=null,e}function Xs(t,e){Ss&&s("243"),Hs(),Ss=!0;var n=Ts.current;Ts.current=uo;var r=t.nextExpirationTimeToWorkOn;r===As&&t===Is&&null!==ks||(Bs(),As=r,ks=Xr((Is=t).current,null),t.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(e)for(;null!==ks&&!Ca();)ks=Ys(ks);else for(;null!==ks;)ks=Ys(ks)}catch(_){if(jo=Fo=Mo=null,Qi(),null===ks)i=!0,Da(_);else{null===ks&&s("271");var o=ks,a=o.return;if(null!==a){t:{var u=t,l=a,c=o,p=_;if(a=As,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==p&&"object"===typeof p&&"function"===typeof p.then){var h=p;p=l;var d=-1,f=-1;do{if(13===p.tag){var g=p.alternate;if(null!==g&&null!==(g=g.memoizedState)){f=10*(1073741822-g.timedOutAt);break}"number"===typeof(g=p.pendingProps.maxDuration)&&(0>=g?d=0:(-1===d||g<d)&&(d=g))}p=p.return}while(null!==p);p=l;do{if((g=13===p.tag)&&(g=void 0!==p.memoizedProps.fallback&&null===p.memoizedState),g){if(null===(l=p.updateQueue)?((l=new Set).add(h),p.updateQueue=l):l.add(h),0===(1&p.mode)){p.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((a=Ko(1073741823)).tag=Vo,Zo(c,a))),c.expirationTime=1073741823;break t}l=a;var v=(c=u).pingCache;null===v?(v=c.pingCache=new bs,g=new Set,v.set(h,g)):void 0===(g=v.get(h))&&(g=new Set,v.set(h,g)),g.has(l)||(g.add(l),c=Ks.bind(null,c,h,l),h.then(c,c)),-1===d?u=1073741823:(-1===f&&(f=10*(1073741822-ei(u,a))-5e3),u=f+d),0<=u&&Ns<u&&(Ns=u),p.effectTag|=2048,p.expirationTime=a;break t}p=p.return}while(null!==p);p=Error((ae(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ue(c))}Ds=!0,p=os(p,c),u=l;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=a,Jo(u,a=xs(u,p,a));break t;case 1:if(d=p,f=u.type,c=u.stateNode,0===(64&u.effectTag)&&("function"===typeof f.getDerivedStateFromError||null!==c&&"function"===typeof c.componentDidCatch&&(null===js||!js.has(c)))){u.effectTag|=2048,u.expirationTime=a,Jo(u,a=Es(u,d,a));break t}}u=u.return}while(null!==u)}ks=Vs(o);continue}i=!0,Da(_)}}break}if(Ss=!1,Ts.current=n,jo=Fo=Mo=null,Qi(),i)Is=null,t.finishedWork=null;else if(null!==ks)t.finishedWork=null;else{if(null===(n=t.current.alternate)&&s("281"),Is=null,Ds){if(i=t.latestPendingTime,o=t.latestSuspendedTime,a=t.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==a&&a<r)return ti(t,r),void xa(t,n,r,t.expirationTime,-1);if(!t.didError&&e)return t.didError=!0,r=t.nextExpirationTimeToWorkOn=r,e=t.expirationTime=1073741823,void xa(t,n,r,e,-1)}e&&-1!==Ns?(ti(t,r),(e=10*(1073741822-ei(t,r)))<Ns&&(Ns=e),e=10*(1073741822-Ea()),e=Ns-e,xa(t,n,r,t.expirationTime,0>e?0:e)):(t.pendingCommitExpirationTime=r,t.finishedWork=n)}}function qs(t,e){for(var n=t.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===js||!js.has(r)))return Zo(n,t=Es(n,t=os(e,t),1073741823)),void Zs(n,1073741823);break;case 3:return Zo(n,t=xs(n,t=os(e,t),1073741823)),void Zs(n,1073741823)}n=n.return}3===t.tag&&(Zo(t,n=xs(t,n=os(e,t),1073741823)),Zs(t,1073741823))}function $s(t,e){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0===(1&e.mode))r=1073741823;else if(Ss&&!Ps)r=As;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-t+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-t+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:s("313")}null!==Is&&r===As&&--r}return n===o.unstable_UserBlockingPriority&&(0===aa||r<aa)&&(aa=r),r}function Ks(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),null!==Is&&As===n?Is=null:(e=t.earliestSuspendedTime,r=t.latestSuspendedTime,0!==e&&n<=e&&n>=r&&(t.didError=!1,(0===(e=t.latestPingedTime)||e>n)&&(t.latestPingedTime=n),ni(n,t),0!==(n=t.expirationTime)&&wa(t,n)))}function Qs(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Zs(t,e){null!==(t=Qs(t,e))&&(!Ss&&0!==As&&e>As&&Bs(),Jr(t,e),Ss&&!Ps&&Is===t||wa(t,t.expirationTime),_a>va&&(_a=0,s("185")))}function Js(t,e,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){return t(e,n,r,i)})}var ta=null,ea=null,na=0,ra=void 0,ia=!1,oa=null,sa=0,aa=0,ua=!1,la=null,ca=!1,pa=!1,ha=null,da=o.unstable_now(),fa=1073741822-(da/10|0),ga=fa,va=50,_a=0,ma=null;function ya(){fa=1073741822-((o.unstable_now()-da)/10|0)}function ba(t,e){if(0!==na){if(e<na)return;null!==ra&&o.unstable_cancelCallback(ra)}na=e,t=o.unstable_now()-da,ra=o.unstable_scheduleCallback(Sa,{timeout:10*(1073741822-e)-t})}function xa(t,e,n,r,i){t.expirationTime=r,0!==i||Ca()?0<i&&(t.timeoutHandle=yr(function(t,e,n){t.pendingCommitExpirationTime=n,t.finishedWork=e,ya(),ga=fa,Ia(t,n)}.bind(null,t,e,n),i)):(t.pendingCommitExpirationTime=n,t.finishedWork=e)}function Ea(){return ia?ga:(Ta(),0!==sa&&1!==sa||(ya(),ga=fa),ga)}function wa(t,e){null===t.nextScheduledRoot?(t.expirationTime=e,null===ea?(ta=ea=t,t.nextScheduledRoot=t):(ea=ea.nextScheduledRoot=t).nextScheduledRoot=ta):e>t.expirationTime&&(t.expirationTime=e),ia||(ca?pa&&(oa=t,sa=1073741823,Aa(t,1073741823,!1)):1073741823===e?ka(1073741823,!1):ba(t,e))}function Ta(){var t=0,e=null;if(null!==ea)for(var n=ea,r=ta;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===ea)&&s("244"),r===r.nextScheduledRoot){ta=ea=r.nextScheduledRoot=null;break}if(r===ta)ta=i=r.nextScheduledRoot,ea.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===ea){(ea=n).nextScheduledRoot=ta,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>t&&(t=i,e=r),r===ea)break;if(1073741823===t)break;n=r,r=r.nextScheduledRoot}}oa=e,sa=t}var Oa=!1;function Ca(){return!!Oa||!!o.unstable_shouldYield()&&(Oa=!0)}function Sa(){try{if(!Ca()&&null!==ta){ya();var t=ta;do{var e=t.expirationTime;0!==e&&fa<=e&&(t.nextExpirationTimeToWorkOn=fa),t=t.nextScheduledRoot}while(t!==ta)}ka(0,!0)}finally{Oa=!1}}function ka(t,e){if(Ta(),e)for(ya(),ga=fa;null!==oa&&0!==sa&&t<=sa&&!(Oa&&fa>sa);)Aa(oa,sa,fa>sa),Ta(),ya(),ga=fa;else for(;null!==oa&&0!==sa&&t<=sa;)Aa(oa,sa,!1),Ta();if(e&&(na=0,ra=null),0!==sa&&ba(oa,sa),_a=0,ma=null,null!==ha)for(t=ha,ha=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(r){ua||(ua=!0,la=r)}}if(ua)throw t=la,la=null,ua=!1,t}function Ia(t,e){ia&&s("253"),oa=t,sa=e,Aa(t,e,!1),ka(1073741823,!1)}function Aa(t,e,n){if(ia&&s("245"),ia=!0,n){var r=t.finishedWork;null!==r?Na(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,br(r)),Xs(t,n),null!==(r=t.finishedWork)&&(Ca()?t.finishedWork=r:Na(t,r,e)))}else null!==(r=t.finishedWork)?Na(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,br(r)),Xs(t,n),null!==(r=t.finishedWork)&&Na(t,r,e));ia=!1}function Na(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ha?ha=[r]:ha.push(r),r._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===ma?_a++:(ma=t,_a=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){Ws(t,e)})}function Da(t){null===oa&&s("246"),oa.expirationTime=0,ua||(ua=!0,la=t)}function Ra(t,e){var n=ca;ca=!0;try{return t(e)}finally{(ca=n)||ia||ka(1073741823,!1)}}function Pa(t,e){if(ca&&!pa){pa=!0;try{return t(e)}finally{pa=!1}}return t(e)}function La(t,e,n){ca||ia||0===aa||(ka(aa,!1),aa=0);var r=ca;ca=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,function(){return t(e,n)})}finally{(ca=r)||ia||ka(1073741823,!1)}}function Ma(t,e,n,r,i){var o=e.current;t:if(n){e:{2===en(n=n._reactInternalFiber)&&1===n.tag||s("170");var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Pr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(null!==a);s("171"),a=void 0}if(1===n.tag){var u=n.type;if(Pr(u)){n=jr(n,u,a);break t}}n=a}else n=Ir;return null===e.context?e.context=n:e.pendingContext=n,e=i,(i=Ko(r)).payload={element:t},null!==(e=void 0===e?null:e)&&(i.callback=e),Hs(),Zo(o,i),Zs(o,r),r}function Fa(t,e,n,r){var i=e.current;return Ma(t,e,n,i=$s(Ea(),i),r)}function ja(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Ba(t){var e=1073741822-25*(1+((1073741822-Ea()+500)/25|0));e>=Cs&&(e=Cs-1),this._expirationTime=Cs=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function za(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ga(t,e,n){t={current:e=Vr(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Ua(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ha(t,e,n,r,i){var o=n._reactRootContainer;if(o){if("function"===typeof i){var s=i;i=function(){var t=ja(o._internalRoot);s.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Ga(t,!1,e)}(n,r),"function"===typeof i){var a=i;i=function(){var t=ja(o._internalRoot);a.call(t)}}Pa(function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)})}return ja(o._internalRoot)}function Wa(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Ua(e)||s("200"),function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:qt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Ct=function(t,e,n){switch(e){case"input":if(Ee(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=j(r);i||s("90"),Ht(r),Ee(r,i)}}}break;case"textarea":Qn(t,n);break;case"select":null!=(e=n.value)&&qn(t,!!n.multiple,e,!1)}},Ba.prototype.render=function(t){this._defer||s("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new za;return Ma(t,e,null,n,r._onCommit),r},Ba.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Ba.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||s("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,i=e;i!==this;)r=i,i=i._next;null===r&&s("251"),r._next=i._next,this._next=e,t.firstBatch=this}this._defer=!1,Ia(t,n),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Ba.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},za.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},za.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&s("191",n),n()}}},Ga.prototype.render=function(t,e){var n=this._internalRoot,r=new za;return null!==(e=void 0===e?null:e)&&r.then(e),Fa(t,n,null,r._onCommit),r},Ga.prototype.unmount=function(t){var e=this._internalRoot,n=new za;return null!==(t=void 0===t?null:t)&&n.then(t),Fa(null,e,null,n._onCommit),n},Ga.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,i=new za;return null!==(n=void 0===n?null:n)&&i.then(n),Fa(e,r,t,i._onCommit),i},Ga.prototype.createBatch=function(){var t=new Ba(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime>=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},Dt=Ra,Rt=La,Pt=function(){ia||0===aa||(ka(aa,!1),aa=0)};var Va={createPortal:Wa,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?s("188"):s("268",Object.keys(t))),t=null===(t=rn(e))?null:t.stateNode},hydrate:function(t,e,n){return Ua(e)||s("200"),Ha(null,t,e,!0,n)},render:function(t,e,n){return Ua(e)||s("200"),Ha(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return Ua(n)||s("200"),(null==t||void 0===t._reactInternalFiber)&&s("38"),Ha(t,e,n,!1,r)},unmountComponentAtNode:function(t){return Ua(t)||s("40"),!!t._reactRootContainer&&(Pa(function(){Ha(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Wa.apply(void 0,arguments)},unstable_batchedUpdates:Ra,unstable_interactiveUpdates:La,flushSync:function(t,e){ia&&s("187");var n=ca;ca=!0;try{return Js(t,e)}finally{ca=n,ka(1073741823,!1)}},unstable_createRoot:function(t,e){return Ua(t)||s("299","unstable_createRoot"),new Ga(t,!0,null!=e&&!0===e.hydrate)},unstable_flushControlled:function(t){var e=ca;ca=!0;try{Js(t)}finally{(ca=e)||ia||ka(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[M,F,j,I.injectEventPluginsByName,m,W,function(t){C(t,H)},At,Nt,kn,N]}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Gr=Hr(function(t){return e.onCommitFiberRoot(n,t)}),Ur=Hr(function(t){return e.onCommitFiberUnmount(n,t)})}catch(r){}})(i({},t,{overrideProps:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=rn(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:L,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Ya={default:Va},Xa=Ya&&Va||Ya;t.exports=Xa.default||Xa},function(t,e,n){"use strict";t.exports=n(71)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=null,r=!1,i=3,o=-1,s=-1,a=!1,u=!1;function l(){if(!a){var t=n.expirationTime;u?w():u=!0,E(h,t)}}function c(){var t=n,e=n.next;if(n===e)n=null;else{var r=n.previous;n=r.next=e,e.previous=r}t.next=t.previous=null,r=t.callback,e=t.expirationTime,t=t.priorityLevel;var o=i,a=s;i=t,s=e;try{var u=r()}finally{i=o,s=a}if("function"===typeof u)if(u={callback:u,priorityLevel:t,expirationTime:e,next:null,previous:null},null===n)n=u.next=u.previous=u;else{r=null,t=n;do{if(t.expirationTime>=e){r=t;break}t=t.next}while(t!==n);null===r?r=n:r===n&&(n=u,l()),(e=r.previous).next=r.previous=u,u.next=r,u.previous=e}}function p(){if(-1===o&&null!==n&&1===n.priorityLevel){a=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{a=!1,null!==n?l():u=!1}}}function h(t){a=!0;var i=r;r=t;try{if(t)for(;null!==n;){var o=e.unstable_now();if(!(n.expirationTime<=o))break;do{c()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{c()}while(null!==n&&!T())}finally{a=!1,r=i,null!==n?l():u=!1,p()}}var d,f,g=Date,v="function"===typeof setTimeout?setTimeout:void 0,_="function"===typeof clearTimeout?clearTimeout:void 0,m="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,y="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function b(t){d=m(function(e){_(f),t(e)}),f=v(function(){y(d),t(e.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var x=performance;e.unstable_now=function(){return x.now()}}else e.unstable_now=function(){return g.now()};var E,w,T,O=null;if("undefined"!==typeof window?O=window:"undefined"!==typeof t&&(O=t),O&&O._schedMock){var C=O._schedMock;E=C[0],w=C[1],T=C[2],e.unstable_now=C[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var S=null,k=function(t){if(null!==S)try{S(t)}finally{S=null}};E=function(t){null!==S?setTimeout(E,0,t):(S=t,setTimeout(k,0,!1))},w=function(){S=null},T=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof m&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var I=null,A=!1,N=-1,D=!1,R=!1,P=0,L=33,M=33;T=function(){return P<=e.unstable_now()};var F=new MessageChannel,j=F.port2;F.port1.onmessage=function(){A=!1;var t=I,n=N;I=null,N=-1;var r=e.unstable_now(),i=!1;if(0>=P-r){if(!(-1!==n&&n<=r))return D||(D=!0,b(B)),I=t,void(N=n);i=!0}if(null!==t){R=!0;try{t(i)}finally{R=!1}}};var B=function t(e){if(null!==I){b(t);var n=e-P+M;n<M&&L<M?(8>n&&(n=8),M=n<L?L:n):L=n,P=e+M,A||(A=!0,j.postMessage(void 0))}else D=!1};E=function(t,e){I=t,N=e,R||0>e?j.postMessage(void 0):D||(D=!0,b(B))},w=function(){I=null,A=!1,N=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=i,s=o;i=t,o=e.unstable_now();try{return n()}finally{i=r,o=s,p()}},e.unstable_next=function(t){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,s=o;i=n,o=e.unstable_now();try{return t()}finally{i=r,o=s,p()}},e.unstable_scheduleCallback=function(t,r){var s=-1!==o?o:e.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=s+r.timeout;else switch(i){case 1:r=s+-1;break;case 2:r=s+250;break;case 5:r=s+1073741823;break;case 4:r=s+1e4;break;default:r=s+5e3}if(t={callback:t,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=t.next=t.previous=t,l();else{s=null;var a=n;do{if(a.expirationTime>r){s=a;break}a=a.next}while(a!==n);null===s?s=n:s===n&&(n=t,l()),(r=s.previous).next=s.previous=t,t.next=s,t.previous=r}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)n=null;else{t===n&&(n=e);var r=t.previous;r.next=e,e.previous=r}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var n=i;return function(){var r=i,s=o;i=n,o=e.unstable_now();try{return t.apply(this,arguments)}finally{i=r,o=s,p()}}},e.unstable_getCurrentPriorityLevel=function(){return i},e.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<s||T())},e.unstable_continueExecution=function(){null!==n&&l()},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(18))},function(t,e,n){},,,function(t,e,n){},function(t,e,n){},,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,e,n){"use strict";var r=n(81);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},s=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){c(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;r=function(e){var n=a.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var s={callback:t,args:e};return o[i]=s,r(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function c(t){if(s)setTimeout(c,0,t);else{var e=o[t];if(e){s=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{l(t),s=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(18),n(29))},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),s=r[0],a=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),c=0,p=a>0?s-4:s;for(n=0;n<p;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[c++]=255&e);1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(c(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,p=n?i-1:0,h=n?-1:1,d=t[e+p];for(p+=h,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+t[e+p],p+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+p],p+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=l}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,p=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+p>=1?h/u:h*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(e*u-1)*Math.pow(2,i),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=f,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+d]=255&s,d+=f,s/=256,l-=8);t[n+d-f]|=128*g}},,function(t,e,n){"use strict";var r=n(32).Buffer,i=n(87);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=o,i=a,e.copy(n,i),a+=s.data.length,s=s.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},,function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(18))},function(t,e,n){"use strict";t.exports=o;var r=n(54),i=Object.create(n(30));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(25),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(40)},function(t,e,n){t.exports=n(24)},function(t,e,n){t.exports=n(39).Transform},function(t,e,n){t.exports=n(39).PassThrough},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}e.default=t}(n(1));var r=a(n(95)),i=a(n(98)),o=a(n(0)),s=a(n(55));n(57);function a(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var l=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return(0,r.default)(t,e)})},c=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return(0,i.default)(t,e)})},p=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).onEnter=function(t,n){var r=e.getClassNames(n?"appear":"enter").className;e.removeClasses(t,"exit"),l(t,r),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.getClassNames(n?"appear":"enter").activeClassName;e.reflowAndAddClass(t,r),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.getClassNames("appear").doneClassName,i=e.getClassNames("enter").doneClassName,o=n?r+" "+i:i;e.removeClasses(t,n?"appear":"enter"),l(t,o),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.getClassNames("exit").className;e.removeClasses(t,"appear"),e.removeClasses(t,"enter"),l(t,n),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.getClassNames("exit").activeClassName;e.reflowAndAddClass(t,n),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.getClassNames("exit").doneClassName;e.removeClasses(t,"exit"),l(t,n),e.props.onExited&&e.props.onExited(t)},e.getClassNames=function(t){var n=e.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+t:n[t];return{className:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.removeClasses=function(t,e){var n=this.getClassNames(e),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&c(t,r),i&&c(t,i),o&&c(t,o)},i.reflowAndAddClass=function(t,e){e&&(t&&t.scrollTop,l(t,e))},i.render=function(){var t=u({},this.props);return delete t.classNames,o.default.createElement(s.default,u({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);p.defaultProps={classNames:""},p.propTypes={};var h=p;e.default=h,t.exports=e.default},function(t,e,n){"use strict";var r=n(96);e.__esModule=!0,e.default=function(t,e){t.classList?t.classList.add(e):(0,i.default)(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var i=r(n(97));t.exports=e.default},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;s(n(1));var r=s(n(0)),i=n(17),o=s(n(58));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var e,n;function s(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).handleEnter=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEnter",0,n)},e.handleEntering=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntering",0,n)},e.handleEntered=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntered",0,n)},e.handleExit=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExit",1,n)},e.handleExiting=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExiting",1,n)},e.handleExited=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExited",1,n)},e}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=s.prototype;return a.handleLifecycle=function(t,e,n){var o,s=this.props.children,a=r.default.Children.toArray(s)[e];a.props[t]&&(o=a.props)[t].apply(o,n),this.props[t]&&this.props[t]((0,i.findDOMNode)(this))},a.render=function(){var t=this.props,e=t.children,n=t.in,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["children","in"]),s=r.default.Children.toArray(e),a=s[0],u=s[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},s}(r.default.Component);a.propTypes={};var u=a;e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=i,e.mergeChildMappings=o,e.getInitialChildMapping=function(t,e){return i(t.children,function(n){return(0,r.cloneElement)(n,{onExited:e.bind(null,n),in:!0,appear:s(n,"appear",t),enter:s(n,"enter",t),exit:s(n,"exit",t)})})},e.getNextChildMapping=function(t,e,n){var a=i(t.children),u=o(e,a);return Object.keys(u).forEach(function(i){var o=u[i];if((0,r.isValidElement)(o)){var l=i in e,c=i in a,p=e[i],h=(0,r.isValidElement)(p)&&!p.props.in;!c||l&&!h?c||!l||h?c&&l&&(0,r.isValidElement)(p)&&(u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:p.props.in,exit:s(o,"exit",t),enter:s(o,"enter",t)})):u[i]=(0,r.cloneElement)(o,{in:!1}):u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:s(o,"exit",t),enter:s(o,"enter",t)})}}),u};var r=n(0);function i(t,e){var n=Object.create(null);return t&&r.Children.map(t,function(t){return t}).forEach(function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)}),n}function o(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var s in t)s in e?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var l=i[u][r];a[i[u][r]]=n(l)}a[u]=n(u)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}function s(t,e,n){return null!=n[e]?n[e]:t.props[e]}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),i=(s(r),s(n(1))),o=s(n(59));s(n(102));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=1073741823;e.default=function(t,e){var n,s,p="__create-react-context-"+(0,o.default)()+"__",h=function(t){function n(){var e,r;a(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.emitter=function(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter(function(e){return e!==t})},get:function(){return t},set:function(n,r){t=n,e.forEach(function(e){return e(t,r)})}}}(r.props.value),u(r,e)}return l(n,t),n.prototype.getChildContext=function(){var t;return(t={})[p]=this.emitter,t},n.prototype.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n=this.props.value,r=t.value,i=void 0;((o=n)===(s=r)?0!==o||1/o===1/s:o!==o&&s!==s)?i=0:(i="function"===typeof e?e(n,r):c,0!==(i|=0)&&this.emitter.set(t.value,i))}var o,s},n.prototype.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[p]=i.default.object.isRequired,n);var d=function(e){function n(){var t,r;a(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=r=u(this,e.call.apply(e,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(t,e){0!==((0|r.observedBits)&e)&&r.setState({value:r.getValue()})},u(r,t)}return l(n,e),n.prototype.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?c:e},n.prototype.componentDidMount=function(){this.context[p]&&this.context[p].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?c:t},n.prototype.componentWillUnmount=function(){this.context[p]&&this.context[p].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[p]?this.context[p].get():t},n.prototype.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return d.contextTypes=((s={})[p]=i.default.object,s),{Provider:h,Consumer:d}},t.exports=e.default},function(t,e,n){"use strict";var r=function(){};t.exports=r},,,function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),i=(s(r),s(n(1))),o=s(n(59));s(n(106));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=1073741823;e.default=function(t,e){var n,s,p="__create-react-context-"+(0,o.default)()+"__",h=function(t){function n(){var e,r;a(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.emitter=function(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter(function(e){return e!==t})},get:function(){return t},set:function(n,r){t=n,e.forEach(function(e){return e(t,r)})}}}(r.props.value),u(r,e)}return l(n,t),n.prototype.getChildContext=function(){var t;return(t={})[p]=this.emitter,t},n.prototype.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n=this.props.value,r=t.value,i=void 0;((o=n)===(s=r)?0!==o||1/o===1/s:o!==o&&s!==s)?i=0:(i="function"===typeof e?e(n,r):c,0!==(i|=0)&&this.emitter.set(t.value,i))}var o,s},n.prototype.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[p]=i.default.object.isRequired,n);var d=function(e){function n(){var t,r;a(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=r=u(this,e.call.apply(e,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(t,e){0!==((0|r.observedBits)&e)&&r.setState({value:r.getValue()})},u(r,t)}return l(n,e),n.prototype.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?c:e},n.prototype.componentDidMount=function(){this.context[p]&&this.context[p].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?c:t},n.prototype.componentWillUnmount=function(){this.context[p]&&this.context[p].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[p]?this.context[p].get():t},n.prototype.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(r.Component);return d.contextTypes=((s={})[p]=i.default.object,s),{Provider:h,Consumer:d}},t.exports=e.default},function(t,e,n){"use strict";var r=n(107);t.exports=r},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,_=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function E(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case p:case h:case s:case u:case a:case f:return t;default:switch(t=t&&t.$$typeof){case c:case d:case _:case v:case l:return t;default:return e}}case o:return e}}}function w(t){return E(t)===h}e.AsyncMode=p,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=d,e.Fragment=s,e.Lazy=_,e.Memo=v,e.Portal=o,e.Profiler=u,e.StrictMode=a,e.Suspense=f,e.isAsyncMode=function(t){return w(t)||E(t)===p},e.isConcurrentMode=w,e.isContextConsumer=function(t){return E(t)===c},e.isContextProvider=function(t){return E(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return E(t)===d},e.isFragment=function(t){return E(t)===s},e.isLazy=function(t){return E(t)===_},e.isMemo=function(t){return E(t)===v},e.isPortal=function(t){return E(t)===o},e.isProfiler=function(t){return E(t)===u},e.isStrictMode=function(t){return E(t)===a},e.isSuspense=function(t){return E(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===h||t===u||t===a||t===f||t===g||"object"===typeof t&&null!==t&&(t.$$typeof===_||t.$$typeof===v||t.$$typeof===l||t.$$typeof===c||t.$$typeof===d||t.$$typeof===y||t.$$typeof===b||t.$$typeof===x||t.$$typeof===m)},e.typeOf=E},,function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"isNamedNode",function(){return $}),n.d(r,"isBlankNode",function(){return K}),n.d(r,"isLiteral",function(){return Q}),n.d(r,"isVariable",function(){return Z}),n.d(r,"isDefaultGraph",function(){return J}),n.d(r,"inDefaultGraph",function(){return tt}),n.d(r,"prefix",function(){return et}),n.d(r,"prefixes",function(){return nt});var i,o,s=n(3),a=n(9),u=n(10),l=n(11),c=n(5),p=n(7),h=n(14),d=h.a.rdf,f=h.a.xsd,g=0,v=function(){function t(e){Object(c.a)(this,t),this.id=e}return Object(p.a)(t,[{key:"equals",value:function(e){return e instanceof t?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value}}},{key:"value",get:function(){return this.id}}]),t}(),_=function(t){function e(){return Object(c.a)(this,e),Object(a.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"termType",get:function(){return"NamedNode"}}]),e}(v),m=function(t){function e(){return Object(c.a)(this,e),Object(a.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"equals",value:function(t){return t instanceof e?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},{key:"termType",get:function(){return"Literal"}},{key:"value",get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}},{key:"language",get:function(){var t=this.id,e=t.lastIndexOf('"')+1;return e<t.length&&"@"===t[e++]?t.substr(e).toLowerCase():""}},{key:"datatype",get:function(){return new _(this.datatypeString)}},{key:"datatypeString",get:function(){var t,e=this.id,n=e.lastIndexOf('"')+1;return n<e.length&&"^"===(t=e[n])?e.substr(n+2):"@"!==t?f.string:d.langString}}]),e}(v),y=function(t){function e(t){return Object(c.a)(this,e),Object(a.a)(this,Object(u.a)(e).call(this,"_:"+t))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"termType",get:function(){return"BlankNode"}},{key:"value",get:function(){return this.id.substr(2)}}]),e}(v),b=function(t){function e(t){return Object(c.a)(this,e),Object(a.a)(this,Object(u.a)(e).call(this,"?"+t))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"termType",get:function(){return"Variable"}},{key:"value",get:function(){return this.id.substr(1)}}]),e}(v),x=function(t){function e(){var t;return Object(c.a)(this,e),t=Object(a.a)(this,Object(u.a)(e).call(this,"")),Object(a.a)(t,o||Object(s.a)(t))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"equals",value:function(t){return this===t||!!t&&this.termType===t.termType}},{key:"termType",get:function(){return"DefaultGraph"}}]),e}(v);o=new x;var E=function(){function t(e,n,r,i){Object(c.a)(this,t),this.subject=e,this.predicate=n,this.object=r,this.graph=i||o}return Object(p.a)(t,[{key:"toJSON",value:function(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}}},{key:"equals",value:function(t){return!!t&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}]),t}(),w=i={namedNode:function(t){return new _(t)},blankNode:function(t){t||(t="n3-"+g++);return new y(t)},variable:function(t){return new b(t)},literal:function(t,e){if("string"===typeof e)return new m('"'+t+'"@'+e.toLowerCase());var n=e?e.value:"";""===n&&("boolean"===typeof t?n=f.boolean:"number"===typeof t&&(Number.isFinite(t)?n=Number.isInteger(t)?f.integer:f.double:(n=f.double,Number.isNaN(t)||(t=t>0?"INF":"-INF"))));return""===n||n===f.string?new m('"'+t+'"'):new m('"'+t+'"^^'+n)},defaultGraph:function(){return o},quad:T,triple:T,internal:{Term:v,NamedNode:_,BlankNode:y,Variable:b,Literal:m,DefaultGraph:x,Quad:E,Triple:E,fromId:function(t,e){if(e=e||i,!t)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.substr(2));case"?":return e.variable(t.substr(1));case'"':if(e===i)return new m(t);if('"'===t[t.length-1])return e.literal(t.substr(1,t.length-2));var n=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,n-1),"@"===t[n+1]?t.substr(n+2):e.namedNode(t.substr(n+3)));default:return e.namedNode(t)}},toId:function(t){if("string"===typeof t)return t;if(t instanceof v)return t.id;if(!t)return o.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return"_:"+t.value;case"Variable":return"?"+t.value;case"DefaultGraph":return"";case"Literal":return'"'+t.value+'"'+(t.language?"@"+t.language:t.datatype&&t.datatype.value!==f.string?"^^"+t.datatype.value:"");default:throw new Error("Unexpected termType: "+t.termType)}}}};function T(t,e,n,r){return new E(t,e,n,r)}var O=n(33),C=0,S=0,k=function(){function t(e){Object(c.a)(this,t),this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&A(this,e.factory);var n="string"===typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r="turtle"===n,i="trig"===n,o=/triple/.test(n),s=/quad/.test(n),a=this._n3Mode=/n3/.test(n),u=o||s;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||o||a),u&&(this._resolveRelativeIRI=function(t){return null}),this._blankNodePrefix="string"!==typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new O.a({lineMode:u,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}return Object(p.a)(t,[{key:"_blank",value:function(){return this._blankNode("b"+S++)}},{key:"_setBase",value:function(t){if(t){var e=t.indexOf("#");e>=0&&(t=t.substr(0,e)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}else this._base="",this._basePath=""}},{key:"_saveContext",value:function(t,e,n,r,i){var o=this._n3Mode;this._contextStack.push({subject:n,predicate:r,object:i,graph:e,type:t,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}},{key:"_restoreContext",value:function(){var t=this._contextStack.pop(),e=this._n3Mode;this._subject=t.subject,this._predicate=t.predicate,this._object=t.object,this._graph=t.graph,e&&(this._inversePredicate=t.inverse,this._prefixes._=t.blankPrefix,this._quantified=t.quantified)}},{key:"_readInTopContext",value:function(t){switch(t.type){case"eof":return null!==this._graph?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}},{key:"_readEntity",value:function(t,e){var n;switch(t.type){case"IRI":case"typeIRI":var r=this._resolveIRI(t.value);if(null===r)return this._error("Invalid IRI",t);n=this._namedNode(r);break;case"type":case"prefixed":var i=this._prefixes[t.prefix];if(void 0===i)return this._error('Undefined prefix "'+t.prefix+':"',t);n=this._namedNode(i+t.value);break;case"blank":n=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._variable(t.value.substr(1));break;default:return this._error("Expected entity but got "+t.type,t)}return!e&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}},{key:"_readSubject",value:function(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blank(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blank(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);default:if(void 0===(this._subject=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}},{key:"_readPredicate",value:function(t){var e=t.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+e,t):(this._subject=null,"]"===e?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",t);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if(void 0===(this._predicate=this._readEntity(t)))return}return this._readObject}},{key:"_readObject",value:function(t){switch(t.type){case"literal":if(0===t.prefix.length)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blank()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blank()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(this._object=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}},{key:"_readPredicateOrNamedGraph",value:function(t){return"{"===t.type?this._readGraph(t):this._readPredicate(t)}},{key:"_readGraph",value:function(t){return"{"!==t.type?this._error("Expected graph but got "+t.type,t):(this._graph=this._subject,this._subject=null,this._readSubject)}},{key:"_readBlankNodeHead",value:function(t){return"]"===t.type?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}},{key:"_readBlankNodeTail",value:function(t){if("]"!==t.type)return this._readBlankNodePunctuation(t);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var e=null===this._predicate;return this._restoreContext(),null===this._object?e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}},{key:"_readPredicateAfterBlank",value:function(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}},{key:"_readListItem",value:function(t){var e=null,n=null,r=this._subject,i=this._contextStack,o=i[i.length-1],s=this._readListItem;switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._blank(),this.RDF_FIRST,this._subject=e=this._blank()),s=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blank(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(s=this._readPredicate,this._subject===this.RDF_NIL)return s}else if(s=this._getContextEndReader(),this._object===this.RDF_NIL)return s;n=this.RDF_NIL;break;case"literal":0===t.prefix.length?(this._literalValue=t.value,s=this._readListItemDataTypeOrLang):(e=this._literal(t.value,this._namedNode(t.prefix)),s=this._getContextEndReader());break;default:if(void 0===(e=this._readEntity(t)))return}if(null===n&&(this._subject=n=this._blank()),null===r?null===o.predicate?o.subject=n:o.object=n:this._emit(r,this.RDF_REST,n,this._graph),null!==e){if(this._n3Mode&&("IRI"===t.type||"prefixed"===t.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,e,this._graph)}return s}},{key:"_readDataTypeOrLang",value:function(t){return this._completeLiteral(t,!1)}},{key:"_readListItemDataTypeOrLang",value:function(t){return this._completeLiteral(t,!0)}},{key:"_completeLiteral",value:function(t,e){switch(t.type){case"type":case"typeIRI":var n=this._readEntity(t);if(void 0===n)return;this._object=this._literal(this._literalValue,n),t=null;break;case"langcode":this._object=this._literal(this._literalValue,t.value),t=null;break;default:this._object=this._literal(this._literalValue)}return e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===t?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(t))}},{key:"_readFormulaTail",value:function(t){return"}"!==t.type?this._readPunctuation(t):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}},{key:"_readPunctuation",value:function(t){var e,n=this._subject,r=this._graph,i=this._inversePredicate;switch(t.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(t))){e=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',t)}if(null!==n){var o=this._predicate,s=this._object;i?this._emit(s,o,n,r):this._emit(n,o,s,r)}return e}},{key:"_readBlankNodePunctuation",value:function(t){var e;switch(t.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',t)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}},{key:"_readQuadPunctuation",value:function(t){return"."!==t.type?this._error("Expected dot to follow quad",t):this._readInTopContext}},{key:"_readPrefix",value:function(t){return"prefix"!==t.type?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}},{key:"_readPrefixIRI",value:function(t){if("IRI"!==t.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',t);var e=this._readEntity(t);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}},{key:"_readBaseIRI",value:function(t){var e="IRI"===t.type&&this._resolveIRI(t.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}},{key:"_readNamedGraphLabel",value:function(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}},{key:"_readNamedGraphBlankLabel",value:function(t){return"]"!==t.type?this._error("Invalid graph label",t):(this._subject=this._blank(),this._readGraph)}},{key:"_readDeclarationPunctuation",value:function(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):"."!==t.type?this._error("Expected declaration to end with a dot",t):this._readInTopContext}},{key:"_readQuantifierList",value:function(t){var e;switch(t.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(t,!0)))break;default:return this._error("Unexpected "+t.type,t)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blank(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blank(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._quantifier("b"+S++),this._readQuantifierPunctuation}},{key:"_readQuantifierPunctuation",value:function(t){return","===t.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}},{key:"_getPathReader",value:function(t){return this._afterPath=t,this._readPath}},{key:"_readPath",value:function(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var e=this._contextStack,n=e.length&&e[e.length-1];if(n&&"item"===n.type){var r=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(t)}}},{key:"_readForwardPath",value:function(t){var e,n,r=this._blank();if(void 0!==(n=this._readEntity(t)))return null===this._predicate?(e=this._subject,this._subject=r):(e=this._object,this._object=r),this._emit(e,n,r,this._graph),this._readPath}},{key:"_readBackwardPath",value:function(t){var e,n,r=this._blank();if(void 0!==(e=this._readEntity(t)))return null===this._predicate?(n=this._subject,this._subject=r):(n=this._object,this._object=r),this._emit(r,e,n,this._graph),this._readPath}},{key:"_getContextEndReader",value:function(){var t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}}},{key:"_emit",value:function(t,e,n,r){this._callback(null,this._quad(t,e,n,r||this.DEFAULTGRAPH))}},{key:"_error",value:function(t,e){var n=new Error(t+" on line "+e.line+".");n.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=I}},{key:"_resolveIRI",value:function(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}},{key:"_resolveRelativeIRI",value:function(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}},{key:"_removeDotSegments",value:function(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;for(var e="",n=t.length,r=-1,i=-1,o=0,s="/";r<n;){switch(s){case":":if(i<0&&"/"===t[++r]&&"/"===t[++r])for(;(i=r+1)<n&&"/"!==t[i];)r=i;break;case"?":case"#":r=n;break;case"/":if("."===t[r+1])switch(s=t[++r+1]){case"/":e+=t.substring(o,r-1),o=r+1;break;case void 0:case"?":case"#":return e+t.substring(o,r)+t.substr(r+1);case".":if(void 0===(s=t[++r+1])||"/"===s||"?"===s||"#"===s){if((o=(e+=t.substring(o,r-2)).lastIndexOf("/"))>=i&&(e=e.substr(0,o)),"/"!==s)return e+"/"+t.substr(r+1);o=r+1}}}s=t[++r]}return e+t.substring(o)}},{key:"parse",value:function(t,e,n){var r=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+C+++"_",this._prefixCallback=n||I,this._inversePredicate=!1,this._quantified=Object.create(null),!e){var i,o=[];if(this._callback=function(t,e){t?i=t:e&&o.push(e)},this._lexer.tokenize(t).every(function(t){return r._readCallback=r._readCallback(t)}),i)throw i;return o}this._callback=e,this._lexer.tokenize(t,function(t,e){null!==t?(r._callback(t),r._callback=I):r._readCallback&&(r._readCallback=r._readCallback(e))})}}],[{key:"_resetBlankNodeIds",value:function(){C=S=0}}]),t}();function I(){}function A(t,e){var n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(h.a.rdf.first),t.RDF_REST=n(h.a.rdf.rest),t.RDF_NIL=n(h.a.rdf.nil),t.N3_FORALL=n(h.a.r.forAll),t.N3_FORSOME=n(h.a.r.forSome),t.ABBREVIATIONS={a:n(h.a.rdf.type),"=":n(h.a.owl.sameAs),">":n(h.a.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}A(k.prototype,w);var N=w.defaultGraph(),D=h.a.rdf,R=h.a.xsd,P=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,L=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,M={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},F=function(t){function e(){return Object(c.a)(this,e),Object(a.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"equals",value:function(){return!1}}]),e}(w.internal.Term),j=function(){function t(e,n){if(Object(c.a)(this,t),this._prefixRegex=/$0^/,e&&"function"!==typeof e.write&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=void 0===n.end||!!n.end;else{var r="";this._outputStream={write:function(t,e,n){r+=t,n&&n()},end:function(t){t&&t(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?this._writeQuad=this._writeQuadLine:(this._graph=N,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes))}return Object(p.a)(t,[{key:"_write",value:function(t,e){this._outputStream.write(t,"utf8",e)}},{key:"_writeQuad",value:function(t,e,n,r,i){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(N.equals(r)?"":this._encodeIriOrBlank(r)+" {\n")),this._graph=r,this._subject=null),t.equals(this._subject)?e.equals(this._predicate)?this._write(", "+this._encodeObject(n),i):this._write(";\n    "+this._encodePredicate(this._predicate=e)+" "+this._encodeObject(n),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=t)+" "+this._encodePredicate(this._predicate=e)+" "+this._encodeObject(n),i)}catch(o){i&&i(o)}}},{key:"_writeQuadLine",value:function(t,e,n,r,i){delete this._prefixMatch,this._write(this.quadToString(t,e,n,r),i)}},{key:"quadToString",value:function(t,e,n,r){return this._encodeIriOrBlank(t)+" "+this._encodeIriOrBlank(e)+" "+this._encodeObject(n)+(r&&r.value?" "+this._encodeIriOrBlank(r)+" .\n":" .\n")}},{key:"quadsToString",value:function(t){return t.map(function(t){return this.quadToString(t.subject,t.predicate,t.object,t.graph)},this).join("")}},{key:"_encodeIriOrBlank",value:function(t){if("NamedNode"!==t.termType)return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:"_:"+t.value;var e=t.value;P.test(e)&&(e=e.replace(L,B));var n=this._prefixRegex.exec(e);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:e:"<"+e+">"}},{key:"_encodeLiteral",value:function(t){var e=t.value;return P.test(e)&&(e=e.replace(L,B)),t.language?'"'+e+'"@'+t.language:t.datatype.value!==R.string?'"'+e+'"^^'+this._encodeIriOrBlank(t.datatype):'"'+e+'"'}},{key:"_encodePredicate",value:function(t){return t.value===D.type?"a":this._encodeIriOrBlank(t)}},{key:"_encodeObject",value:function(t){return"Literal"===t.termType?this._encodeLiteral(t):this._encodeIriOrBlank(t)}},{key:"_blockedWrite",value:function(){throw new Error("Cannot write because the writer has been closed.")}},{key:"addQuad",value:function(t,e,n,r,i){void 0===n?this._writeQuad(t.subject,t.predicate,t.object,t.graph,e):"function"===typeof r?this._writeQuad(t,e,n,N,r):this._writeQuad(t,e,n,r||N,i)}},{key:"addQuads",value:function(t){for(var e=0;e<t.length;e++)this.addQuad(t[e])}},{key:"addPrefix",value:function(t,e,n){var r={};r[t]=e,this.addPrefixes(r,n)}},{key:"addPrefixes",value:function(t,e){var n=this._prefixIRIs,r=!1;for(var i in t){var o=t[i];"string"!==typeof o&&(o=o.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),n[o]=i+=":",this._write("@prefix "+i+" <"+o+">.\n")}if(r){var s="",a="";for(var u in n)s+=s?"|"+u:u,a+=(a?"|":"")+n[u];s=s.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+a+")[^/]*$|^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(r?"\n":"",e)}},{key:"blank",value:function(t,e){var n,r,i=t;switch(void 0===t?i=[]:t.termType?i=[{predicate:t,object:e}]:"length"in t||(i=[t]),r=i.length){case 0:return new F("[]");case 1:if(!((n=i[0]).object instanceof F))return new F("[ "+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object)+" ]");default:for(var o="[",s=0;s<r;s++)(n=i[s]).predicate.equals(t)?o+=", "+this._encodeObject(n.object):(o+=(s?";\n  ":"\n  ")+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object),t=n.predicate);return new F(o+"\n]")}}},{key:"list",value:function(t){for(var e=t&&t.length||0,n=new Array(e),r=0;r<e;r++)n[r]=this._encodeObject(t[r]);return new F("("+n.join(" ")+")")}},{key:"end",value:function(t){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var e=t&&function(n,r){e=null,t(n,r)};if(this._endStream)try{return this._outputStream.end(e)}catch(n){}e&&e()}},{key:"_inDefaultGraph",get:function(){return N.equals(this._graph)}}]),t}();function B(t){var e=M[t];return void 0===e&&(1===t.length?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}var z=n(27),G=n(26),U=w.internal,H=U.toId,W=U.fromId,V=function(){function t(e,n){Object(c.a)(this,t),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,n||!e||e[0]||(n=e,e=null),n=n||{},this._factory=n.factory||w,e&&this.addQuads(e)}return Object(p.a)(t,[{key:"_addToIndex",value:function(t,e,n,r){var i=t[e]||(t[e]={}),o=i[n]||(i[n]={}),s=r in o;return s||(o[r]=null),!s}},{key:"_removeFromIndex",value:function(t,e,n,r){var i,o=t[e],s=o[n];for(i in delete s[r],s)return;for(i in delete o[n],o)return;delete t[e]}},{key:"_findInIndex",value:function(t,e,n,r,i,o,s,a,u,l){var c,p,h,d=!e+!n+!r>1?Object.keys(this._ids):this._entities;for(var f in e&&((c=t,t={})[e]=c[e]),t){var g=d[f];if(p=t[f])for(var v in n&&((c=p,p={})[n]=c[n]),p){var _=d[v];if(h=p[v])for(var m=(r?r in h?[r]:[]:Object.keys(h)),y=0;y<m.length;y++){var b={subject:null,predicate:null,object:null};b[i]=W(g,this._factory),b[o]=W(_,this._factory),b[s]=W(d[m[y]],this._factory);var x=this._factory.quad(b.subject,b.predicate,b.object,W(a,this._factory));if(l)l.push(x);else if(u(x))return!0}}}return l}},{key:"_loop",value:function(t,e){for(var n in t)e(n)}},{key:"_loopByKey0",value:function(t,e,n){var r,i;if(r=t[e])for(i in r)n(i)}},{key:"_loopByKey1",value:function(t,e,n){var r;for(r in t)t[r][e]&&n(r)}},{key:"_loopBy2Keys",value:function(t,e,n,r){var i,o,s;if((i=t[e])&&(o=i[n]))for(s in o)r(s)}},{key:"_countInIndex",value:function(t,e,n,r){var i,o,s,a=0;for(var u in e&&((i=t,t={})[e]=i[e]),t)if(o=t[u])for(var l in n&&((i=o,o={})[n]=i[n]),o)(s=o[l])&&(r?r in s&&a++:a+=Object.keys(s).length);return a}},{key:"_getGraphs",value:function(t){if(!Y(t))return this._graphs;var e={};return e[t]=this._graphs[t],e}},{key:"_uniqueEntities",value:function(t){var e=Object.create(null),n=this._entities;return function(r){r in e||(e[r]=!0,t(W(n[r])))}}},{key:"addQuad",value:function(t,e,n,r){e||(r=t.graph,n=t.object,e=t.predicate,t=t.subject),t=H(t),e=H(e),n=H(n),r=H(r);var i=this._graphs[r];i||(i=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var o=this._ids,s=this._entities;t=o[t]||(o[s[++this._id]=t]=this._id),e=o[e]||(o[s[++this._id]=e]=this._id),n=o[n]||(o[s[++this._id]=n]=this._id);var a=this._addToIndex(i.subjects,t,e,n);return this._addToIndex(i.predicates,e,n,t),this._addToIndex(i.objects,n,t,e),this._size=null,a}},{key:"addQuads",value:function(t){for(var e=0;e<t.length;e++)this.addQuad(t[e])}},{key:"import",value:function(t){var e=this;return t.on("data",function(t){e.addQuad(t)}),t}},{key:"removeQuad",value:function(t,e,n,r){e||(r=t.graph,n=t.object,e=t.predicate,t=t.subject),t=H(t),e=H(e),n=H(n),r=H(r);var i,o,s,a=this._ids,u=this._graphs;if(!(t=a[t])||!(e=a[e])||!(n=a[n])||!(i=u[r])||!(o=i.subjects[t])||!(s=o[e])||!(n in s))return!1;for(t in this._removeFromIndex(i.subjects,t,e,n),this._removeFromIndex(i.predicates,e,n,t),this._removeFromIndex(i.objects,n,t,e),null!==this._size&&this._size--,i.subjects)return!0;return delete u[r],!0}},{key:"removeQuads",value:function(t){for(var e=0;e<t.length;e++)this.removeQuad(t[e])}},{key:"remove",value:function(t){var e=this;return t.on("data",function(t){e.removeQuad(t)}),t}},{key:"removeMatches",value:function(t,e,n,r){return this.remove(this.match(t,e,n,r))}},{key:"deleteGraph",value:function(t){return this.removeMatches(null,null,null,t)}},{key:"getQuads",value:function(t,e,n,r){t=t&&H(t),e=e&&H(e),n=n&&H(n),r=r&&H(r);var i,o,s,a,u=[],l=this._getGraphs(r),c=this._ids;if(Y(t)&&!(o=c[t])||Y(e)&&!(s=c[e])||Y(n)&&!(a=c[n]))return u;for(var p in l)(i=l[p])&&(o?a?this._findInIndex(i.objects,a,o,s,"object","subject","predicate",p,null,u):this._findInIndex(i.subjects,o,s,null,"subject","predicate","object",p,null,u):s?this._findInIndex(i.predicates,s,a,null,"predicate","object","subject",p,null,u):a?this._findInIndex(i.objects,a,null,null,"object","subject","predicate",p,null,u):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",p,null,u));return u}},{key:"match",value:function(t,e,n,r){var i=this,o=new G.Readable({objectMode:!0});return o._read=function(){var s=!0,a=!1,u=void 0;try{for(var l,c=i.getQuads(t,e,n,r)[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var p=l.value;o.push(p)}}catch(h){a=!0,u=h}finally{try{s||null==c.return||c.return()}finally{if(a)throw u}}o.push(null)},o}},{key:"countQuads",value:function(t,e,n,r){t=t&&H(t),e=e&&H(e),n=n&&H(n),r=r&&H(r);var i,o,s,a,u=0,l=this._getGraphs(r),c=this._ids;if(Y(t)&&!(o=c[t])||Y(e)&&!(s=c[e])||Y(n)&&!(a=c[n]))return 0;for(var p in l)(i=l[p])&&(u+=t?n?this._countInIndex(i.objects,a,o,s):this._countInIndex(i.subjects,o,s,a):e?this._countInIndex(i.predicates,s,a,o):this._countInIndex(i.objects,a,o,s));return u}},{key:"forEach",value:function(t,e,n,r,i){this.some(function(e){return t(e),!1},e,n,r,i)}},{key:"every",value:function(t,e,n,r,i){var o=!1,s=!this.some(function(e){return o=!0,!t(e)},e,n,r,i);return o&&s}},{key:"some",value:function(t,e,n,r,i){e=e&&H(e),n=n&&H(n),r=r&&H(r),i=i&&H(i);var o,s,a,u,l=this._getGraphs(i),c=this._ids;if(Y(e)&&!(s=c[e])||Y(n)&&!(a=c[n])||Y(r)&&!(u=c[r]))return!1;for(var p in l)if(o=l[p])if(s){if(u){if(this._findInIndex(o.objects,u,s,a,"object","subject","predicate",p,t,null))return!0}else if(this._findInIndex(o.subjects,s,a,null,"subject","predicate","object",p,t,null))return!0}else if(a){if(this._findInIndex(o.predicates,a,u,null,"predicate","object","subject",p,t,null))return!0}else if(u){if(this._findInIndex(o.objects,u,null,null,"object","subject","predicate",p,t,null))return!0}else if(this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",p,t,null))return!0;return!1}},{key:"getSubjects",value:function(t,e,n){var r=[];return this.forSubjects(function(t){r.push(t)},t,e,n),r}},{key:"forSubjects",value:function(t,e,n,r){e=e&&H(e),n=n&&H(n),r=r&&H(r);var i,o,s,a=this._ids,u=this._getGraphs(r);if(t=this._uniqueEntities(t),!(Y(e)&&!(o=a[e])||Y(n)&&!(s=a[n])))for(r in u)(i=u[r])&&(o?s?this._loopBy2Keys(i.predicates,o,s,t):this._loopByKey1(i.subjects,o,t):s?this._loopByKey0(i.objects,s,t):this._loop(i.subjects,t))}},{key:"getPredicates",value:function(t,e,n){var r=[];return this.forPredicates(function(t){r.push(t)},t,e,n),r}},{key:"forPredicates",value:function(t,e,n,r){e=e&&H(e),n=n&&H(n),r=r&&H(r);var i,o,s,a=this._ids,u=this._getGraphs(r);if(t=this._uniqueEntities(t),!(Y(e)&&!(o=a[e])||Y(n)&&!(s=a[n])))for(r in u)(i=u[r])&&(o?s?this._loopBy2Keys(i.objects,s,o,t):this._loopByKey0(i.subjects,o,t):s?this._loopByKey1(i.predicates,s,t):this._loop(i.predicates,t))}},{key:"getObjects",value:function(t,e,n){var r=[];return this.forObjects(function(t){r.push(t)},t,e,n),r}},{key:"forObjects",value:function(t,e,n,r){e=e&&H(e),n=n&&H(n),r=r&&H(r);var i,o,s,a=this._ids,u=this._getGraphs(r);if(t=this._uniqueEntities(t),!(Y(e)&&!(o=a[e])||Y(n)&&!(s=a[n])))for(r in u)(i=u[r])&&(o?s?this._loopBy2Keys(i.subjects,o,s,t):this._loopByKey1(i.objects,o,t):s?this._loopByKey0(i.predicates,s,t):this._loop(i.objects,t))}},{key:"getGraphs",value:function(t,e,n){var r=[];return this.forGraphs(function(t){r.push(t)},t,e,n),r}},{key:"forGraphs",value:function(t,e,n,r){for(var i in this._graphs)this.some(function(e){return t(e.graph),!0},e,n,r,i)}},{key:"createBlankNode",value:function(t){var e,n;if(t)for(e=t="_:"+t,n=1;this._ids[e];)e=t+n++;else do{e="_:b"+this._blankNodeIndex++}while(this._ids[e]);return this._ids[e]=++this._id,this._entities[this._id]=e,this._factory.blankNode(e.substr(2))}},{key:"extractLists",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.remove,r=void 0!==n&&n,i=e.ignoreErrors,o={},s=void 0!==i&&i?function(){return!0}:function(t,e){throw new Error("".concat(t.value," ").concat(e))},a=this.getQuads(null,h.a.rdf.rest,h.a.rdf.nil,null),u=r?Object(z.a)(a):[];return a.forEach(function(e){for(var n,i,a=[],l=!1,c=e.graph,p=e.subject;p&&!l;){var d,f,g=t.getQuads(null,null,p,null),v=t.getQuads(p,null,null,null),_=null,m=null,y=null;for(d=0;d<v.length&&!l;d++)(f=v[d]).graph.equals(c)?n?l=s(p,"has non-list arcs out"):f.predicate.value===h.a.rdf.first?_?l=s(p,"has multiple rdf:first arcs"):u.push(_=f):f.predicate.value===h.a.rdf.rest?m?l=s(p,"has multiple rdf:rest arcs"):u.push(m=f):g.length?l=s(p,"can't be subject and object"):(n=f,i="subject"):l=s(p,"not confined to single graph");for(d=0;d<g.length&&!l;++d)f=g[d],n?l=s(p,"can't have coreferences"):f.predicate.value===h.a.rdf.rest?y?l=s(p,"has incoming rdf:rest arcs"):y=f:(n=f,i="object");_?a.unshift(_.object):l=s(p,"has no list head"),p=y&&y.subject}l?r=!1:n&&(o[n[i].value]=a)}),r&&this.removeQuads(u),o}},{key:"size",get:function(){var t=this._size;if(null!==t)return t;t=0;var e,n,r=this._graphs;for(var i in r)for(var o in e=r[i].subjects)for(var s in n=e[o])t+=Object.keys(n[s]).length;return this._size=t}}]),t}();function Y(t){return"string"===typeof t||t instanceof String}var X=function(t){function e(t){var n;Object(c.a)(this,e),(n=Object(a.a)(this,Object(u.a)(e).call(this,{decodeStrings:!0})))._readableState.objectMode=!0;var r,i,o=Object(s.a)(n);return new k(t).parse({on:function(t,e){switch(t){case"data":r=e;break;case"end":i=e}}},function(t,e){t&&o.emit("error",t)||e&&o.push(e)},function(t,e){o.emit("prefix",t,e)}),n._transform=function(t,e,n){r(t),n()},n._flush=function(t){i(),t()},n}return Object(l.a)(e,t),Object(p.a)(e,[{key:"import",value:function(t){var e=this;return t.on("data",function(t){e.write(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.emit("error",t)}),this}}]),e}(G.Transform),q=function(t){function e(t){var n;Object(c.a)(this,e),(n=Object(a.a)(this,Object(u.a)(e).call(this,{encoding:"utf8"})))._writableState.objectMode=!0;var r=Object(s.a)(n),i=n._writer=new j({write:function(t,e,n){r.push(t),n&&n()},end:function(t){r.push(null),t&&t()}},t);return n._transform=function(t,e,n){i.addQuad(t,n)},n._flush=function(t){i.end(t)},n}return Object(l.a)(e,t),Object(p.a)(e,[{key:"import",value:function(t){var e=this;return t.on("data",function(t){e.write(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.emit("error",t)}),t.on("prefix",function(t,n){e._writer.addPrefix(t,n)}),this}}]),e}(G.Transform);function $(t){return!!t&&"NamedNode"===t.termType}function K(t){return!!t&&"BlankNode"===t.termType}function Q(t){return!!t&&"Literal"===t.termType}function Z(t){return!!t&&"Variable"===t.termType}function J(t){return!!t&&"DefaultGraph"===t.termType}function tt(t){return J(t.graph)}function et(t,e){return nt({"":t},e)("")}function nt(t,e){var n=Object.create(null);for(var r in t)i(r,t[r]);function i(t,r){if("string"===typeof r){var i=Object.create(null);n[t]=function(t){return i[t]||(i[t]=e.namedNode(r+t))}}else if(!(t in n))throw new Error("Unknown prefix: "+t);return n[t]}return e=e||w,i}n.d(e,"DataFactory",function(){return w}),n.d(e,"Lexer",function(){return O.a}),n.d(e,"Parser",function(){return k}),n.d(e,"Writer",function(){return j}),n.d(e,"Store",function(){return V}),n.d(e,"StreamParser",function(){return X}),n.d(e,"StreamWriter",function(){return q}),n.d(e,"Util",function(){return r})},,function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,inverse:u.a.bool,color:u.a.string,body:u.a.bool,outline:u.a.bool,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},d=function(t){var e=t.className,n=t.cssModule,o=t.color,a=t.body,u=t.inverse,l=t.outline,h=t.tag,d=t.innerRef,f=Object(i.a)(t,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),g=Object(p.i)(c()(e,"card",!!u&&"text-white",!!a&&"card-body",!!o&&(l?"border":"bg")+"-"+o),n);return s.a.createElement(h,Object(r.a)({},f,{className:g,ref:d}))};d.propTypes=h,d.defaultProps={tag:"div"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,className:u.a.string,cssModule:u.a.object},d=function(t){var e=t.className,n=t.cssModule,o=t.tag,a=Object(i.a)(t,["className","cssModule","tag"]),u=Object(p.i)(c()(e,"card-title"),n);return s.a.createElement(o,Object(r.a)({},a,{className:u}))};d.propTypes=h,d.defaultProps={tag:"div"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,className:u.a.string,cssModule:u.a.object,innerRef:u.a.oneOfType([u.a.object,u.a.string,u.a.func])},d=function(t){var e=t.className,n=t.cssModule,o=t.innerRef,a=t.tag,u=Object(i.a)(t,["className","cssModule","innerRef","tag"]),l=Object(p.i)(c()(e,"card-body"),n);return s.a.createElement(a,Object(r.a)({},u,{className:l,ref:o}))};d.propTypes=h,d.defaultProps={tag:"div"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(3),s=n(13),a=n(0),u=n.n(a),l=n(1),c=n.n(l),p=n(6),h=n.n(p),d=n(2),f={children:c.a.node,inline:c.a.bool,tag:d.m,innerRef:c.a.oneOfType([c.a.object,c.a.func,c.a.string]),className:c.a.string,cssModule:c.a.object},g=function(t){function e(e){var n;return(n=t.call(this,e)||this).getRef=n.getRef.bind(Object(o.a)(n)),n.submit=n.submit.bind(Object(o.a)(n)),n}Object(s.a)(e,t);var n=e.prototype;return n.getRef=function(t){this.props.innerRef&&this.props.innerRef(t),this.ref=t},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var t=this.props,e=t.className,n=t.cssModule,o=t.inline,s=t.tag,a=t.innerRef,l=Object(i.a)(t,["className","cssModule","inline","tag","innerRef"]),c=Object(d.i)(h()(e,!!o&&"form-inline"),n);return u.a.createElement(s,Object(r.a)({},l,{ref:a,className:c}))},e}(a.Component);g.propTypes=f,g.defaultProps={tag:"form"},e.a=g},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={children:u.a.node,row:u.a.bool,check:u.a.bool,inline:u.a.bool,disabled:u.a.bool,tag:p.m,className:u.a.string,cssModule:u.a.object},d=function(t){var e=t.className,n=t.cssModule,o=t.row,a=t.disabled,u=t.check,l=t.inline,h=t.tag,d=Object(i.a)(t,["className","cssModule","row","disabled","check","inline","tag"]),f=Object(p.i)(c()(e,!!o&&"row",u?"form-check":"form-group",!(!u||!l)&&"form-check-inline",!(!u||!a)&&"disabled"),n);return s.a.createElement(h,Object(r.a)({},d,{className:f}))};d.propTypes=h,d.defaultProps={tag:"div"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(34),h=n.n(p),d=n(2),f=u.a.oneOfType([u.a.number,u.a.string]),g=u.a.oneOfType([u.a.string,u.a.number,u.a.shape({size:f,order:f,offset:f})]),v={children:u.a.node,hidden:u.a.bool,check:u.a.bool,size:u.a.string,for:u.a.string,tag:d.m,className:u.a.string,cssModule:u.a.object,xs:g,sm:g,md:g,lg:g,xl:g,widths:u.a.array},_={tag:"label",widths:["xs","sm","md","lg","xl"]},m=function(t,e,n){return!0===n||""===n?t?"col":"col-"+e:"auto"===n?t?"col-auto":"col-"+e+"-auto":t?"col-"+n:"col-"+e+"-"+n},y=function(t){var e=t.className,n=t.cssModule,o=t.hidden,a=t.widths,u=t.tag,l=t.check,p=t.size,f=t.for,g=Object(i.a)(t,["className","cssModule","hidden","widths","tag","check","size","for"]),v=[];a.forEach(function(e,r){var i=t[e];if(delete g[e],i||""===i){var o,s=!r;if(h()(i)){var a,u=s?"-":"-"+e+"-";o=m(s,e,i.size),v.push(Object(d.i)(c()(((a={})[o]=i.size||""===i.size,a["order"+u+i.order]=i.order||0===i.order,a["offset"+u+i.offset]=i.offset||0===i.offset,a))),n)}else o=m(s,e,i),v.push(o)}});var _=Object(d.i)(c()(e,!!o&&"sr-only",!!l&&"form-check-label",!!p&&"col-form-label-"+p,v,!!v.length&&"col-form-label"),n);return s.a.createElement(u,Object(r.a)({htmlFor:f},g,{className:_}))};y.propTypes=v,y.defaultProps=_,e.a=y},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(3),s=n(13),a=n(0),u=n.n(a),l=n(1),c=n.n(l),p=n(6),h=n.n(p),d=n(2),f={children:c.a.node,type:c.a.string,size:c.a.string,bsSize:c.a.string,valid:c.a.bool,invalid:c.a.bool,tag:d.m,innerRef:c.a.oneOfType([c.a.object,c.a.func,c.a.string]),plaintext:c.a.bool,addon:c.a.bool,className:c.a.string,cssModule:c.a.object},g=function(t){function e(e){var n;return(n=t.call(this,e)||this).getRef=n.getRef.bind(Object(o.a)(n)),n.focus=n.focus.bind(Object(o.a)(n)),n}Object(s.a)(e,t);var n=e.prototype;return n.getRef=function(t){this.props.innerRef&&this.props.innerRef(t),this.ref=t},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var t=this.props,e=t.className,n=t.cssModule,o=t.type,s=t.bsSize,a=t.valid,l=t.invalid,c=t.tag,p=t.addon,f=t.plaintext,g=t.innerRef,v=Object(i.a)(t,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),_=["radio","checkbox"].indexOf(o)>-1,m=new RegExp("\\D","g"),y=c||("select"===o||"textarea"===o?o:"input"),b="form-control";f?(b+="-plaintext",y=c||"input"):"file"===o?b+="-file":_&&(b=p?null:"form-check-input"),v.size&&m.test(v.size)&&(Object(d.n)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),s=v.size,delete v.size);var x=Object(d.i)(h()(e,l&&"is-invalid",a&&"is-valid",!!s&&"form-control-"+s,b),n);return("input"===y||c&&"function"===typeof c)&&(v.type=o),v.children&&!f&&"select"!==o&&"string"===typeof y&&"select"!==y&&(Object(d.n)('Input with a type of "'+o+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete v.children),u.a.createElement(y,Object(r.a)({},v,{ref:g,className:x}))},e}(u.a.Component);g.propTypes=f,g.defaultProps={type:"text"},e.a=g},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,className:u.a.string,cssModule:u.a.object},d=function(t){var e=t.className,n=t.cssModule,o=t.tag,a=Object(i.a)(t,["className","cssModule","tag"]),u=Object(p.i)(c()(e,"card-footer"),n);return s.a.createElement(o,Object(r.a)({},a,{className:u}))};d.propTypes=h,d.defaultProps={tag:"div"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(3),s=n(13),a=n(0),u=n.n(a),l=n(1),c=n.n(l),p=n(6),h=n.n(p),d=n(2),f={active:c.a.bool,"aria-label":c.a.string,block:c.a.bool,color:c.a.string,disabled:c.a.bool,outline:c.a.bool,tag:d.m,innerRef:c.a.oneOfType([c.a.object,c.a.func,c.a.string]),onClick:c.a.func,size:c.a.string,children:c.a.node,className:c.a.string,cssModule:c.a.object,close:c.a.bool},g=function(t){function e(e){var n;return(n=t.call(this,e)||this).onClick=n.onClick.bind(Object(o.a)(n)),n}Object(s.a)(e,t);var n=e.prototype;return n.onClick=function(t){this.props.disabled?t.preventDefault():this.props.onClick&&this.props.onClick(t)},n.render=function(){var t=this.props,e=t.active,n=t["aria-label"],o=t.block,s=t.className,a=t.close,l=t.cssModule,c=t.color,p=t.outline,f=t.size,g=t.tag,v=t.innerRef,_=Object(i.a)(t,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);a&&"undefined"===typeof _.children&&(_.children=u.a.createElement("span",{"aria-hidden":!0},"\xd7"));var m="btn"+(p?"-outline":"")+"-"+c,y=Object(d.i)(h()(s,{close:a},a||"btn",a||m,!!f&&"btn-"+f,!!o&&"btn-block",{active:e,disabled:this.props.disabled}),l);_.href&&"button"===g&&(g="a");var b=a?"Close":null;return u.a.createElement(g,Object(r.a)({type:"button"===g&&_.onClick?"button":void 0},_,{className:y,ref:v,onClick:this.onClick,"aria-label":n||b}))},e}(u.a.Component);g.propTypes=f,g.defaultProps={color:"secondary",tag:"button"},e.a=g},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,wrapTag:p.m,toggle:u.a.func,className:u.a.string,cssModule:u.a.object,children:u.a.node,closeAriaLabel:u.a.string,charCode:u.a.oneOfType([u.a.string,u.a.number]),close:u.a.object},d=function(t){var e,n=t.className,o=t.cssModule,a=t.children,u=t.toggle,l=t.tag,h=t.wrapTag,d=t.closeAriaLabel,f=t.charCode,g=t.close,v=Object(i.a)(t,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"]),_=Object(p.i)(c()(n,"modal-header"),o);if(!g&&u){var m="number"===typeof f?String.fromCharCode(f):f;e=s.a.createElement("button",{type:"button",onClick:u,className:Object(p.i)("close",o),"aria-label":d},s.a.createElement("span",{"aria-hidden":"true"},m))}return s.a.createElement(h,Object(r.a)({},v,{className:_}),s.a.createElement(l,{className:Object(p.i)("modal-title",o)},a),g||e)};d.propTypes=h,d.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,className:u.a.string,cssModule:u.a.object},d=function(t){var e=t.className,n=t.cssModule,o=t.tag,a=Object(i.a)(t,["className","cssModule","tag"]),u=Object(p.i)(c()(e,"modal-body"),n);return s.a.createElement(o,Object(r.a)({},a,{className:u}))};d.propTypes=h,d.defaultProps={tag:"div"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={className:u.a.string,cssModule:u.a.object,size:u.a.string,bordered:u.a.bool,borderless:u.a.bool,striped:u.a.bool,dark:u.a.bool,hover:u.a.bool,responsive:u.a.oneOfType([u.a.bool,u.a.string]),tag:p.m,responsiveTag:p.m,innerRef:u.a.oneOfType([u.a.func,u.a.string,u.a.object])},d=function(t){var e=t.className,n=t.cssModule,o=t.size,a=t.bordered,u=t.borderless,l=t.striped,h=t.dark,d=t.hover,f=t.responsive,g=t.tag,v=t.responsiveTag,_=t.innerRef,m=Object(i.a)(t,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),y=Object(p.i)(c()(e,"table",!!o&&"table-"+o,!!a&&"table-bordered",!!u&&"table-borderless",!!l&&"table-striped",!!h&&"table-dark",!!d&&"table-hover"),n),b=s.a.createElement(g,Object(r.a)({},m,{ref:_,className:y}));if(f){var x=Object(p.i)(!0===f?"table-responsive":"table-responsive-"+f,n);return s.a.createElement(v,{className:x},b)}return b};d.propTypes=h,d.defaultProps={tag:"table",responsiveTag:"div"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,noGutters:u.a.bool,className:u.a.string,cssModule:u.a.object,form:u.a.bool},d=function(t){var e=t.className,n=t.cssModule,o=t.noGutters,a=t.tag,u=t.form,l=Object(i.a)(t,["className","cssModule","noGutters","tag","form"]),h=Object(p.i)(c()(e,o?"no-gutters":null,u?"form-row":"row"),n);return s.a.createElement(a,Object(r.a)({},l,{className:h}))};d.propTypes=h,d.defaultProps={tag:"div"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(34),s=n.n(o),a=n(0),u=n.n(a),l=n(1),c=n.n(l),p=n(6),h=n.n(p),d=n(2),f=c.a.oneOfType([c.a.number,c.a.string]),g=c.a.oneOfType([c.a.bool,c.a.number,c.a.string,c.a.shape({size:c.a.oneOfType([c.a.bool,c.a.number,c.a.string]),order:f,offset:f})]),v={tag:d.m,xs:g,sm:g,md:g,lg:g,xl:g,className:c.a.string,cssModule:c.a.object,widths:c.a.array},_={tag:"div",widths:["xs","sm","md","lg","xl"]},m=function(t,e,n){return!0===n||""===n?t?"col":"col-"+e:"auto"===n?t?"col-auto":"col-"+e+"-auto":t?"col-"+n:"col-"+e+"-"+n},y=function(t){var e=t.className,n=t.cssModule,o=t.widths,a=t.tag,l=Object(i.a)(t,["className","cssModule","widths","tag"]),c=[];o.forEach(function(e,r){var i=t[e];if(delete l[e],i||""===i){var o=!r;if(s()(i)){var a,u=o?"-":"-"+e+"-",p=m(o,e,i.size);c.push(Object(d.i)(h()(((a={})[p]=i.size||""===i.size,a["order"+u+i.order]=i.order||0===i.order,a["offset"+u+i.offset]=i.offset||0===i.offset,a)),n))}else{var f=m(o,e,i);c.push(f)}}}),c.length||c.push("col");var p=Object(d.i)(h()(e,c),n);return u.a.createElement(a,Object(r.a)({},l,{className:p}))};y.propTypes=v,y.defaultProps=_,e.a=y},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(3),s=n(13),a=n(0),u=n.n(a),l=n(1),c=n.n(l),p=n(6),h=n.n(p),d=n(36),f=n(2),g={children:c.a.node,active:c.a.bool,disabled:c.a.bool,divider:c.a.bool,tag:f.m,header:c.a.bool,onClick:c.a.func,className:c.a.string,cssModule:c.a.object,toggle:c.a.bool},v=function(t){function e(e){var n;return(n=t.call(this,e)||this).onClick=n.onClick.bind(Object(o.a)(n)),n.getTabIndex=n.getTabIndex.bind(Object(o.a)(n)),n}Object(s.a)(e,t);var n=e.prototype;return n.onClick=function(t){this.props.disabled||this.props.header||this.props.divider?t.preventDefault():(this.props.onClick&&this.props.onClick(t),this.props.toggle&&this.context.toggle(t))},n.getTabIndex=function(){return this.props.disabled||this.props.header||this.props.divider?"-1":"0"},n.render=function(){var t=this.getTabIndex(),e=t>-1?"menuitem":void 0,n=Object(f.j)(this.props,["toggle"]),o=n.className,s=n.cssModule,a=n.divider,l=n.tag,c=n.header,p=n.active,d=Object(i.a)(n,["className","cssModule","divider","tag","header","active"]),g=Object(f.i)(h()(o,{disabled:d.disabled,"dropdown-item":!a&&!c,active:p,"dropdown-header":c,"dropdown-divider":a}),s);return"button"===l&&(c?l="h6":a?l="div":d.href&&(l="a")),u.a.createElement(l,Object(r.a)({type:"button"===l&&(d.onClick||this.props.toggle)?"button":void 0},d,{tabIndex:t,role:e,className:g,onClick:this.onClick}))},e}(u.a.Component);v.propTypes=g,v.defaultProps={tag:"button",toggle:!0},v.contextType=d.a,e.a=v},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={color:u.a.string,pill:u.a.bool,tag:p.m,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),children:u.a.node,className:u.a.string,cssModule:u.a.object},d=function(t){var e=t.className,n=t.cssModule,o=t.color,a=t.innerRef,u=t.pill,l=t.tag,h=Object(i.a)(t,["className","cssModule","color","innerRef","pill","tag"]),d=Object(p.i)(c()(e,"badge","badge-"+o,!!u&&"badge-pill"),n);return h.href&&"span"===l&&(l="a"),s.a.createElement(l,Object(r.a)({},h,{className:d,ref:a}))};d.propTypes=h,d.defaultProps={color:"secondary",pill:!1,tag:"span"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,className:u.a.string,cssModule:u.a.object},d=function(t){var e=t.className,n=t.cssModule,o=t.tag,a=Object(i.a)(t,["className","cssModule","tag"]),u=Object(p.i)(c()(e,"card-header"),n);return s.a.createElement(o,Object(r.a)({},a,{className:u}))};d.propTypes=h,d.defaultProps={tag:"div"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={light:u.a.bool,dark:u.a.bool,full:u.a.bool,fixed:u.a.string,sticky:u.a.string,color:u.a.string,role:u.a.string,tag:p.m,className:u.a.string,cssModule:u.a.object,expand:u.a.oneOfType([u.a.bool,u.a.string])},d=function(t){var e,n=t.expand,o=t.className,a=t.cssModule,u=t.light,l=t.dark,h=t.fixed,d=t.sticky,f=t.color,g=t.tag,v=Object(i.a)(t,["expand","className","cssModule","light","dark","fixed","sticky","color","tag"]),_=Object(p.i)(c()(o,"navbar",function(t){return!1!==t&&(!0===t||"xs"===t?"navbar-expand":"navbar-expand-"+t)}(n),((e={"navbar-light":u,"navbar-dark":l})["bg-"+f]=f,e["fixed-"+h]=h,e["sticky-"+d]=d,e)),a);return s.a.createElement(g,Object(r.a)({},v,{className:_}))};d.propTypes=h,d.defaultProps={tag:"nav",expand:!1},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,fluid:u.a.bool,className:u.a.string,cssModule:u.a.object},d=function(t){var e=t.className,n=t.cssModule,o=t.fluid,a=t.tag,u=Object(i.a)(t,["className","cssModule","fluid","tag"]),l=Object(p.i)(c()(e,o?"container-fluid":"container"),n);return s.a.createElement(a,Object(r.a)({},u,{className:l}))};d.propTypes=h,d.defaultProps={tag:"div"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,className:u.a.string,cssModule:u.a.object},d=function(t){var e=t.className,n=t.cssModule,o=t.tag,a=Object(i.a)(t,["className","cssModule","tag"]),u=Object(p.i)(c()(e,"navbar-brand"),n);return s.a.createElement(o,Object(r.a)({},a,{className:u}))};d.propTypes=h,d.defaultProps={tag:"a"},e.a=d},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(0),s=n.n(o),a=n(1),u=n.n(a),l=n(6),c=n.n(l),p=n(2),h={tag:p.m,type:u.a.string,className:u.a.string,cssModule:u.a.object,children:u.a.node},d=function(t){var e=t.className,n=t.cssModule,o=t.children,a=t.tag,u=Object(i.a)(t,["className","cssModule","children","tag"]),l=Object(p.i)(c()(e,"navbar-toggler"),n);return s.a.createElement(a,Object(r.a)({},u,{className:l}),o||s.a.createElement("span",{className:Object(p.i)("navbar-toggler-icon",n)}))};d.propTypes=h,d.defaultProps={tag:"button",type:"button"},e.a=d},function(t,e,n){"use strict";var r,i=n(4),o=n(8),s=n(3),a=n(13),u=n(19),l=n(0),c=n.n(l),p=n(1),h=n.n(p),d=n(6),f=n.n(d),g=n(23),v=n(2),_=Object(u.a)({},g.Transition.propTypes,{isOpen:h.a.bool,children:h.a.oneOfType([h.a.arrayOf(h.a.node),h.a.node]),tag:v.m,className:h.a.node,navbar:h.a.bool,cssModule:h.a.object,innerRef:h.a.oneOfType([h.a.func,h.a.string,h.a.object])}),m=Object(u.a)({},g.Transition.defaultProps,{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:v.c.Collapse}),y=((r={})[v.b.ENTERING]="collapsing",r[v.b.ENTERED]="collapse show",r[v.b.EXITING]="collapsing",r[v.b.EXITED]="collapse",r);function b(t){return t.scrollHeight}var x=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach(function(t){n[t]=n[t].bind(Object(s.a)(n))}),n}Object(a.a)(e,t);var n=e.prototype;return n.onEntering=function(t,e){this.setState({height:b(t)}),this.props.onEntering(t,e)},n.onEntered=function(t,e){this.setState({height:null}),this.props.onEntered(t,e)},n.onExit=function(t){this.setState({height:b(t)}),this.props.onExit(t)},n.onExiting=function(t){t.offsetHeight;this.setState({height:0}),this.props.onExiting(t)},n.onExited=function(t){this.setState({height:null}),this.props.onExited(t)},n.render=function(){var t=this,e=this.props,n=e.tag,r=e.isOpen,s=e.className,a=e.navbar,l=e.cssModule,p=e.children,h=(e.innerRef,Object(o.a)(e,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),d=this.state.height,_=Object(v.k)(h,v.a),m=Object(v.j)(h,v.a);return c.a.createElement(g.Transition,Object(i.a)({},_,{in:r,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(e){var r=function(t){return y[t]||"collapse"}(e),o=Object(v.i)(f()(s,r,a&&"navbar-collapse"),l),h=null===d?null:{height:d};return c.a.createElement(n,Object(i.a)({},m,{style:Object(u.a)({},m.style,h),className:o,ref:t.props.innerRef}),p)})},e}(l.Component);x.propTypes=_,x.defaultProps=m,e.a=x},function(t,e,n){"use strict";n.d(e,"a",function(){return x}),n.d(e,"b",function(){return C}),n.d(e,"c",function(){return g}),n.d(e,"d",function(){return D});var r=n(64),i=n.n(r),o=n(13),s=n(0),a=n.n(s),u=(n(1),n(21)),l=n(20),c=n(45),p=n.n(c),h=n(4),d=(n(60),n(8)),f=(n(65),function(t){var e=i()();return e.Provider.displayName=t+".Provider",e.Consumer.displayName=t+".Consumer",e}("Router")),g=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen(function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t})),n}Object(o.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(f.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},e}(a.a.Component);a.a.Component;var v=function(t){function e(){return t.apply(this,arguments)||this}Object(o.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(a.a.Component);var _={},m=1e4,y=0;function b(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:function(t){if(_[t])return _[t];var e=p.a.compile(t);return y<m&&(_[t]=e,y++),e}(t)(e,{pretty:!0})}function x(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return a.a.createElement(f.Consumer,null,function(t){t||Object(l.a)(!1);var r=t.history,o=t.staticContext,s=i?r.push:r.replace,c=Object(u.b)(e?"string"===typeof n?b(n,e.params):Object(h.a)({},n,{pathname:b(n.pathname,e.params)}):n);return o?(s(c),null):a.a.createElement(v,{onMount:function(){s(c)},onUpdate:function(t,e){Object(u.e)(e.to,c)||s(c)},to:n})})}var E={},w=1e4,T=0;function O(t,e){void 0===e&&(e={}),"string"===typeof e&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,s=n.strict,a=void 0!==s&&s,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce(function(e,n){if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=E[n]||(E[n]={});if(r[t])return r[t];var i=[],o={regexp:p()(t,i,e),keys:i};return T<w&&(r[t]=o,T++),o}(n,{end:o,strict:a,sensitive:l}),i=r.regexp,s=r.keys,u=i.exec(t);if(!u)return null;var c=u[0],h=u.slice(1),d=t===c;return o&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:s.reduce(function(t,e,n){return t[e.name]=h[n],t},{})}},null)}var C=function(t){function e(){return t.apply(this,arguments)||this}return Object(o.a)(e,t),e.prototype.render=function(){var t=this;return a.a.createElement(f.Consumer,null,function(e){e||Object(l.a)(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?O(n.pathname,t.props):e.match,i=Object(h.a)({},e,{location:n,match:r}),o=t.props,s=o.children,u=o.component,c=o.render;(Array.isArray(s)&&0===s.length&&(s=null),"function"===typeof s)&&(void 0===(s=s(i))&&(s=null));return a.a.createElement(f.Provider,{value:i},s&&!function(t){return 0===a.a.Children.count(t)}(s)?s:i.match?u?a.a.createElement(u,i):c?c(i):null:null)})},e}(a.a.Component);function S(t){return"/"===t.charAt(0)?t:"/"+t}function k(t,e){if(!t)return e;var n=S(t);return 0!==e.pathname.indexOf(n)?e:Object(h.a)({},e,{pathname:e.pathname.substr(n.length)})}function I(t){return"string"===typeof t?t:Object(u.d)(t)}function A(t){return function(){Object(l.a)(!1)}}function N(){}a.a.Component;var D=function(t){function e(){return t.apply(this,arguments)||this}return Object(o.a)(e,t),e.prototype.render=function(){var t=this;return a.a.createElement(f.Consumer,null,function(e){e||Object(l.a)(!1);var n,r,i=t.props.location||e.location;return a.a.Children.forEach(t.props.children,function(t){if(null==r&&a.a.isValidElement(t)){n=t;var o=t.props.path||t.props.from;r=o?O(i.pathname,Object(h.a)({},t.props,{path:o})):e.match}}),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null})},e}(a.a.Component)},function(t,e,n){"use strict";var r=n(19),i=n(4),o=n(3),s=n(13),a=n(0),u=n.n(a),l=n(1),c=n.n(l),p=n(6),h=n.n(p),d=n(17),f=n.n(d),g=n(2),v={children:c.a.node.isRequired,node:c.a.any},_=function(t){function e(){return t.apply(this,arguments)||this}Object(s.a)(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null},n.render=function(){return g.d?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),f.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null},e}(u.a.Component);_.propTypes=v;var m=_,y=n(8),b=n(23),x=Object(r.a)({},b.Transition.propTypes,{children:c.a.oneOfType([c.a.arrayOf(c.a.node),c.a.node]),tag:g.m,baseClass:c.a.string,baseClassActive:c.a.string,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])}),E=Object(r.a)({},b.Transition.defaultProps,{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:g.c.Fade,appear:!0,enter:!0,exit:!0,in:!0});function w(t){var e=t.tag,n=t.baseClass,r=t.baseClassActive,o=t.className,s=t.cssModule,a=t.children,l=t.innerRef,c=Object(y.a)(t,["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"]),p=Object(g.k)(c,g.a),d=Object(g.j)(c,g.a);return u.a.createElement(b.Transition,p,function(t){var c="entered"===t,p=Object(g.i)(h()(o,n,c&&r),s);return u.a.createElement(e,Object(i.a)({className:p},d,{ref:l}),a)})}w.propTypes=x,w.defaultProps=E;var T=w;function O(){}var C=c.a.shape(T.propTypes),S={isOpen:c.a.bool,autoFocus:c.a.bool,centered:c.a.bool,scrollable:c.a.bool,size:c.a.string,toggle:c.a.func,keyboard:c.a.bool,role:c.a.string,labelledBy:c.a.string,backdrop:c.a.oneOfType([c.a.bool,c.a.oneOf(["static"])]),onEnter:c.a.func,onExit:c.a.func,onOpened:c.a.func,onClosed:c.a.func,children:c.a.node,className:c.a.string,wrapClassName:c.a.string,modalClassName:c.a.string,backdropClassName:c.a.string,contentClassName:c.a.string,external:c.a.node,fade:c.a.bool,cssModule:c.a.object,zIndex:c.a.oneOfType([c.a.number,c.a.string]),backdropTransition:C,modalTransition:C,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func]),unmountOnClose:c.a.bool,returnFocusAfterClose:c.a.bool},k=Object.keys(S),I={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:O,onClosed:O,modalTransition:{timeout:g.c.Modal},backdropTransition:{mountOnEnter:!0,timeout:g.c.Fade},unmountOnClose:!0,returnFocusAfterClose:!0},A=function(t){function e(e){var n;return(n=t.call(this,e)||this)._element=null,n._originalBodyPadding=null,n.getFocusableChildren=n.getFocusableChildren.bind(Object(o.a)(n)),n.handleBackdropClick=n.handleBackdropClick.bind(Object(o.a)(n)),n.handleBackdropMouseDown=n.handleBackdropMouseDown.bind(Object(o.a)(n)),n.handleEscape=n.handleEscape.bind(Object(o.a)(n)),n.handleTab=n.handleTab.bind(Object(o.a)(n)),n.onOpened=n.onOpened.bind(Object(o.a)(n)),n.onClosed=n.onClosed.bind(Object(o.a)(n)),n.manageFocusAfterClose=n.manageFocusAfterClose.bind(Object(o.a)(n)),n.state={isOpen:e.isOpen},e.isOpen&&n.init(),n}Object(s.a)(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onEnter&&this.props.onEnter(),this.state.isOpen&&this.props.autoFocus&&this.setFocus(),this._isMounted=!0},n.componentDidUpdate=function(t,e){if(this.props.isOpen&&!t.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!e.isOpen&&this.setFocus(),this._element&&t.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)},n.componentWillUnmount=function(){this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),this.state.isOpen&&this.close()),this._isMounted=!1},n.onOpened=function(t,e){this.props.onOpened(),(this.props.modalTransition.onEntered||O)(t,e)},n.onClosed=function(t){var e=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||O)(t),e&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})},n.setFocus=function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()},n.getFocusableChildren=function(){return this._element.querySelectorAll(g.f.join(", "))},n.getFocusedChild=function(){var t,e=this.getFocusableChildren();try{t=document.activeElement}catch(n){t=e[0]}return t},n.handleBackdropClick=function(t){if(t.target===this._mouseDownElement){if(t.stopPropagation(),!this.props.isOpen||!0!==this.props.backdrop)return;var e=this._dialog?this._dialog.parentNode:null;e&&t.target===e&&this.props.toggle&&this.props.toggle(t)}},n.handleTab=function(t){if(9===t.which){var e=this.getFocusableChildren(),n=e.length;if(0!==n){for(var r=this.getFocusedChild(),i=0,o=0;o<n;o+=1)if(e[o]===r){i=o;break}t.shiftKey&&0===i?(t.preventDefault(),e[n-1].focus()):t.shiftKey||i!==n-1||(t.preventDefault(),e[0].focus())}}},n.handleBackdropMouseDown=function(t){this._mouseDownElement=t.target},n.handleEscape=function(t){this.props.isOpen&&this.props.keyboard&&27===t.keyCode&&this.props.toggle&&(t.preventDefault(),t.stopPropagation(),this.props.toggle(t))},n.init=function(){try{this._triggeringElement=document.activeElement}catch(t){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,document.body.appendChild(this._element)),this._originalBodyPadding=Object(g.g)(),Object(g.e)(),0===e.openCount&&(document.body.className=h()(document.body.className,Object(g.i)("modal-open",this.props.cssModule))),e.openCount+=1},n.destroy=function(){this._element&&(document.body.removeChild(this._element),this._element=null),this.manageFocusAfterClose()},n.manageFocusAfterClose=function(){if(this._triggeringElement){var t=this.props.returnFocusAfterClose;this._triggeringElement.focus&&t&&this._triggeringElement.focus(),this._triggeringElement=null}},n.close=function(){if(e.openCount<=1){var t=Object(g.i)("modal-open",this.props.cssModule),n=new RegExp("(^| )"+t+"( |$)");document.body.className=document.body.className.replace(n," ").trim()}this.manageFocusAfterClose(),e.openCount=Math.max(0,e.openCount-1),Object(g.l)(this._originalBodyPadding)},n.renderModalDialog=function(){var t,e=this,n=Object(g.j)(this.props,k);return u.a.createElement("div",Object(i.a)({},n,{className:Object(g.i)(h()("modal-dialog",this.props.className,(t={},t["modal-"+this.props.size]=this.props.size,t["modal-dialog-centered"]=this.props.centered,t["modal-dialog-scrollable"]=this.props.scrollable,t)),this.props.cssModule),role:"document",ref:function(t){e._dialog=t}}),u.a.createElement("div",{className:Object(g.i)(h()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))},n.render=function(){var t=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!t)){var e=!!this._element&&!this.state.isOpen&&!t;this._element.style.display=e?"none":"block";var n=this.props,o=n.wrapClassName,s=n.modalClassName,a=n.backdropClassName,l=n.cssModule,c=n.isOpen,p=n.backdrop,d=n.role,f=n.labelledBy,v=n.external,_=n.innerRef,y={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":f,role:d,tabIndex:"-1"},b=this.props.fade,x=Object(r.a)({},T.defaultProps,this.props.modalTransition,{baseClass:b?this.props.modalTransition.baseClass:"",timeout:b?this.props.modalTransition.timeout:0}),E=Object(r.a)({},T.defaultProps,this.props.backdropTransition,{baseClass:b?this.props.backdropTransition.baseClass:"",timeout:b?this.props.backdropTransition.timeout:0}),w=p&&(b?u.a.createElement(T,Object(i.a)({},E,{in:c&&!!p,cssModule:l,className:Object(g.i)(h()("modal-backdrop",a),l)})):u.a.createElement("div",{className:Object(g.i)(h()("modal-backdrop","show",a),l)}));return u.a.createElement(m,{node:this._element},u.a.createElement("div",{className:Object(g.i)(o)},u.a.createElement(T,Object(i.a)({},y,x,{in:c,onEntered:this.onOpened,onExited:this.onClosed,cssModule:l,className:Object(g.i)(h()("modal",s),l),innerRef:_}),v,this.renderModalDialog()),w))}return null},e}(u.a.Component);A.propTypes=S,A.defaultProps=I,A.openCount=0;e.a=A},function(t,e,n){"use strict";var r=n(4),i=n(8),o=n(3),s=n(13),a=n(0),u=n.n(a),l=n(1),c=n.n(l),p=n(42),h=n.n(p),d=n(35),f=n.n(d),g=n(43),v=n.n(g),_=n(44),m=n.n(_),y=m()(),b=m()(),x=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,v()(h()(e),"referenceNode",void 0),v()(h()(e),"setReferenceNode",function(t){t&&e.referenceNode!==t&&(e.referenceNode=t,e.forceUpdate())}),e}f()(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return a.createElement(y.Provider,{value:this.referenceNode},a.createElement(b.Provider,{value:this.setReferenceNode},this.props.children))},e}(a.Component),E=n(6),w=n.n(E),T=n(36),O=n(2),C={disabled:c.a.bool,direction:c.a.oneOf(["up","down","left","right"]),group:c.a.bool,isOpen:c.a.bool,nav:c.a.bool,active:c.a.bool,addonType:c.a.oneOfType([c.a.bool,c.a.oneOf(["prepend","append"])]),size:c.a.string,tag:O.m,toggle:c.a.func,children:c.a.node,className:c.a.string,cssModule:c.a.object,inNavbar:c.a.bool,setActiveFromChild:c.a.bool},S=function(t){function e(e){var n;return(n=t.call(this,e)||this).addEvents=n.addEvents.bind(Object(o.a)(n)),n.handleDocumentClick=n.handleDocumentClick.bind(Object(o.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(o.a)(n)),n.removeEvents=n.removeEvents.bind(Object(o.a)(n)),n.toggle=n.toggle.bind(Object(o.a)(n)),n.containerRef=u.a.createRef(),n}Object(s.a)(e,t);var n=e.prototype;return n.getContextValue=function(){return{toggle:this.props.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar}},n.componentDidMount=function(){this.handleProps()},n.componentDidUpdate=function(t){this.props.isOpen!==t.isOpen&&this.handleProps()},n.componentWillUnmount=function(){this.removeEvents()},n.getContainer=function(){return this.containerRef.current},n.getMenuCtrl=function(){return this._$menuCtrl?this._$menuCtrl:(this._$menuCtrl=this.getContainer().querySelector("[aria-expanded]"),this._$menuCtrl)},n.getMenuItems=function(){return[].slice.call(this.getContainer().querySelectorAll('[role="menuitem"]'))},n.addEvents=function(){var t=this;["click","touchstart","keyup"].forEach(function(e){return document.addEventListener(e,t.handleDocumentClick,!0)})},n.removeEvents=function(){var t=this;["click","touchstart","keyup"].forEach(function(e){return document.removeEventListener(e,t.handleDocumentClick,!0)})},n.handleDocumentClick=function(t){if(!t||3!==t.which&&("keyup"!==t.type||t.which===O.h.tab)){var e=this.getContainer();(!e.contains(t.target)||e===t.target||"keyup"===t.type&&t.which!==O.h.tab)&&this.toggle(t)}},n.handleKeyDown=function(t){var e=this;if(!(/input|textarea/i.test(t.target.tagName)||O.h.tab===t.which&&"menuitem"!==t.target.getAttribute("role"))&&(t.preventDefault(),!this.props.disabled&&(this.getMenuCtrl()===t.target&&!this.props.isOpen&&[O.h.space,O.h.enter,O.h.up,O.h.down].indexOf(t.which)>-1&&(this.toggle(t),setTimeout(function(){return e.getMenuItems()[0].focus()})),this.props.isOpen&&"menuitem"===t.target.getAttribute("role"))))if([O.h.tab,O.h.esc].indexOf(t.which)>-1)this.toggle(t),this.getMenuCtrl().focus();else if([O.h.space,O.h.enter].indexOf(t.which)>-1)t.target.click(),this.getMenuCtrl().focus();else if([O.h.down,O.h.up].indexOf(t.which)>-1||[O.h.n,O.h.p].indexOf(t.which)>-1&&t.ctrlKey){var n=this.getMenuItems(),r=n.indexOf(t.target);O.h.up===t.which||O.h.p===t.which&&t.ctrlKey?r=0!==r?r-1:n.length-1:(O.h.down===t.which||O.h.n===t.which&&t.ctrlKey)&&(r=r===n.length-1?0:r+1),n[r].focus()}else if(O.h.end===t.which){var i=this.getMenuItems();i[i.length-1].focus()}else if(O.h.home===t.which){this.getMenuItems()[0].focus()}else if(t.which>=48&&t.which<=90)for(var o=this.getMenuItems(),s=String.fromCharCode(t.which).toLowerCase(),a=0;a<o.length;a+=1){if((o[a].textContent&&o[a].textContent[0].toLowerCase())===s){o[a].focus();break}}},n.handleProps=function(){this.props.isOpen?this.addEvents():this.removeEvents()},n.toggle=function(t){return this.props.disabled?t&&t.preventDefault():this.props.toggle(t)},n.render=function(){var t,e,n=Object(O.j)(this.props,["toggle","disabled","inNavbar"]),o=n.className,s=n.cssModule,a=n.direction,l=n.isOpen,c=n.group,p=n.size,h=n.nav,d=n.setActiveFromChild,f=n.active,g=n.addonType,v=n.tag,_=Object(i.a)(n,["className","cssModule","direction","isOpen","group","size","nav","setActiveFromChild","active","addonType","tag"]),m=v||(h?"li":"div"),y=!1;d&&u.a.Children.map(this.props.children[1].props.children,function(t){t&&t.props.active&&(y=!0)});var b=Object(O.i)(w()(o,"down"!==a&&"drop"+a,!(!h||!f)&&"active",!(!d||!y)&&"active",((t={})["input-group-"+g]=g,t["btn-group"]=c,t["btn-group-"+p]=!!p,t.dropdown=!c&&!g,t.show=l,t["nav-item"]=h,t)),s);return u.a.createElement(T.a.Provider,{value:this.getContextValue()},u.a.createElement(x,null,u.a.createElement(m,Object(r.a)({},_,((e={})["string"===typeof m?"ref":"innerRef"]=this.containerRef,e),{onKeyDown:this.handleKeyDown,className:b}))))},e}(u.a.Component);S.propTypes=C,S.defaultProps={isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1,setActiveFromChild:!1};e.a=S}]]);
//# sourceMappingURL=2.d1a56b02.chunk.js.map